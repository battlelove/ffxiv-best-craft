{"version":3,"file":"Gearsets-Brz3E167.js","sources":["../../src/pages/Gearsets.vue"],"sourcesContent":["<!-- \n    This file is part of BestCraft.\n    Copyright (C) 2025  Tnze\n\n    BestCraft is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Affero General Public License as published\n    by the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    BestCraft is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Affero General Public License for more details.\n\n    You should have received a copy of the GNU Affero General Public License\n    along with this program.  If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<script setup lang=\"ts\">\nimport {\n    ElScrollbar,\n    ElTabs,\n    ElTabPane,\n    TabPaneName,\n    ElMessage,\n} from 'element-plus';\nimport { onActivated, ref } from 'vue';\nimport useGearsetsStore from '@/stores/gearsets';\nimport { useFluent } from 'fluent-vue';\nimport Gearset from '@/components/Gearset.vue';\nimport { choiceGearsetDisplayName } from '@/libs/Gearsets';\n\nconst emit = defineEmits<{\n    (e: 'setTitle', title: string): void;\n}>();\nconst { $t } = useFluent();\n\nonActivated(() => emit('setTitle', 'attributes'));\nconst store = useGearsetsStore();\nconst jobPage = ref(0);\n\nfunction handleGearsetsEdit(\n    target: TabPaneName | undefined,\n    action: 'remove' | 'add',\n) {\n    if (action === 'add') {\n        store.addGearset();\n        return;\n    }\n    if (action === 'remove') {\n        if (target == 0) {\n            ElMessage({\n                type: 'error',\n                message: $t('cannot-remove-default-gearsets'),\n            });\n            return;\n        }\n        store.delGearset(target as number);\n        if (jobPage.value === target) {\n            // always works because 0 cannot be removed\n            jobPage.value = target - 1;\n        }\n        return;\n    }\n}\n</script>\n\n<template>\n    <el-scrollbar>\n        <el-tabs\n            class=\"page\"\n            v-model=\"jobPage\"\n            tab-position=\"left\"\n            editable\n            @edit=\"handleGearsetsEdit\"\n        >\n            <el-tab-pane\n                v-for=\"(v, i) in store.gearsets\"\n                :name=\"v.id\"\n                :label=\"choiceGearsetDisplayName(v)\"\n                lazy\n            >\n                <Gearset :index=\"i\" :id=\"v.id\" />\n            </el-tab-pane>\n        </el-tabs>\n    </el-scrollbar>\n</template>\n\n<style scoped>\n.el-tabs {\n    user-select: none;\n}\n\n.page {\n    padding: 20px 0 0 0;\n    background-color: transparent !important;\n}\n\n.el-form {\n    max-width: 700px;\n    margin-left: 20px;\n}\n</style>\n\n<fluent locale=\"zh-CN\">\ncannot-remove-default-gearsets = 不能删除默认配装\n</fluent>\n\n<fluent locale=\"zh-TW\">\ncannot-remove-default-gearsets = 不能刪除預設配裝\n</fluent>\n\n<fluent locale=\"en-US\">\ncannot-remove-default-gearsets = Can't remove default gearsets\n</fluent>\n\n<fluent locale=\"ja-JP\">\ncannot-remove-default-gearsets = デフォルトギアセットを削除できません\n</fluent>\n"],"names":["emit","__emit","$t","useFluent","onActivated","store","useGearsetsStore","jobPage","ref","handleGearsetsEdit","target","action","ElMessage","_createBlock","_unref","ElScrollbar","_createVNode","ElTabs","$event","_openBlock","_createElementBlock","_Fragment","v","i","ElTabPane","choiceGearsetDisplayName","Gearset"],"mappings":"64BAgCA,MAAMA,EAAOC,EAGP,CAAE,GAAAC,CAAA,EAAOC,EAAA,EAEfC,EAAY,IAAMJ,EAAK,WAAY,YAAY,CAAC,EAChD,MAAMK,EAAQC,EAAA,EACRC,EAAUC,EAAI,CAAC,EAErB,SAASC,EACLC,EACAC,EACF,CACE,GAAIA,IAAW,MAAO,CAClBN,EAAM,WAAA,EACN,MACJ,CACA,GAAIM,IAAW,SAAU,CACrB,GAAID,GAAU,EAAG,CACbE,EAAU,CACN,KAAM,QACN,QAASV,EAAG,gCAAgC,CAAA,CAC/C,EACD,MACJ,CACAG,EAAM,WAAWK,CAAgB,EAC7BH,EAAQ,QAAUG,IAElBH,EAAQ,MAAQG,EAAS,GAE7B,MACJ,CACJ,mBAIIG,EAiBeC,EAAAC,CAAA,EAAA,KAAA,WAhBX,IAeU,CAfVC,EAeUF,EAAAG,CAAA,EAAA,CAdN,MAAM,kBACGV,EAAA,2CAAAA,EAAO,MAAAW,GAChB,eAAa,OACb,SAAA,GACC,OAAMT,CAAA,aAGH,IAAgC,EADpCU,EAAA,EAAA,EAAAC,EAOcC,SANOP,EAAAT,CAAA,EAAM,SAAQ,CAAvBiB,EAAGC,SADfV,EAOcC,EAAAU,CAAA,EAAA,CALT,KAAMF,EAAE,GACR,MAAOR,EAAAW,CAAA,EAAyBH,CAAC,EAClC,KAAA,EAAA,aAEA,IAAiC,CAAjCN,EAAiCU,EAAA,CAAvB,MAAOH,EAAI,GAAID,EAAE,EAAA"}