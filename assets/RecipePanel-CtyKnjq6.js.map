{"version":3,"file":"RecipePanel-CtyKnjq6.js","sources":["../../src/components/recipe-manager/ConfirmDialog.vue","../../src/components/recipe-manager/RecipePanel.vue"],"sourcesContent":["<!-- \n    This file is part of BestCraft.\n    Copyright (C) 2025  Tnze\n\n    BestCraft is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Affero General Public License as published\n    by the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    BestCraft is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Affero General Public License for more details.\n\n    You should have received a copy of the GNU Affero General Public License\n    along with this program.  If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<script setup lang=\"ts\">\nimport {\n    ElDialog,\n    ElDescriptions,\n    ElDescriptionsItem,\n    ElButton,\n    ElInputNumber,\n    ElAlert,\n    ElTag,\n} from 'element-plus';\nimport {\n    CollectablesShopRefine,\n    Conditions,\n    Item,\n    newRecipe,\n    Recipe,\n    RecipeInfo,\n} from '@/libs/Craft';\nimport { selectRecipe } from './common';\nimport { useMediaQuery } from '@vueuse/core';\nimport { useRouter } from 'vue-router';\nimport { computed, onWatcherCleanup, ref, watch } from 'vue';\nimport useSettingStore from '@/stores/settings';\nimport { useFluent } from 'fluent-vue';\nimport Condition from '../designer/Condition.vue';\n\nconst props = defineProps<{\n    recipeInfo: RecipeInfo;\n    itemInfo: Item;\n    collectability?: CollectablesShopRefine;\n    isNormalRecipe: boolean;\n}>();\nconst router = useRouter();\nconst { $t } = useFluent();\nconst settingsStore = useSettingStore();\nconst visible = defineModel<boolean>({ required: true });\nconst rawRecipe = defineModel<Recipe>('recipe', { required: true });\nconst compactLayout = useMediaQuery('screen and (max-width: 500px)');\n\nconst dynRecipeLevel = ref<number>();\nconst isDynRecipe = computed(() => {\n    // 宇宙探索A级以下配方存在等级同步规则\n    const notebook = props.recipeInfo.recipe_notebook_list;\n    return notebook >= 1496 && notebook <= 1503 && props.recipeInfo.rlv == 690;\n});\nconst dynRecipeLoading = ref(false);\nconst dynRecipe = ref<Recipe>();\nconst recipe = computed(() =>\n    isDynRecipe.value && dynRecipe.value != undefined\n        ? dynRecipe.value\n        : rawRecipe.value,\n);\n\nasync function loadDynRecipe(\n    isDynRecipe: boolean,\n    dynRecipeLevel: number | undefined,\n    recipeInfo: RecipeInfo,\n    abortSignal: AbortSignal,\n): Promise<Recipe | undefined> {\n    if (!isDynRecipe || dynRecipeLevel == undefined) {\n        return undefined;\n    }\n    const ds = await settingsStore.getDataSource();\n    const recipeLevel = await ds.recipeLevelTablebyJobLevel!(dynRecipeLevel);\n    if (recipeLevel == null) {\n        return undefined;\n    }\n\n    abortSignal.throwIfAborted();\n\n    return await newRecipe(\n        recipeLevel,\n        recipeInfo.difficulty_factor,\n        recipeInfo.quality_factor,\n        recipeInfo.durability_factor,\n    );\n}\n\nwatch(\n    [isDynRecipe, dynRecipeLevel, () => props.recipeInfo],\n    async ([isDynRecipe, dynRecipeLevel, recipeInfo]) => {\n        try {\n            dynRecipeLoading.value = true;\n            let cancel = new AbortController();\n            onWatcherCleanup(() => cancel.abort('watcher is cleanup'));\n            dynRecipe.value = await loadDynRecipe(\n                isDynRecipe,\n                dynRecipeLevel,\n                recipeInfo,\n                cancel.signal,\n            );\n        } finally {\n            dynRecipeLoading.value = false;\n        }\n    },\n);\n\nasync function confirm(mode: 'simulator' | 'designer') {\n    const itemInfo = { ...props.itemInfo };\n    if (isDynRecipe.value && dynRecipeLevel.value != undefined) {\n        itemInfo.name = $t('sync-level-item-name', {\n            itemName: itemInfo.name,\n            syncLevel: dynRecipeLevel.value,\n        });\n    }\n    selectRecipe(\n        recipe.value,\n        props.recipeInfo.id,\n        props.recipeInfo.material_quality_factor,\n        props.recipeInfo,\n        props.collectability,\n        itemInfo,\n        props.recipeInfo.job,\n        mode == 'simulator',\n    );\n    router.push({ name: 'designer' });\n    visible.value = false;\n}\n</script>\n\n<template>\n    <el-dialog\n        v-model=\"visible\"\n        :title=\"$t('please-confirm')\"\n        :align-center=\"true\"\n        :width=\"compactLayout ? '90%' : '70%'\"\n    >\n        <template v-if=\"isDynRecipe\">\n            <el-alert\n                :title=\"$t('alert-sync-level')\"\n                :type=\"dynRecipe != undefined ? 'success' : 'error'\"\n                :closable=\"false\"\n            />\n            <br />\n        </template>\n        <el-descriptions loading=\"true\" :border=\"true\">\n            <el-descriptions-item\n                v-if=\"isDynRecipe\"\n                :label=\"$t('sync-level')\"\n                :span=\"3\"\n            >\n                <el-input-number\n                    style=\"margin-left: 14px\"\n                    v-model=\"dynRecipeLevel\"\n                    :min=\"1\"\n                />\n            </el-descriptions-item>\n\n            <!-- Item Info -->\n            <el-descriptions-item :label=\"$t('item-info')\" :span=\"3\">\n                {{ recipeInfo.item_name }}\n                <template v-if=\"recipeInfo.item_amount\">\n                    × {{ recipeInfo.item_amount }}\n                </template>\n            </el-descriptions-item>\n\n            <!-- Recipe Data -->\n            <el-descriptions-item :label=\"$t('recipe-id')\">\n                {{ recipeInfo.id }}\n            </el-descriptions-item>\n            <el-descriptions-item :label=\"$t('recipe-level')\">\n                {{ recipe.rlv.id }}\n            </el-descriptions-item>\n            <el-descriptions-item :label=\"$t('level')\">\n                {{ recipe.job_level }}\n            </el-descriptions-item>\n            <el-descriptions-item :label=\"$t('difficulty')\">\n                {{ recipe.difficulty }}\n            </el-descriptions-item>\n            <el-descriptions-item :label=\"$t('quality')\">\n                {{ recipe.quality }}\n            </el-descriptions-item>\n            <el-descriptions-item :label=\"$t('durability')\">\n                {{ recipe.durability }}\n            </el-descriptions-item>\n            <el-descriptions-item :label=\"$t('conditions')\" :span=\"3\">\n                <div class=\"conditions-list\">\n                    <template v-for=\"(cond, i) in Object.values(Conditions)\">\n                        <el-tag\n                            v-if=\"recipe.conditions_flag & (1 << i)\"\n                            type=\"info\"\n                        >\n                            <Condition :cond=\"cond\" />\n                        </el-tag>\n                    </template>\n                </div>\n            </el-descriptions-item>\n\n            <!-- Recipe Info -->\n            <el-descriptions-item :label=\"$t('difficulty-factor')\">\n                {{ recipeInfo.difficulty_factor }}\n            </el-descriptions-item>\n            <el-descriptions-item :label=\"$t('quality-factor')\">\n                {{ recipeInfo.quality_factor }}\n            </el-descriptions-item>\n            <el-descriptions-item :label=\"$t('durability-factor')\">\n                {{ recipeInfo.durability_factor }}\n            </el-descriptions-item>\n            <el-descriptions-item :label=\"$t('type')\">\n                {{ recipeInfo.job }}\n            </el-descriptions-item>\n            <el-descriptions-item :label=\"$t('material-quality-factor')\">\n                {{ recipeInfo.material_quality_factor }}\n            </el-descriptions-item>\n            <el-descriptions-item :label=\"$t('can-hq')\">\n                {{ $t(String(recipeInfo.can_hq)) }}\n            </el-descriptions-item>\n            <el-descriptions-item :label=\"$t('required-craftsmanship')\">\n                {{ recipeInfo.required_craftsmanship }}\n            </el-descriptions-item>\n            <el-descriptions-item :label=\"$t('required-control')\">\n                {{ recipeInfo.required_control }}\n            </el-descriptions-item>\n        </el-descriptions>\n        <div class=\"notice\">\n            {{\n                isNormalRecipe\n                    ? $t('confirm-select', { itemName: recipeInfo.item_name })\n                    : $t('confirm-select2')\n            }}\n        </div>\n        <template #footer>\n            <span class=\"footer\">\n                <el-button @click=\"visible = false\">\n                    {{ $t('cancel') }}\n                </el-button>\n                <el-button\n                    v-if=\"!isNormalRecipe\"\n                    type=\"primary\"\n                    @click=\"confirm('simulator')\"\n                >\n                    {{ $t('simulator-mode') }}\n                </el-button>\n                <el-button\n                    type=\"primary\"\n                    :loading=\"dynRecipeLoading\"\n                    :disabled=\"isDynRecipe && dynRecipe == undefined\"\n                    @click=\"confirm('designer')\"\n                >\n                    {{ $t(isNormalRecipe ? 'confirm' : 'designer-mode') }}\n                </el-button>\n            </span>\n        </template>\n    </el-dialog>\n</template>\n\n<style scoped>\n.conditions-list {\n    display: flex;\n    gap: 5px;\n    flex-wrap: wrap;\n}\n\n.notice {\n    margin: 15px 0;\n}\n</style>\n\n<fluent locale=\"zh-CN\">\nconfirm-select = 开始制作“{ $itemName }”吗？\nconfirm-select2 = 这是一个高难度配方，请选择模式。\nalert-sync-level = 这是一个等级同步配方，请输入同步等级\nplease-confirm = 请确认\n\ncancel = 取消\nconfirm = 确认\ndesigner-mode = 普通模式\nsimulator-mode = 高难模式\nsync-level-item-name = { $itemName }（等级同步：{ $syncLevel }）\n\nsync-level = 等级同步\ntype = 制作类型\nlevel = 等级\nrecipe-id = 配方编号\nitem-info = 物品信息\n\ntrue = 是\nfalse = 否\ncan-hq = 存在HQ\n\nrequired-craftsmanship = 最低{ craftsmanship }\nrequired-control = 最低{ control }\n</fluent>\n\n<fluent locale=\"zh-TW\">\nconfirm-select = 開始製作“{ $itemName }”嗎？\nconfirm-select2 = 這是一個高難度配方，請選擇模式。\nalert-sync-level = 這是一個等級同步配方，請輸入同步等級\nplease-confirm = 請確認\n\ncancel = 取消\nconfirm = 確認\ndesigner-mode = 普通模式\nsimulator-mode = 高難模式\nsync-level-item-name = { $itemName }（等級同步：{ $syncLevel }）\n\nsync-level = 等級同步\ntype = 製作職業\nlevel = 等級\nrecipe-id = 配方編號\nitem-info = 物品資訊\n\ntrue = 是\nfalse = 否\ncan-hq = 存在HQ\n\nrequired-craftsmanship = 最低{ craftsmanship }\nrequired-control = 最低{ control }\n</fluent>\n\n<fluent locale=\"en-US\">\nconfirm-select = Start crafting \"{ $itemName }\"?\nconfirm-select2 = This is a hard recipe. Please make a choice.\nplease-confirm = Please confirm\n\ncancel = Cancel\nconfirm = Confirm\ndesigner-mode = Normal Mode\nsimulator-mode = Simulator Mode\nsync-level-item-name = { $itemName } (Lv. { $syncLevel })\n\ntype = Crafting Type\nlevel = Level\nrecipe-id = Recipe ID\nitem-info = Item info\nconditions = Conditions\ntrue = True\nfalse = False\ncan-hq = Can be HQ\nrequired-craftsmanship = Required { craftsmanship }\nrequired-control = Required { control }\n</fluent>\n","<!-- \n    This file is part of BestCraft.\n    Copyright (C) 2025  Tnze\n\n    BestCraft is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Affero General Public License as published\n    by the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    BestCraft is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Affero General Public License for more details.\n\n    You should have received a copy of the GNU Affero General Public License\n    along with this program.  If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<script setup lang=\"ts\">\nimport {\n    ref,\n    reactive,\n    watch,\n    onMounted,\n    onActivated,\n    computed,\n    watchEffect,\n} from 'vue';\nimport {\n    ElInput,\n    ElButton,\n    ElTable,\n    ElTableColumn,\n    ElPagination,\n    ElMessage,\n    ElForm,\n    ElFormItem,\n    ElSelect,\n    ElOption,\n    ElInputNumber,\n} from 'element-plus';\nimport { EditPen } from '@element-plus/icons-vue';\nimport {\n    CollectablesShopRefine,\n    Item,\n    newRecipe,\n    Recipe,\n    RecipeInfo,\n} from '@/libs/Craft';\nimport { useRouter } from 'vue-router';\nimport { useFluent } from 'fluent-vue';\nimport {\n    CraftType,\n    DataSource,\n    DataSourceType,\n    RecipesSourceResult,\n} from '@/datasource/source';\nimport useSettingsStore from '@/stores/settings';\nimport { useMediaQuery } from '@vueuse/core';\nimport ConfirmDialog from './ConfirmDialog.vue';\n\nconst emit = defineEmits<{\n    (e: 'setTitle', title: string): void;\n}>();\nonActivated(() => emit('setTitle', 'select-recipe'));\n\nconst searchingDelayMs = 200;\nconst settingStore = useSettingsStore();\nconst router = useRouter();\nconst { $t } = useFluent();\n\nconst searchText = ref('');\nconst pagination = reactive({\n    Page: 1,\n    PageTotal: 1,\n});\nconst infiniteRecipeNext = ref<() => Promise<RecipesSourceResult>>();\nconst displayTable = ref<RecipeInfo[]>([]);\nconst isRecipeTableLoading = ref(false);\nconst compactLayout = useMediaQuery('screen and (max-width: 500px)');\nconst filterCraftType = ref<number>();\nconst filterLevel = ref<number>();\nconst craftTypeOptions = ref<CraftType[]>([]);\nconst filterRecipeLevel = ref<number>();\n\nasync function craftTypeRemoteMethod() {\n    const source = await settingStore.getDataSource();\n    filterCraftType.value = undefined;\n    craftTypeOptions.value = await source.craftTypeList();\n}\n\nlet loadRecipeTableResult: Promise<{\n    results: RecipeInfo[];\n    totalPages: number;\n}> | null = null;\nasync function updateRecipePage(\n    dataSource: DataSource,\n    pageNumber: number,\n    searching: string,\n) {\n    // 对于已有缓存的加载会很快，只有较慢的情况才需要显示Loading\n    let timer = setTimeout(() => (isRecipeTableLoading.value = true), 200);\n    try {\n        let promise = dataSource.recipeTable(\n            pageNumber,\n            searching,\n            filterRecipeLevel.value,\n            filterCraftType.value,\n            filterLevel.value ? filterLevel.value * 10 - 9 : undefined,\n            filterLevel.value ? filterLevel.value * 10 : undefined,\n        );\n        loadRecipeTableResult = promise;\n        let { results, totalPages, next } = await promise;\n        if (loadRecipeTableResult == promise) {\n            displayTable.value = results;\n            pagination.PageTotal = totalPages;\n            loadRecipeTableResult = null;\n            infiniteRecipeNext.value = next;\n        }\n    } catch (e: any) {\n        ElMessage.error(String(e));\n    } finally {\n        clearTimeout(timer);\n        isRecipeTableLoading.value = false;\n    }\n}\n\nasync function infiniteRecipeLoad() {\n    if (infiniteRecipeNext.value == undefined) {\n        return;\n    }\n    let timer = setTimeout(() => (isRecipeTableLoading.value = true), 20);\n    try {\n        const promise = infiniteRecipeNext.value();\n        loadRecipeTableResult = promise;\n        let { results, totalPages, next } = await promise;\n        if (loadRecipeTableResult == promise) {\n            displayTable.value = displayTable.value.concat(results);\n            pagination.PageTotal = totalPages;\n            loadRecipeTableResult = null;\n            infiniteRecipeNext.value = next;\n        }\n    } catch (e: any) {\n        ElMessage.error(String(e));\n    } finally {\n        clearTimeout(timer);\n        isRecipeTableLoading.value = false;\n    }\n}\n\n// 搜索时更新\nlet searchTimer: any = null;\nwatch(searchText, async searching => {\n    const source = await settingStore.getDataSource();\n    if (searchTimer != null) {\n        clearTimeout(searchTimer);\n    }\n    switch (source.sourceType) {\n        case DataSourceType.Realtime:\n            updateRecipePage(source, pagination.Page, searching);\n            break;\n        case DataSourceType.RemoteRealtime:\n            searchTimer = setTimeout(() => {\n                pagination.Page = 1; // 触发搜索时应该翻回第一页，否则搜不到东西\n                updateRecipePage(source, pagination.Page, searching);\n                searchTimer = null;\n            }, searchingDelayMs);\n            break;\n    }\n});\n\n// 翻页时更新\nwatch(\n    () => pagination.Page,\n    async pageNumber => {\n        const source = await settingStore.getDataSource();\n        await updateRecipePage(source, pageNumber, searchText.value);\n    },\n);\n\n// 回车手动更新\nasync function triggerSearch() {\n    const source = await settingStore.getDataSource();\n    const pageNumber = pagination.Page;\n    const searching = searchText.value;\n    pagination.Page = 1; // 触发搜索时应该翻回第一页，否则搜不到东西\n    await updateRecipePage(source, pageNumber, searching);\n}\n\n// 页面载入后更新\nonMounted(async () => {\n    triggerSearch();\n    craftTypeRemoteMethod();\n});\n\n// 数据源切换时更新\nwatch(\n    () => [settingStore.dataSource, settingStore.dataSourceLang],\n    () => {\n        triggerSearch();\n        craftTypeRemoteMethod();\n    },\n);\n\n// 接受跳转参数\nwatchEffect(() => {\n    const recipeId = router.currentRoute.value.query.recipeId;\n    if (recipeId !== undefined) {\n        selectRecipeById(Number(recipeId));\n    }\n});\n\nconst confirmDialogVisible = ref(false);\nconst recipe = ref<Recipe>();\nconst recipeInfo = ref<RecipeInfo>();\nconst itemInfo = ref<Item>();\nconst collectability = ref<CollectablesShopRefine>();\nconst isNormalRecipe = computed(() => recipe.value?.conditions_flag === 15);\n\nasync function selectRecipeRow(row: RecipeInfo) {\n    try {\n        isRecipeTableLoading.value = true;\n        const source = await settingStore.getDataSource();\n        var [recipeLevel, itemInfoTmp, collectabilityTmp] = await Promise.all([\n            source.recipeLevelTable(row.rlv),\n            source.itemInfo(row.item_id),\n            (async () => {\n                if (source.recipeCollectableShopRefine == undefined) {\n                    return undefined;\n                }\n                try {\n                    return await source.recipeCollectableShopRefine(row.id);\n                } catch (e: any) {\n                    console.error('Failed to fatch recipe collectability', e);\n                    return undefined; // in case the server doesn't support or any other situation;\n                }\n            })(),\n        ]);\n    } catch (e: any) {\n        ElMessage.error(String(e));\n        return;\n    } finally {\n        isRecipeTableLoading.value = false;\n    }\n    recipe.value = await newRecipe(\n        recipeLevel,\n        row.difficulty_factor,\n        row.quality_factor,\n        row.durability_factor,\n    );\n    recipeInfo.value = row;\n    itemInfo.value = itemInfoTmp;\n    collectability.value = collectabilityTmp;\n    confirmDialogVisible.value = true;\n}\n\nasync function selectRecipeById(recipeId: number) {\n    const source = await settingStore.getDataSource();\n    if (source.recipeInfo == undefined) {\n        ElMessage.error($t('datasource-unsupport-recipe-info'));\n        return;\n    }\n    try {\n        isRecipeTableLoading.value = true;\n        var recipeInfo = await source.recipeInfo(recipeId);\n        // isRecipeTableLoading.value = false; // Done by selectRecipeRow()\n    } catch (e: any) {\n        ElMessage.error($t('select-recipe-by-id-error', { err: String(e) }));\n        isRecipeTableLoading.value = false;\n        return;\n    }\n    await selectRecipeRow(recipeInfo);\n}\n</script>\n\n<template>\n    <div class=\"container\">\n        <ConfirmDialog\n            v-if=\"recipe && recipeInfo && itemInfo\"\n            v-model=\"confirmDialogVisible\"\n            v-model:recipe=\"recipe\"\n            :recipe-info=\"recipeInfo\"\n            :item-info=\"itemInfo\"\n            :collectability=\"collectability\"\n            :is-normal-recipe=\"isNormalRecipe\"\n        />\n        <el-input\n            v-model=\"searchText\"\n            @keydown.enter=\"triggerSearch\"\n            class=\"search-input\"\n            :placeholder=\"$t('search')\"\n            clearable\n        >\n            <template #append>\n                <el-button\n                    :icon=\"EditPen\"\n                    @click=\"router.push('/recipe/customize')\"\n                >\n                    {{ $t('custom-recipe') }}\n                </el-button>\n            </template>\n        </el-input>\n        <el-form :inline=\"true\">\n            <el-form-item :label=\"$t('craft-type')\">\n                <el-select\n                    v-model=\"filterCraftType\"\n                    clearable\n                    :remote-method=\"craftTypeRemoteMethod\"\n                    style=\"width: 180px\"\n                    @change=\"triggerSearch\"\n                >\n                    <el-option\n                        v-for=\"{ id, name } in craftTypeOptions\"\n                        :key=\"id\"\n                        :value=\"id\"\n                        :label=\"name\"\n                    />\n                </el-select>\n            </el-form-item>\n            <el-form-item :label=\"$t('level')\">\n                <el-select\n                    v-model=\"filterLevel\"\n                    style=\"width: 100px\"\n                    @change=\"triggerSearch\"\n                    clearable\n                >\n                    <el-option\n                        v-for=\"i in 10\"\n                        :key=\"i\"\n                        :value=\"i\"\n                        :label=\"`${i * 10 - 9} ~ ${i * 10}`\"\n                    />\n                </el-select>\n            </el-form-item>\n            <el-form-item :label=\"$t('recipe-level')\">\n                <el-input-number\n                    v-model=\"filterRecipeLevel\"\n                    style=\"width: 100px\"\n                    clearable\n                    :min=\"1\"\n                    :max=\"799\"\n                    :step=\"1\"\n                    step-strictly\n                    :controls=\"false\"\n                    @change=\"triggerSearch\"\n                />\n            </el-form-item>\n        </el-form>\n        <el-table\n            v-tnze-loading=\"isRecipeTableLoading\"\n            :element-loading-text=\"$t('please-wait')\"\n            highlight-current-row\n            @row-click=\"selectRecipeRow\"\n            :data=\"displayTable\"\n            height=\"100%\"\n            style=\"width: 100%\"\n            v-el-table-infinite-scroll=\"infiniteRecipeLoad\"\n            :infinite-scroll-disabled=\"infiniteRecipeNext == undefined\"\n            :infinite-scroll-immediate=\"false\"\n            :infinite-scroll-distance=\"100\"\n        >\n            <el-table-column\n                prop=\"id\"\n                label=\"ID\"\n                :width=\"compactLayout ? undefined : 100\"\n            />\n            <el-table-column\n                prop=\"rlv\"\n                :label=\"$t('recipe-level')\"\n                :width=\"compactLayout ? undefined : 100\"\n            />\n            <el-table-column\n                prop=\"job\"\n                :label=\"$t('type')\"\n                :width=\"compactLayout ? undefined : 200\"\n            />\n            <el-table-column prop=\"item_name\" :label=\"$t('name')\" />\n        </el-table>\n        <el-pagination\n            v-if=\"pagination.PageTotal > 1\"\n            layout=\"prev, pager, next\"\n            v-model:current-page=\"pagination.Page\"\n            :page-count=\"pagination.PageTotal\"\n        />\n    </div>\n</template>\n\n<style scoped>\n.container {\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    background-color: transparent !important;\n}\n\n.search-input {\n    margin: 10px 0;\n    width: 80%;\n}\n\n.el-table {\n    user-select: none;\n    border-top-left-radius: var(--tnze-content-raduis);\n    --el-table-header-bg-color: transparent;\n    --el-table-tr-bg-color: transparent;\n}\n\n.el-pagination {\n    justify-content: center;\n    /* margin-bottom: 10px; */\n}\n</style>\n\n<fluent locale=\"zh-CN\">\ndatasource-unsupport-recipe-info = 当前数据源不支持从外部选择配方\nselect-recipe-by-id-error = 获取配方信息失败：{ $err }，请尝试切换数据源\n\nsearch = 键入以搜索\nplease-wait = 请稍等...\n\ntype = 类型\ncraft-type = 制作类型\nlevel = 等级\nname = 名称\ncan-hq = 存在HQ\n</fluent>\n\n<fluent locale=\"zh-TW\">\ndatasource-unsupport-recipe-info = 當前資料來源不支援從外部選擇配方\nselect-recipe-by-id-error = 獲取配方資訊失敗：{ $err }，請嘗試切換資料來源\n\nsearch = 鍵入以搜尋\nplease-wait = 請稍等...\n\ntype = 職業\ncraft-type = 製作職業\nlevel = 等級\nname = 名稱\ncan-hq = 存在HQ\n</fluent>\n\n<fluent locale=\"en-US\">\ndatasource-unsupport-recipe-info = Current data-source doesn't support choice recipe from external pages\nselect-recipe-by-id-error = Error fetching recipe data: { $err }. Please try choosing another DataSource\n\nsearch = Search\nplease-wait = Please wait...\n\ntype = Type\ncraft-type = Craft Type\nlevel = Level\nname = Name\ncan-hq = Can HQ\n</fluent>\n"],"names":["props","__props","router","useRouter","$t","useFluent","settingsStore","useSettingStore","visible","_useModel","rawRecipe","compactLayout","useMediaQuery","dynRecipeLevel","ref","isDynRecipe","computed","notebook","dynRecipeLoading","dynRecipe","recipe","loadDynRecipe","recipeInfo","abortSignal","recipeLevel","newRecipe","watch","cancel","onWatcherCleanup","confirm","mode","itemInfo","selectRecipe","_createBlock","_unref","ElDialog","$event","_createElementVNode","_hoisted_3","_createVNode","ElButton","_createTextVNode","_toDisplayString","_createElementBlock","_Fragment","ElAlert","ElDescriptions","ElDescriptionsItem","ElInputNumber","_hoisted_1","_renderList","Conditions","cond","i","ElTag","Condition","_hoisted_2","searchingDelayMs","emit","__emit","onActivated","settingStore","useSettingsStore","searchText","pagination","reactive","infiniteRecipeNext","displayTable","isRecipeTableLoading","filterCraftType","filterLevel","craftTypeOptions","filterRecipeLevel","craftTypeRemoteMethod","source","loadRecipeTableResult","updateRecipePage","dataSource","pageNumber","searching","timer","promise","results","totalPages","next","e","ElMessage","infiniteRecipeLoad","searchTimer","DataSourceType","triggerSearch","onMounted","watchEffect","recipeId","selectRecipeById","confirmDialogVisible","collectability","isNormalRecipe","selectRecipeRow","row","itemInfoTmp","collectabilityTmp","_openBlock","ConfirmDialog","ElInput","EditPen","_cache","ElForm","ElFormItem","ElSelect","id","name","ElOption","ElTable","ElTableColumn","ElPagination"],"mappings":"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"}