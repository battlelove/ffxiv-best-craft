{"version":3,"mappings":"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","names":["drawerProps","buildProps","dialogProps","drawerEmits","dialogEmits","evt","size","useResizable","props","target","emit","width","height","useWindowSize","isHorizontal","computed","sign","windowSize","getSize","clamp","startSize","offset","ref","isResizing","hasStartedDragging","startPos","cleanups","getActualSize","_a","drawerEl","watch","onMouseUp","onMousedown","e","useEventListener","onMouseMove","pageX","pageY","offsetX","offsetY","cleanup2","cleanup","onBeforeUnmount","addUnit","__default__","defineComponent","_sfc_main","__props","expose","slots","useSlots","useDeprecated","drawerRef","focusStartRef","draggerRef","ns","useNamespace","t","useLocale","afterEnter","afterLeave","beforeLeave","visible","rendered","titleId","bodyId","zIndex","onModalClick","onOpenAutoFocus","onCloseAutoFocus","onFocusoutPrevented","onCloseRequested","handleClose","useDialog","penetrable","_ctx","_cache","openBlock","createBlock","unref","ElTeleport","withCtx","createVNode","Transition","withDirectives","ElOverlay","ElFocusTrap","createElementVNode","mergeProps","withModifiers","normalizeClass","createElementBlock","renderSlot","createCommentVNode","toDisplayString","ElIcon","Close","normalizeStyle","vShow","Drawer","_export_sfc","ElDrawer","withInstall","_sfc_render","$props","$setup","$data","$options","Collection","CollectionItem","COLLECTION_ITEM_SIGN","createCollectionWithScope","name","COLLECTION_NAME","COLLECTION_ITEM_NAME","COLLECTION_INJECTION_KEY","COLLECTION_ITEM_INJECTION_KEY","ElCollection","collectionRef","itemMap","provide","collectionEl","orderedNodes","a","ElCollectionItem","_","attrs","collectionItemRef","collectionInjection","inject","onMounted","collectionItemEl","rovingFocusGroupProps","definePropType","ROVING_FOCUS_GROUP_INJECTION_KEY","ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY","MAP_KEY_TO_FOCUS_INTENT","getDirectionAwareKey","key","dir","getFocusIntent","event","orientation","code","getEventCode","reorderArray","array","atIdx","idx","focusFirst","elements","prevActive","element","CURRENT_TAB_ID_CHANGE_EVT","ENTRY_FOCUS_EVT","EVT_OPTS","currentTabbedId","isBackingOut","isClickFocus","rovingFocusGroupRef","getItems","rovingFocusGroupRootStyle","onItemFocus","tabbedId","onItemShiftTab","composeEventHandlers","_a2","onFocus","isKeyboardFocus","currentTarget","entryFocusEvt","items","item","activeItem","currentItem","candidateNodes","onBlur","handleEntryFocus","args","onKeydown","focusIntent","currentIdx","nextTick","readonly","toRef","val","ElRovingFocusGroupImpl","_component_el_roving_focus_group_impl","resolveComponent","_component_el_focus_group_collection","normalizeProps","guardReactiveProps","ElRovingFocusGroup","DROPDOWN_INJECTION_KEY","DROPDOWN_INSTANCE_INJECTION_KEY","ElButtonGroup","ElButton","ElScrollbar","ElTooltip","OnlyChild","ArrowDown","dropdownProps","_instance","getCurrentInstance","triggeringElementRef","referenceElementRef","popperRef","contentRef","scrollbar","currentTabId","isUsingKeyboard","wrapStyle","dropdownTriggerKls","dropdownSize","trigger","castArray","defaultTriggerId","useId","triggerId","handleClick","handleOpen","useFormSize","commandHandler","onItemEnter","onItemLeave","contentEl","handleCurrentTabIdChange","id","handleBeforeShowTooltip","handleShowTooltip","handleBeforeHideTooltip","_component_el_roving_focus_group","_component_el_scrollbar","_component_el_only_child","_component_el_tooltip","_component_el_button","_component_arrow_down","_component_el_icon","_component_el_button_group","createSlots","Dropdown","rovingFocusGroupItemRef","handleMousedown","handleFocus","handleKeydown","shiftKey","EVENT_CODE","isCurrentTab","_component_el_roving_focus_collection_item","ElRovingFocusItem","dropdownItemProps","menuRole","rovingFocusCollectionItemRef","tabIndex","handleItemKeydown","itemRef","composeRefs","role","Fragment","resolveDynamicComponent","ElDropdownItemImpl","useDropdown","elDropdown","_elDropdownSize","handlePointerMove","whenMouse","handlePointerLeave","_b","_c","propsAndAttrs","_component_el_dropdown_item_impl","_component_el_roving_focus_item","DropdownItem","dropdownMenuProps","rovingFocusGroupCollectionRef","dropdownKls","dropdownListWrapperRef","DropdownMenu","ElDropdown","ElDropdownItem","withNoopInstall","ElDropdownMenu","sliderContextKey","sliderProps","useSizeProp","placements","useAriaProps","isValidValue","value","isNumber","isArray","sliderEmits","UPDATE_MODEL_EVENT","INPUT_EVENT","CHANGE_EVENT","sliderButtonProps","sliderButtonEmits","useTooltip","formatTooltip","showTooltip","tooltip","tooltipVisible","enableFormat","formatValue","displayTooltip","debounce","hideTooltip","useSliderButton","initData","disabled","min","max","step","persistent","precision","sliderSize","emitChange","resetSize","updateDragging","button","currentPosition","wrapperStyle","handleMouseEnter","handleMouseLeave","onButtonDown","onDragStart","onDragging","onDragEnd","incrementPosition","amount","setPosition","onLeftKeyDown","onRightKeyDown","onPageDownKeyDown","onPageUpKeyDown","onHomeKeyDown","onEndKeyDown","onKeyDown","isPreventDefault","getClientXY","clientX","clientY","diff","newPosition","fullSteps","fullRangePercentage","threshold","valueBetween","steps","reactive","tooltipPersistent","hovering","dragging","toRefs","SliderButton","sliderMarkerProps","SliderMarker","label","isString","style","h","useSlide","elForm","elFormItem","useFormItem","slider","shallowRef","firstButton","secondButton","buttonRefs","sliderDisabled","minValue","maxValue","barSize","barStart","runwayStyle","barStyle","rect","getButtonRefByPercent","percent","targetValue","buttonRefName","buttonRef","setFirstValue","firstValue","_emit","setSecondValue","secondValue","handleSliderPointerEvent","_d","_e","_f","newPercent","sliderOffsetLeft","position","useStops","stopCount","stepWidth","result","index","useMarks","b","point","useWatch","valueChanged","setValues","throwError","err","debugWarn","oldVal","useLifecycle","sliderWrapper","onSliderWrapperPrevent","onSliderClick","onSliderDown","onSliderMarkerDown","stops","getStopStyle","inputId","isLabeledByFormItem","useFormItemInputId","sliderWrapperSize","sliderInputSize","groupLabel","firstButtonLabel","firstValueText","secondButtonLabel","secondValueText","sliderKls","markList","precisions","decimal","renderList","$event","ElInputNumber","Slider","ElSlider","defaultProps","segmentedProps","segmentedEmits","isBoolean","segmentedId","segmentedSize","_disabled","useFormDisabled","formItem","segmentedRef","activeElement","useActiveElement","state","handleChange","getValue","aliasProps","intoAny","isObject","getLabel","getDisabled","getSelected","getOption","getItemCls","updateSelect","selectedItem","selectedItemInput","segmentedCls","selectedStyle","selectedCls","useResizeObserver","createTextVNode","Segmented","ElSegmented","FOCUSABLE_CHILDREN","FOCUS_STACK","FOCUS_HANDLER","focusableElement","goingBackward","isFirst","isLast","TrapFocus","el","obtainAllFocusableElements","ElInput","TypeComponents","isValidComponentSize","locale","btnSize","useGlobalComponentSettings","nextZIndex","markRaw","Loading","typeClass","type","TypeComponentsMap","contentId","iconComponent","hasMessage","rootRef","headerRef","inputRef","confirmRef","confirmButtonClasses","validate","getInputElement","draggable","overflow","isDragging","useDraggable","doClose","handleWrapperClick","handleAction","overlayEvent","useSameTarget","handleInputEnter","action","inputPattern","inputValidator","isFunction","validateResult","inputRefs","useLockscreen","_component_el_input","_component_el_focus_trap","_component_el_overlay","withKeys","MessageBoxConstructor","messageInstance","getAppendToElement","appendTo","isElement","initInstance","container","appContext","vnode","isVNode","render","genContainer","showMessage","options","vm","currentMsg","resolve","instance","prop","hasOwn","MessageBox","isClient","callback","reject","MESSAGE_BOX_VARIANTS","MESSAGE_BOX_DEFAULT_OPTS","boxType","messageBoxFactory","message","title","titleOrOpts","isUndefined","_MessageBox","app","ElMessageBox","supported","pkgTauri","invokeWasmSolver","worker","ev","create_solver","status","useMuscleMemory","useManipulation","useObserve","invoke","destroy_solver","read_solver","rika_solve","clarityReport","dfs_solve","depth","specialist","nq_solve","reflect_solve","useWasteNot","raphael_solve","targetQuality","useHeartAndSoul","useQuickInnovation","useTrainedEye","backloadProgress","adversarial","settingStore","useSettingsStore","emits","__emit","initQuality","v","calcItems","source","ri","inputType","manullyInput","watchEffect","dataSource","recipeId","totalLvCount","hqLvCount","totalPrev","prevHq","total","hq","maxInitQualityPs","_openBlock","_createElementBlock","_hoisted_1","_createVNode","_unref","ElForm","ElFormItem","ElRadioGroup","ElRadioButton","$t","_Fragment","_renderList","row","_createBlock","ArrowUp","_toDisplayString","useFluent","store","useStore","genOptions","addNotification","sectionOptions","notifySoundOptions","i","hasNotify","maxLinesPerChunk","minChunks1","minChunks2","chunkedActions","macros","minChunks","sec","section","start","lines","Actions","actionName","calcWaitTime","copyChunk","macro","macroText","copy","macroInfo","isTauri","useClipboard","__vitePreload","n","ElMessage","_createElementVNode","ElCheckbox","isWebsite","ElSelectV2","ElSpace","marco","ElCard","_normalizeClass","_hoisted_2","ElDivider","_hoisted_3","fluent","namesToAction","actionKeys","bundle","msg","inputText","confirm","input","parseJson","parseMacroStrict","trimQuotation","validActions","matchResult","cmdBody","ElSwitch","SequenceSource","dialogVisible","solvers","fromState","fromStateOptions","reflectSolveIsSolving","runReflectSolver","initStatus","createSolver","msg1","solver","startTime","stopTime","formatDuration","destroySolver","s","ElDialog","_component_i18n","_withCtx","muscleMemoryMsg","infoMsg","ElAlert","calcMsg","scope","ChatSquare","ElTable","ElTableColumn","warningDepth","maxDepth","useSpecialist","doNotTouch","dfsSolving","dfsFormatTooltip","str","runDfsSolver","commandLineTool","ElLink","ElText","raphaelSolveIsSolving","solverTarget","solverTargetSegmented","targetQualityOptions","c","x","runRaphaelSolver","_createTextVNode","ElTag","activeNames","runSimpleSolver","solverId","solvingRunningState","msgArgs","rikaIsSolving","runRikaSolver","solverSupported","ElTabs","ElTabPane","RaphaelSolver","DpSolver","DfsSolver","designByRika","rikaSaid","defaultSimulationCounts","maximiumSimulatonPow","labelRadius","simulationResult","simulationButtonDisabled","attributesScope","showCheckSimulateDetail","simulateDetailResult","runBatchSimulatios","rand_simulation","rand_collectables_simulation","calcScope","calc_attributes_scope","runSimulateDetail","simulateDetail","details","error","simulateDetailSpanMethod","data","autoRunTimeout","thisTimeout","arc","d3.arc","pie","d3.pie","d","color","d3.scaleOrdinal","d3.schemeSpectral","arcs","statistics","arcLabel","_Transition","_hoisted_5","_hoisted_6","ElDescriptions","ElDescriptionsItem","Action","Buffs","lengthTagType","length","waitTime","actions","calcPostCastTime","DEFAULT_TAB","useDesignerStore","gearsetsStore","useGearsetsStore","displayJob","displayJobKey","foldMultiFunctionArea","useMediaQuery","fold","activeTab","actionQueueElem","actionQueueHeight","useElementSize","gearsetId","selectedGearsetRow","attributes","selectDefaultGearset","isCustomRecipe","old","currentGearset","job","newGearset","attributesEnhancers","enhancedAttributes","calculateEnhancedAttributsAbs","attributionAlert","required_craftsmanship","required_control","craftsmanship","control","notMeet","num","attribute","isReadingSolver","isReadingSolverDisplay","previewSolver","isReadingSolverDisplayStopTimer","irs","irsPrev","__temp","__restore","_withAsyncContext","newStatus","p","ea","iq","activeSeq","activeRst","simulate","activeSeqKey","slot","displayActions","solverResult","pushAction","loadSeq","seq","userImport","solverResultRst","readSolver","newInitStatus","displayedStatus","newSolverResult","display","oldID","handleSolverResult","solverName","additional","StatusBar","ActionPanel","_hoisted_4","ActionQueue","MarcoInfo","InitialQualitySetting","AttrEnhSelector","MacroExporter","MacroImporter","SolverList","Analyzers"],"ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39],"sources":["../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/drawer/src/drawer.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/drawer/src/composables/useResizable.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/drawer/src/drawer2.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/drawer/index.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/collection/src/collection.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/collection/src/collection-item.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/collection/src/collection2.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/roving-focus-group/src/roving-focus-group.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/roving-focus-group/src/tokens.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/roving-focus-group/src/utils.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/roving-focus-group/src/roving-focus-group-impl.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/roving-focus-group/src/roving-focus-group2.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/dropdown/src/tokens.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/dropdown/src/dropdown2.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/roving-focus-group/src/roving-focus-item.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/dropdown/src/dropdown-item-impl.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/dropdown/src/useDropdown.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/dropdown/src/dropdown-item.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/dropdown/src/dropdown-menu.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/dropdown/index.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/slider/src/constants.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/slider/src/slider.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/slider/src/button.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/slider/src/composables/use-slider-button.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/slider/src/button2.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/slider/src/marker.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/slider/src/composables/use-slide.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/slider/src/composables/use-stops.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/slider/src/composables/use-marks.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/slider/src/composables/use-watch.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/slider/src/composables/use-lifecycle.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/slider/src/slider2.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/slider/index.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/segmented/src/segmented.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/segmented/src/segmented2.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/segmented/index.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/directives/trap-focus/index.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/message-box/src/index.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/message-box/src/messageBox.mjs","../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/message-box/index.mjs","../../src/libs/Solver.ts","../../src/components/designer/tabs/InitialQualitySetting.vue","../../src/components/designer/tabs/MacroExporter.vue","../../src/components/designer/tabs/MacroImporter.vue","../../src/components/designer/types.ts","../../src/components/designer/solvers/DpSolver.vue","../../src/components/designer/solvers/DfsSolver.vue","../../src/components/designer/solvers/RaphaelSolver.vue","../../src/components/designer/solvers/List.vue","../../src/components/designer/tabs/Analyzers.vue","../../src/components/designer/MarcoInfo.vue","../../src/components/designer/Designer.vue"],"sourcesContent":["import { dialogProps, dialogEmits } from '../../dialog/src/dialog.mjs';\nimport { buildProps } from '../../../utils/vue/props/runtime.mjs';\n\nconst drawerProps = buildProps({\n  ...dialogProps,\n  direction: {\n    type: String,\n    default: \"rtl\",\n    values: [\"ltr\", \"rtl\", \"ttb\", \"btt\"]\n  },\n  resizable: Boolean,\n  size: {\n    type: [String, Number],\n    default: \"30%\"\n  },\n  withHeader: {\n    type: Boolean,\n    default: true\n  },\n  modalFade: {\n    type: Boolean,\n    default: true\n  },\n  headerAriaLevel: {\n    type: String,\n    default: \"2\"\n  }\n});\nconst drawerEmits = {\n  ...dialogEmits,\n  \"resize-start\": (evt, size) => evt instanceof MouseEvent && typeof size === \"number\",\n  resize: (evt, size) => evt instanceof MouseEvent && typeof size === \"number\",\n  \"resize-end\": (evt, size) => evt instanceof MouseEvent && typeof size === \"number\"\n};\n\nexport { drawerEmits, drawerProps };\n//# sourceMappingURL=drawer.mjs.map\n","import { computed, ref, watch, onBeforeUnmount } from 'vue';\nimport { useWindowSize, clamp, useEventListener } from '@vueuse/core';\nimport { addUnit } from '../../../../utils/dom/style.mjs';\n\nfunction useResizable(props, target, emit) {\n  const { width, height } = useWindowSize();\n  const isHorizontal = computed(() => [\"ltr\", \"rtl\"].includes(props.direction));\n  const sign = computed(() => [\"ltr\", \"ttb\"].includes(props.direction) ? 1 : -1);\n  const windowSize = computed(() => isHorizontal.value ? width.value : height.value);\n  const getSize = computed(() => {\n    return clamp(startSize.value + sign.value * offset.value, 4, windowSize.value);\n  });\n  const startSize = ref(0);\n  const offset = ref(0);\n  const isResizing = ref(false);\n  const hasStartedDragging = ref(false);\n  let startPos = [];\n  let cleanups = [];\n  const getActualSize = () => {\n    var _a;\n    const drawerEl = (_a = target.value) == null ? void 0 : _a.closest('[aria-modal=\"true\"]');\n    if (drawerEl) {\n      return isHorizontal.value ? drawerEl.offsetWidth : drawerEl.offsetHeight;\n    }\n    return 100;\n  };\n  watch(() => [props.size, props.resizable], () => {\n    hasStartedDragging.value = false;\n    startSize.value = 0;\n    offset.value = 0;\n    onMouseUp();\n  });\n  const onMousedown = (e) => {\n    if (!props.resizable)\n      return;\n    if (!hasStartedDragging.value) {\n      startSize.value = getActualSize();\n      hasStartedDragging.value = true;\n    }\n    startPos = [e.pageX, e.pageY];\n    isResizing.value = true;\n    emit(\"resize-start\", e, startSize.value);\n    cleanups.push(useEventListener(window, \"mouseup\", onMouseUp), useEventListener(window, \"mousemove\", onMouseMove));\n  };\n  const onMouseMove = (e) => {\n    const { pageX, pageY } = e;\n    const offsetX = pageX - startPos[0];\n    const offsetY = pageY - startPos[1];\n    offset.value = isHorizontal.value ? offsetX : offsetY;\n    emit(\"resize\", e, getSize.value);\n  };\n  const onMouseUp = (e) => {\n    if (!isResizing.value)\n      return;\n    startPos = [];\n    startSize.value = getSize.value;\n    offset.value = 0;\n    isResizing.value = false;\n    cleanups.forEach((cleanup2) => cleanup2 == null ? void 0 : cleanup2());\n    cleanups = [];\n    if (e) {\n      emit(\"resize-end\", e, startSize.value);\n    }\n  };\n  const cleanup = useEventListener(target, \"mousedown\", onMousedown);\n  onBeforeUnmount(() => {\n    cleanup();\n    onMouseUp();\n  });\n  return {\n    size: computed(() => {\n      return hasStartedDragging.value ? `${getSize.value}px` : addUnit(props.size);\n    }),\n    isResizing,\n    isHorizontal\n  };\n}\n\nexport { useResizable };\n//# sourceMappingURL=useResizable.mjs.map\n","import { defineComponent, useSlots, computed, ref, openBlock, createBlock, unref, withCtx, createVNode, Transition, withDirectives, createElementVNode, mergeProps, withModifiers, normalizeClass, createElementBlock, renderSlot, toDisplayString, createCommentVNode, normalizeStyle, vShow } from 'vue';\nimport { Close } from '@element-plus/icons-vue';\nimport { ElOverlay } from '../../overlay/index.mjs';\nimport ElFocusTrap from '../../focus-trap/src/focus-trap.mjs';\nimport { ElTeleport } from '../../teleport/index.mjs';\nimport { ElIcon } from '../../icon/index.mjs';\nimport { drawerProps, drawerEmits } from './drawer.mjs';\nimport { useResizable } from './composables/useResizable.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useDialog } from '../../dialog/src/use-dialog.mjs';\nimport { useDeprecated } from '../../../hooks/use-deprecated/index.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { useLocale } from '../../../hooks/use-locale/index.mjs';\n\nconst __default__ = defineComponent({\n  name: \"ElDrawer\",\n  inheritAttrs: false\n});\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: drawerProps,\n  emits: drawerEmits,\n  setup(__props, { expose, emit }) {\n    const props = __props;\n    const slots = useSlots();\n    useDeprecated({\n      scope: \"el-drawer\",\n      from: \"the title slot\",\n      replacement: \"the header slot\",\n      version: \"3.0.0\",\n      ref: \"https://element-plus.org/en-US/component/drawer.html#slots\"\n    }, computed(() => !!slots.title));\n    const drawerRef = ref();\n    const focusStartRef = ref();\n    const draggerRef = ref();\n    const ns = useNamespace(\"drawer\");\n    const { t } = useLocale();\n    const {\n      afterEnter,\n      afterLeave,\n      beforeLeave,\n      visible,\n      rendered,\n      titleId,\n      bodyId,\n      zIndex,\n      onModalClick,\n      onOpenAutoFocus,\n      onCloseAutoFocus,\n      onFocusoutPrevented,\n      onCloseRequested,\n      handleClose\n    } = useDialog(props, drawerRef);\n    const { isHorizontal, size, isResizing } = useResizable(props, draggerRef, emit);\n    const penetrable = computed(() => props.modalPenetrable && !props.modal);\n    expose({\n      handleClose,\n      afterEnter,\n      afterLeave\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(ElTeleport), {\n        to: _ctx.appendTo,\n        disabled: _ctx.appendTo !== \"body\" ? false : !_ctx.appendToBody\n      }, {\n        default: withCtx(() => [\n          createVNode(Transition, {\n            name: unref(ns).b(\"fade\"),\n            onAfterEnter: unref(afterEnter),\n            onAfterLeave: unref(afterLeave),\n            onBeforeLeave: unref(beforeLeave),\n            persisted: \"\"\n          }, {\n            default: withCtx(() => {\n              var _a;\n              return [\n                withDirectives(createVNode(unref(ElOverlay), {\n                  mask: _ctx.modal,\n                  \"overlay-class\": [\n                    unref(ns).is(\"drawer\"),\n                    (_a = _ctx.modalClass) != null ? _a : \"\",\n                    `${unref(ns).namespace.value}-modal-drawer`,\n                    unref(ns).is(\"penetrable\", unref(penetrable))\n                  ],\n                  \"z-index\": unref(zIndex),\n                  onClick: unref(onModalClick)\n                }, {\n                  default: withCtx(() => [\n                    createVNode(unref(ElFocusTrap), {\n                      loop: \"\",\n                      trapped: unref(visible),\n                      \"focus-trap-el\": drawerRef.value,\n                      \"focus-start-el\": focusStartRef.value,\n                      onFocusAfterTrapped: unref(onOpenAutoFocus),\n                      onFocusAfterReleased: unref(onCloseAutoFocus),\n                      onFocusoutPrevented: unref(onFocusoutPrevented),\n                      onReleaseRequested: unref(onCloseRequested)\n                    }, {\n                      default: withCtx(() => [\n                        createElementVNode(\"div\", mergeProps({\n                          ref_key: \"drawerRef\",\n                          ref: drawerRef,\n                          \"aria-modal\": \"true\",\n                          \"aria-label\": _ctx.title || void 0,\n                          \"aria-labelledby\": !_ctx.title ? unref(titleId) : void 0,\n                          \"aria-describedby\": unref(bodyId)\n                        }, _ctx.$attrs, {\n                          class: [\n                            unref(ns).b(),\n                            _ctx.direction,\n                            unref(visible) && \"open\",\n                            unref(ns).is(\"dragging\", unref(isResizing))\n                          ],\n                          style: { [unref(isHorizontal) ? \"width\" : \"height\"]: unref(size) },\n                          role: \"dialog\",\n                          onClick: withModifiers(() => {\n                          }, [\"stop\"])\n                        }), [\n                          createElementVNode(\"span\", {\n                            ref_key: \"focusStartRef\",\n                            ref: focusStartRef,\n                            class: normalizeClass(unref(ns).e(\"sr-focus\")),\n                            tabindex: \"-1\"\n                          }, null, 2),\n                          _ctx.withHeader ? (openBlock(), createElementBlock(\"header\", {\n                            key: 0,\n                            class: normalizeClass([unref(ns).e(\"header\"), _ctx.headerClass])\n                          }, [\n                            !_ctx.$slots.title ? renderSlot(_ctx.$slots, \"header\", {\n                              key: 0,\n                              close: unref(handleClose),\n                              titleId: unref(titleId),\n                              titleClass: unref(ns).e(\"title\")\n                            }, () => [\n                              createElementVNode(\"span\", {\n                                id: unref(titleId),\n                                role: \"heading\",\n                                \"aria-level\": _ctx.headerAriaLevel,\n                                class: normalizeClass(unref(ns).e(\"title\"))\n                              }, toDisplayString(_ctx.title), 11, [\"id\", \"aria-level\"])\n                            ]) : renderSlot(_ctx.$slots, \"title\", { key: 1 }, () => [\n                              createCommentVNode(\" DEPRECATED SLOT \")\n                            ]),\n                            _ctx.showClose ? (openBlock(), createElementBlock(\"button\", {\n                              key: 2,\n                              \"aria-label\": unref(t)(\"el.drawer.close\"),\n                              class: normalizeClass(unref(ns).e(\"close-btn\")),\n                              type: \"button\",\n                              onClick: unref(handleClose)\n                            }, [\n                              createVNode(unref(ElIcon), {\n                                class: normalizeClass(unref(ns).e(\"close\"))\n                              }, {\n                                default: withCtx(() => [\n                                  createVNode(unref(Close))\n                                ]),\n                                _: 1\n                              }, 8, [\"class\"])\n                            ], 10, [\"aria-label\", \"onClick\"])) : createCommentVNode(\"v-if\", true)\n                          ], 2)) : createCommentVNode(\"v-if\", true),\n                          unref(rendered) ? (openBlock(), createElementBlock(\"div\", {\n                            key: 1,\n                            id: unref(bodyId),\n                            class: normalizeClass([unref(ns).e(\"body\"), _ctx.bodyClass])\n                          }, [\n                            renderSlot(_ctx.$slots, \"default\")\n                          ], 10, [\"id\"])) : createCommentVNode(\"v-if\", true),\n                          _ctx.$slots.footer ? (openBlock(), createElementBlock(\"div\", {\n                            key: 2,\n                            class: normalizeClass([unref(ns).e(\"footer\"), _ctx.footerClass])\n                          }, [\n                            renderSlot(_ctx.$slots, \"footer\")\n                          ], 2)) : createCommentVNode(\"v-if\", true),\n                          _ctx.resizable ? (openBlock(), createElementBlock(\"div\", {\n                            key: 3,\n                            ref_key: \"draggerRef\",\n                            ref: draggerRef,\n                            style: normalizeStyle({ zIndex: unref(zIndex) }),\n                            class: normalizeClass(unref(ns).e(\"dragger\"))\n                          }, null, 6)) : createCommentVNode(\"v-if\", true)\n                        ], 16, [\"aria-label\", \"aria-labelledby\", \"aria-describedby\", \"onClick\"])\n                      ]),\n                      _: 3\n                    }, 8, [\"trapped\", \"focus-trap-el\", \"focus-start-el\", \"onFocusAfterTrapped\", \"onFocusAfterReleased\", \"onFocusoutPrevented\", \"onReleaseRequested\"])\n                  ]),\n                  _: 3\n                }, 8, [\"mask\", \"overlay-class\", \"z-index\", \"onClick\"]), [\n                  [vShow, unref(visible)]\n                ])\n              ];\n            }),\n            _: 3\n          }, 8, [\"name\", \"onAfterEnter\", \"onAfterLeave\", \"onBeforeLeave\"])\n        ]),\n        _: 3\n      }, 8, [\"to\", \"disabled\"]);\n    };\n  }\n});\nvar Drawer = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"drawer.vue\"]]);\n\nexport { Drawer as default };\n//# sourceMappingURL=drawer2.mjs.map\n","import Drawer from './src/drawer2.mjs';\nexport { drawerEmits, drawerProps } from './src/drawer.mjs';\nimport { withInstall } from '../../utils/vue/install.mjs';\n\nconst ElDrawer = withInstall(Drawer);\n\nexport { ElDrawer, ElDrawer as default };\n//# sourceMappingURL=index.mjs.map\n","import { defineComponent, renderSlot } from 'vue';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\n\nconst _sfc_main = defineComponent({\n  inheritAttrs: false\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return renderSlot(_ctx.$slots, \"default\");\n}\nvar Collection = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"collection.vue\"]]);\n\nexport { Collection as default };\n//# sourceMappingURL=collection.mjs.map\n","import { defineComponent, renderSlot } from 'vue';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"ElCollectionItem\",\n  inheritAttrs: false\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return renderSlot(_ctx.$slots, \"default\");\n}\nvar CollectionItem = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"collection-item.vue\"]]);\n\nexport { CollectionItem as default };\n//# sourceMappingURL=collection-item.mjs.map\n","import { ref, provide, inject, onMounted, unref, onBeforeUnmount } from 'vue';\nimport Collection from './collection.mjs';\nimport CollectionItem from './collection-item.mjs';\n\nconst COLLECTION_ITEM_SIGN = `data-el-collection-item`;\nconst createCollectionWithScope = (name) => {\n  const COLLECTION_NAME = `El${name}Collection`;\n  const COLLECTION_ITEM_NAME = `${COLLECTION_NAME}Item`;\n  const COLLECTION_INJECTION_KEY = Symbol(COLLECTION_NAME);\n  const COLLECTION_ITEM_INJECTION_KEY = Symbol(COLLECTION_ITEM_NAME);\n  const ElCollection = {\n    ...Collection,\n    name: COLLECTION_NAME,\n    setup() {\n      const collectionRef = ref();\n      const itemMap = /* @__PURE__ */ new Map();\n      const getItems = () => {\n        const collectionEl = unref(collectionRef);\n        if (!collectionEl)\n          return [];\n        const orderedNodes = Array.from(collectionEl.querySelectorAll(`[${COLLECTION_ITEM_SIGN}]`));\n        const items = [...itemMap.values()];\n        return items.sort((a, b) => orderedNodes.indexOf(a.ref) - orderedNodes.indexOf(b.ref));\n      };\n      provide(COLLECTION_INJECTION_KEY, {\n        itemMap,\n        getItems,\n        collectionRef\n      });\n    }\n  };\n  const ElCollectionItem = {\n    ...CollectionItem,\n    name: COLLECTION_ITEM_NAME,\n    setup(_, { attrs }) {\n      const collectionItemRef = ref();\n      const collectionInjection = inject(COLLECTION_INJECTION_KEY, void 0);\n      provide(COLLECTION_ITEM_INJECTION_KEY, {\n        collectionItemRef\n      });\n      onMounted(() => {\n        const collectionItemEl = unref(collectionItemRef);\n        if (collectionItemEl) {\n          collectionInjection.itemMap.set(collectionItemEl, {\n            ref: collectionItemEl,\n            ...attrs\n          });\n        }\n      });\n      onBeforeUnmount(() => {\n        const collectionItemEl = unref(collectionItemRef);\n        collectionInjection.itemMap.delete(collectionItemEl);\n      });\n    }\n  };\n  return {\n    COLLECTION_INJECTION_KEY,\n    COLLECTION_ITEM_INJECTION_KEY,\n    ElCollection,\n    ElCollectionItem\n  };\n};\n\nexport { COLLECTION_ITEM_SIGN, createCollectionWithScope };\n//# sourceMappingURL=collection2.mjs.map\n","import { createCollectionWithScope } from '../../collection/src/collection2.mjs';\nimport { buildProps, definePropType } from '../../../utils/vue/props/runtime.mjs';\n\nconst rovingFocusGroupProps = buildProps({\n  style: { type: definePropType([String, Array, Object]) },\n  currentTabId: {\n    type: definePropType(String)\n  },\n  defaultCurrentTabId: String,\n  loop: Boolean,\n  dir: {\n    type: String,\n    values: [\"ltr\", \"rtl\"],\n    default: \"ltr\"\n  },\n  orientation: {\n    type: definePropType(String)\n  },\n  onBlur: Function,\n  onFocus: Function,\n  onMousedown: Function\n});\nconst {\n  ElCollection,\n  ElCollectionItem,\n  COLLECTION_INJECTION_KEY,\n  COLLECTION_ITEM_INJECTION_KEY\n} = createCollectionWithScope(\"RovingFocusGroup\");\n\nexport { ElCollection, ElCollectionItem, COLLECTION_INJECTION_KEY as ROVING_FOCUS_COLLECTION_INJECTION_KEY, COLLECTION_ITEM_INJECTION_KEY as ROVING_FOCUS_ITEM_COLLECTION_INJECTION_KEY, rovingFocusGroupProps };\n//# sourceMappingURL=roving-focus-group.mjs.map\n","const ROVING_FOCUS_GROUP_INJECTION_KEY = Symbol(\"elRovingFocusGroup\");\nconst ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY = Symbol(\"elRovingFocusGroupItem\");\n\nexport { ROVING_FOCUS_GROUP_INJECTION_KEY, ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY };\n//# sourceMappingURL=tokens.mjs.map\n","import { getEventCode } from '../../../utils/dom/event.mjs';\nimport { EVENT_CODE } from '../../../constants/aria.mjs';\n\nconst MAP_KEY_TO_FOCUS_INTENT = {\n  ArrowLeft: \"prev\",\n  ArrowUp: \"prev\",\n  ArrowRight: \"next\",\n  ArrowDown: \"next\",\n  PageUp: \"first\",\n  Home: \"first\",\n  PageDown: \"last\",\n  End: \"last\"\n};\nconst getDirectionAwareKey = (key, dir) => {\n  if (dir !== \"rtl\")\n    return key;\n  switch (key) {\n    case EVENT_CODE.right:\n      return EVENT_CODE.left;\n    case EVENT_CODE.left:\n      return EVENT_CODE.right;\n    default:\n      return key;\n  }\n};\nconst getFocusIntent = (event, orientation, dir) => {\n  const code = getEventCode(event);\n  const key = getDirectionAwareKey(code, dir);\n  if (orientation === \"vertical\" && [EVENT_CODE.left, EVENT_CODE.right].includes(key))\n    return void 0;\n  if (orientation === \"horizontal\" && [EVENT_CODE.up, EVENT_CODE.down].includes(key))\n    return void 0;\n  return MAP_KEY_TO_FOCUS_INTENT[key];\n};\nconst reorderArray = (array, atIdx) => {\n  return array.map((_, idx) => array[(idx + atIdx) % array.length]);\n};\nconst focusFirst = (elements) => {\n  const { activeElement: prevActive } = document;\n  for (const element of elements) {\n    if (element === prevActive)\n      return;\n    element.focus();\n    if (prevActive !== document.activeElement)\n      return;\n  }\n};\n\nexport { focusFirst, getFocusIntent, reorderArray };\n//# sourceMappingURL=utils.mjs.map\n","import { defineComponent, ref, inject, computed, provide, readonly, toRef, unref, watch, nextTick, renderSlot } from 'vue';\nimport { useEventListener } from '@vueuse/core';\nimport { rovingFocusGroupProps, ROVING_FOCUS_COLLECTION_INJECTION_KEY as COLLECTION_INJECTION_KEY } from './roving-focus-group.mjs';\nimport { ROVING_FOCUS_GROUP_INJECTION_KEY } from './tokens.mjs';\nimport { getFocusIntent, reorderArray, focusFirst } from './utils.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { composeEventHandlers } from '../../../utils/dom/event.mjs';\n\nconst CURRENT_TAB_ID_CHANGE_EVT = \"currentTabIdChange\";\nconst ENTRY_FOCUS_EVT = \"rovingFocusGroup.entryFocus\";\nconst EVT_OPTS = { bubbles: false, cancelable: true };\nconst _sfc_main = defineComponent({\n  name: \"ElRovingFocusGroupImpl\",\n  inheritAttrs: false,\n  props: rovingFocusGroupProps,\n  emits: [CURRENT_TAB_ID_CHANGE_EVT, \"entryFocus\"],\n  setup(props, { emit }) {\n    var _a;\n    const currentTabbedId = ref((_a = props.currentTabId || props.defaultCurrentTabId) != null ? _a : null);\n    const isBackingOut = ref(false);\n    const isClickFocus = ref(false);\n    const rovingFocusGroupRef = ref();\n    const { getItems } = inject(COLLECTION_INJECTION_KEY, void 0);\n    const rovingFocusGroupRootStyle = computed(() => {\n      return [\n        {\n          outline: \"none\"\n        },\n        props.style\n      ];\n    });\n    const onItemFocus = (tabbedId) => {\n      emit(CURRENT_TAB_ID_CHANGE_EVT, tabbedId);\n    };\n    const onItemShiftTab = () => {\n      isBackingOut.value = true;\n    };\n    const onMousedown = composeEventHandlers((e) => {\n      var _a2;\n      (_a2 = props.onMousedown) == null ? void 0 : _a2.call(props, e);\n    }, () => {\n      isClickFocus.value = true;\n    });\n    const onFocus = composeEventHandlers((e) => {\n      var _a2;\n      (_a2 = props.onFocus) == null ? void 0 : _a2.call(props, e);\n    }, (e) => {\n      const isKeyboardFocus = !unref(isClickFocus);\n      const { target, currentTarget } = e;\n      if (target === currentTarget && isKeyboardFocus && !unref(isBackingOut)) {\n        const entryFocusEvt = new Event(ENTRY_FOCUS_EVT, EVT_OPTS);\n        currentTarget == null ? void 0 : currentTarget.dispatchEvent(entryFocusEvt);\n        if (!entryFocusEvt.defaultPrevented) {\n          const items = getItems().filter((item) => item.focusable);\n          const activeItem = items.find((item) => item.active);\n          const currentItem = items.find((item) => item.id === unref(currentTabbedId));\n          const candidates = [activeItem, currentItem, ...items].filter(Boolean);\n          const candidateNodes = candidates.map((item) => item.ref);\n          focusFirst(candidateNodes);\n        }\n      }\n      isClickFocus.value = false;\n    });\n    const onBlur = composeEventHandlers((e) => {\n      var _a2;\n      (_a2 = props.onBlur) == null ? void 0 : _a2.call(props, e);\n    }, () => {\n      isBackingOut.value = false;\n    });\n    const handleEntryFocus = (...args) => {\n      emit(\"entryFocus\", ...args);\n    };\n    const onKeydown = (e) => {\n      const focusIntent = getFocusIntent(e);\n      if (focusIntent) {\n        e.preventDefault();\n        const items = getItems().filter((item) => item.focusable);\n        let elements = items.map((item) => item.ref);\n        switch (focusIntent) {\n          case \"last\": {\n            elements.reverse();\n            break;\n          }\n          case \"prev\":\n          case \"next\": {\n            if (focusIntent === \"prev\") {\n              elements.reverse();\n            }\n            const currentIdx = elements.indexOf(e.currentTarget);\n            elements = props.loop ? reorderArray(elements, currentIdx + 1) : elements.slice(currentIdx + 1);\n            break;\n          }\n        }\n        nextTick(() => {\n          focusFirst(elements);\n        });\n      }\n    };\n    provide(ROVING_FOCUS_GROUP_INJECTION_KEY, {\n      currentTabbedId: readonly(currentTabbedId),\n      loop: toRef(props, \"loop\"),\n      tabIndex: computed(() => {\n        return unref(isBackingOut) ? -1 : 0;\n      }),\n      rovingFocusGroupRef,\n      rovingFocusGroupRootStyle,\n      orientation: toRef(props, \"orientation\"),\n      dir: toRef(props, \"dir\"),\n      onItemFocus,\n      onItemShiftTab,\n      onBlur,\n      onFocus,\n      onMousedown,\n      onKeydown\n    });\n    watch(() => props.currentTabId, (val) => {\n      currentTabbedId.value = val != null ? val : null;\n    });\n    useEventListener(rovingFocusGroupRef, ENTRY_FOCUS_EVT, handleEntryFocus);\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return renderSlot(_ctx.$slots, \"default\");\n}\nvar ElRovingFocusGroupImpl = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"roving-focus-group-impl.vue\"]]);\n\nexport { ElRovingFocusGroupImpl as default };\n//# sourceMappingURL=roving-focus-group-impl.mjs.map\n","import { defineComponent, resolveComponent, openBlock, createBlock, withCtx, createVNode, normalizeProps, guardReactiveProps, renderSlot } from 'vue';\nimport ElRovingFocusGroupImpl from './roving-focus-group-impl.mjs';\nimport { ElCollection } from './roving-focus-group.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"ElRovingFocusGroup\",\n  components: {\n    ElFocusGroupCollection: ElCollection,\n    ElRovingFocusGroupImpl\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_roving_focus_group_impl = resolveComponent(\"el-roving-focus-group-impl\");\n  const _component_el_focus_group_collection = resolveComponent(\"el-focus-group-collection\");\n  return openBlock(), createBlock(_component_el_focus_group_collection, null, {\n    default: withCtx(() => [\n      createVNode(_component_el_roving_focus_group_impl, normalizeProps(guardReactiveProps(_ctx.$attrs)), {\n        default: withCtx(() => [\n          renderSlot(_ctx.$slots, \"default\")\n        ]),\n        _: 3\n      }, 16)\n    ]),\n    _: 3\n  });\n}\nvar ElRovingFocusGroup = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"roving-focus-group.vue\"]]);\n\nexport { ElRovingFocusGroup as default };\n//# sourceMappingURL=roving-focus-group2.mjs.map\n","const DROPDOWN_INJECTION_KEY = Symbol(\"elDropdown\");\nconst DROPDOWN_INSTANCE_INJECTION_KEY = \"elDropdown\";\n\nexport { DROPDOWN_INJECTION_KEY, DROPDOWN_INSTANCE_INJECTION_KEY };\n//# sourceMappingURL=tokens.mjs.map\n","import { defineComponent, getCurrentInstance, ref, computed, provide, toRef, unref, resolveComponent, openBlock, createElementBlock, normalizeClass, createVNode, createSlots, withCtx, renderSlot, createBlock, mergeProps, createCommentVNode } from 'vue';\nimport { ElButton } from '../../button/index.mjs';\nimport { ElTooltip } from '../../tooltip/index.mjs';\nimport { ElScrollbar } from '../../scrollbar/index.mjs';\nimport { ElIcon } from '../../icon/index.mjs';\nimport ElRovingFocusGroup from '../../roving-focus-group/src/roving-focus-group2.mjs';\nimport { ArrowDown } from '@element-plus/icons-vue';\nimport { dropdownProps } from './dropdown.mjs';\nimport { DROPDOWN_INJECTION_KEY, DROPDOWN_INSTANCE_INJECTION_KEY } from './tokens.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { OnlyChild } from '../../slot/src/only-child.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { useLocale } from '../../../hooks/use-locale/index.mjs';\nimport { addUnit } from '../../../utils/dom/style.mjs';\nimport { castArray } from 'lodash-unified';\nimport { useId } from '../../../hooks/use-id/index.mjs';\nimport { useFormSize } from '../../form/src/hooks/use-form-common-props.mjs';\n\nconst { ButtonGroup: ElButtonGroup } = ElButton;\nconst _sfc_main = defineComponent({\n  name: \"ElDropdown\",\n  components: {\n    ElButton,\n    ElButtonGroup,\n    ElScrollbar,\n    ElTooltip,\n    ElRovingFocusGroup,\n    ElOnlyChild: OnlyChild,\n    ElIcon,\n    ArrowDown\n  },\n  props: dropdownProps,\n  emits: [\"visible-change\", \"click\", \"command\"],\n  setup(props, { emit }) {\n    const _instance = getCurrentInstance();\n    const ns = useNamespace(\"dropdown\");\n    const { t } = useLocale();\n    const triggeringElementRef = ref();\n    const referenceElementRef = ref();\n    const popperRef = ref();\n    const contentRef = ref();\n    const scrollbar = ref(null);\n    const currentTabId = ref(null);\n    const isUsingKeyboard = ref(false);\n    const wrapStyle = computed(() => ({\n      maxHeight: addUnit(props.maxHeight)\n    }));\n    const dropdownTriggerKls = computed(() => [ns.m(dropdownSize.value)]);\n    const trigger = computed(() => castArray(props.trigger));\n    const defaultTriggerId = useId().value;\n    const triggerId = computed(() => props.id || defaultTriggerId);\n    function handleClick() {\n      var _a;\n      (_a = popperRef.value) == null ? void 0 : _a.onClose(void 0, 0);\n    }\n    function handleClose() {\n      var _a;\n      (_a = popperRef.value) == null ? void 0 : _a.onClose();\n    }\n    function handleOpen() {\n      var _a;\n      (_a = popperRef.value) == null ? void 0 : _a.onOpen();\n    }\n    const dropdownSize = useFormSize();\n    function commandHandler(...args) {\n      emit(\"command\", ...args);\n    }\n    function onItemEnter() {\n    }\n    function onItemLeave() {\n      const contentEl = unref(contentRef);\n      trigger.value.includes(\"hover\") && (contentEl == null ? void 0 : contentEl.focus({\n        preventScroll: true\n      }));\n      currentTabId.value = null;\n    }\n    function handleCurrentTabIdChange(id) {\n      currentTabId.value = id;\n    }\n    function handleBeforeShowTooltip() {\n      emit(\"visible-change\", true);\n    }\n    function handleShowTooltip(event) {\n      var _a;\n      isUsingKeyboard.value = (event == null ? void 0 : event.type) === \"keydown\";\n      (_a = contentRef.value) == null ? void 0 : _a.focus();\n    }\n    function handleBeforeHideTooltip() {\n      emit(\"visible-change\", false);\n    }\n    provide(DROPDOWN_INJECTION_KEY, {\n      contentRef,\n      role: computed(() => props.role),\n      triggerId,\n      isUsingKeyboard,\n      onItemEnter,\n      onItemLeave,\n      handleClose\n    });\n    provide(DROPDOWN_INSTANCE_INJECTION_KEY, {\n      instance: _instance,\n      dropdownSize,\n      handleClick,\n      commandHandler,\n      trigger: toRef(props, \"trigger\"),\n      hideOnClick: toRef(props, \"hideOnClick\")\n    });\n    const handlerMainButtonClick = (event) => {\n      emit(\"click\", event);\n    };\n    return {\n      t,\n      ns,\n      scrollbar,\n      wrapStyle,\n      dropdownTriggerKls,\n      dropdownSize,\n      triggerId,\n      currentTabId,\n      handleCurrentTabIdChange,\n      handlerMainButtonClick,\n      handleClose,\n      handleOpen,\n      handleBeforeShowTooltip,\n      handleShowTooltip,\n      handleBeforeHideTooltip,\n      popperRef,\n      contentRef,\n      triggeringElementRef,\n      referenceElementRef\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _a;\n  const _component_el_roving_focus_group = resolveComponent(\"el-roving-focus-group\");\n  const _component_el_scrollbar = resolveComponent(\"el-scrollbar\");\n  const _component_el_only_child = resolveComponent(\"el-only-child\");\n  const _component_el_tooltip = resolveComponent(\"el-tooltip\");\n  const _component_el_button = resolveComponent(\"el-button\");\n  const _component_arrow_down = resolveComponent(\"arrow-down\");\n  const _component_el_icon = resolveComponent(\"el-icon\");\n  const _component_el_button_group = resolveComponent(\"el-button-group\");\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass([_ctx.ns.b(), _ctx.ns.is(\"disabled\", _ctx.disabled)])\n  }, [\n    createVNode(_component_el_tooltip, {\n      ref: \"popperRef\",\n      role: _ctx.role,\n      effect: _ctx.effect,\n      \"fallback-placements\": [\"bottom\", \"top\"],\n      \"popper-options\": _ctx.popperOptions,\n      \"gpu-acceleration\": false,\n      placement: _ctx.placement,\n      \"popper-class\": [_ctx.ns.e(\"popper\"), _ctx.popperClass],\n      \"popper-style\": _ctx.popperStyle,\n      trigger: _ctx.trigger,\n      \"trigger-keys\": _ctx.triggerKeys,\n      \"trigger-target-el\": _ctx.contentRef,\n      \"show-arrow\": _ctx.showArrow,\n      \"show-after\": _ctx.trigger === \"hover\" ? _ctx.showTimeout : 0,\n      \"hide-after\": _ctx.trigger === \"hover\" ? _ctx.hideTimeout : 0,\n      \"virtual-ref\": (_a = _ctx.virtualRef) != null ? _a : _ctx.triggeringElementRef,\n      \"virtual-triggering\": _ctx.virtualTriggering || _ctx.splitButton,\n      disabled: _ctx.disabled,\n      transition: `${_ctx.ns.namespace.value}-zoom-in-top`,\n      teleported: _ctx.teleported,\n      pure: \"\",\n      \"focus-on-target\": \"\",\n      persistent: _ctx.persistent,\n      onBeforeShow: _ctx.handleBeforeShowTooltip,\n      onShow: _ctx.handleShowTooltip,\n      onBeforeHide: _ctx.handleBeforeHideTooltip\n    }, createSlots({\n      content: withCtx(() => [\n        createVNode(_component_el_scrollbar, {\n          ref: \"scrollbar\",\n          \"wrap-style\": _ctx.wrapStyle,\n          tag: \"div\",\n          \"view-class\": _ctx.ns.e(\"list\")\n        }, {\n          default: withCtx(() => [\n            createVNode(_component_el_roving_focus_group, {\n              loop: _ctx.loop,\n              \"current-tab-id\": _ctx.currentTabId,\n              orientation: \"horizontal\",\n              onCurrentTabIdChange: _ctx.handleCurrentTabIdChange\n            }, {\n              default: withCtx(() => [\n                renderSlot(_ctx.$slots, \"dropdown\")\n              ]),\n              _: 3\n            }, 8, [\"loop\", \"current-tab-id\", \"onCurrentTabIdChange\"])\n          ]),\n          _: 3\n        }, 8, [\"wrap-style\", \"view-class\"])\n      ]),\n      _: 2\n    }, [\n      !_ctx.splitButton ? {\n        name: \"default\",\n        fn: withCtx(() => [\n          createVNode(_component_el_only_child, {\n            id: _ctx.triggerId,\n            ref: \"triggeringElementRef\",\n            role: \"button\",\n            tabindex: _ctx.tabindex\n          }, {\n            default: withCtx(() => [\n              renderSlot(_ctx.$slots, \"default\")\n            ]),\n            _: 3\n          }, 8, [\"id\", \"tabindex\"])\n        ])\n      } : void 0\n    ]), 1032, [\"role\", \"effect\", \"popper-options\", \"placement\", \"popper-class\", \"popper-style\", \"trigger\", \"trigger-keys\", \"trigger-target-el\", \"show-arrow\", \"show-after\", \"hide-after\", \"virtual-ref\", \"virtual-triggering\", \"disabled\", \"transition\", \"teleported\", \"persistent\", \"onBeforeShow\", \"onShow\", \"onBeforeHide\"]),\n    _ctx.splitButton ? (openBlock(), createBlock(_component_el_button_group, { key: 0 }, {\n      default: withCtx(() => [\n        createVNode(_component_el_button, mergeProps({ ref: \"referenceElementRef\" }, _ctx.buttonProps, {\n          size: _ctx.dropdownSize,\n          type: _ctx.type,\n          disabled: _ctx.disabled,\n          tabindex: _ctx.tabindex,\n          onClick: _ctx.handlerMainButtonClick\n        }), {\n          default: withCtx(() => [\n            renderSlot(_ctx.$slots, \"default\")\n          ]),\n          _: 3\n        }, 16, [\"size\", \"type\", \"disabled\", \"tabindex\", \"onClick\"]),\n        createVNode(_component_el_button, mergeProps({\n          id: _ctx.triggerId,\n          ref: \"triggeringElementRef\"\n        }, _ctx.buttonProps, {\n          role: \"button\",\n          size: _ctx.dropdownSize,\n          type: _ctx.type,\n          class: _ctx.ns.e(\"caret-button\"),\n          disabled: _ctx.disabled,\n          tabindex: _ctx.tabindex,\n          \"aria-label\": _ctx.t(\"el.dropdown.toggleDropdown\")\n        }), {\n          default: withCtx(() => [\n            createVNode(_component_el_icon, {\n              class: normalizeClass(_ctx.ns.e(\"icon\"))\n            }, {\n              default: withCtx(() => [\n                createVNode(_component_arrow_down)\n              ]),\n              _: 1\n            }, 8, [\"class\"])\n          ]),\n          _: 1\n        }, 16, [\"id\", \"size\", \"type\", \"class\", \"disabled\", \"tabindex\", \"aria-label\"])\n      ]),\n      _: 3\n    })) : createCommentVNode(\"v-if\", true)\n  ], 2);\n}\nvar Dropdown = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"dropdown.vue\"]]);\n\nexport { Dropdown as default };\n//# sourceMappingURL=dropdown2.mjs.map\n","import { defineComponent, inject, ref, computed, unref, provide, resolveComponent, openBlock, createBlock, withCtx, renderSlot } from 'vue';\nimport { ElCollectionItem } from './roving-focus-group.mjs';\nimport { ROVING_FOCUS_GROUP_INJECTION_KEY, ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY } from './tokens.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useId } from '../../../hooks/use-id/index.mjs';\nimport { composeEventHandlers, getEventCode } from '../../../utils/dom/event.mjs';\nimport { EVENT_CODE } from '../../../constants/aria.mjs';\n\nconst _sfc_main = defineComponent({\n  components: {\n    ElRovingFocusCollectionItem: ElCollectionItem\n  },\n  props: {\n    focusable: {\n      type: Boolean,\n      default: true\n    },\n    active: Boolean\n  },\n  emits: [\"mousedown\", \"focus\", \"keydown\"],\n  setup(props, { emit }) {\n    const { currentTabbedId, onItemFocus, onItemShiftTab, onKeydown } = inject(ROVING_FOCUS_GROUP_INJECTION_KEY, void 0);\n    const id = useId();\n    const rovingFocusGroupItemRef = ref();\n    const handleMousedown = composeEventHandlers((e) => {\n      emit(\"mousedown\", e);\n    }, (e) => {\n      if (!props.focusable) {\n        e.preventDefault();\n      } else {\n        onItemFocus(unref(id));\n      }\n    });\n    const handleFocus = composeEventHandlers((e) => {\n      emit(\"focus\", e);\n    }, () => {\n      onItemFocus(unref(id));\n    });\n    const handleKeydown = composeEventHandlers((e) => {\n      emit(\"keydown\", e);\n    }, (e) => {\n      const { shiftKey, target, currentTarget } = e;\n      const code = getEventCode(e);\n      if (code === EVENT_CODE.tab && shiftKey) {\n        onItemShiftTab();\n        return;\n      }\n      if (target !== currentTarget)\n        return;\n      onKeydown(e);\n    });\n    const isCurrentTab = computed(() => currentTabbedId.value === unref(id));\n    provide(ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY, {\n      rovingFocusGroupItemRef,\n      tabIndex: computed(() => unref(isCurrentTab) ? 0 : -1),\n      handleMousedown,\n      handleFocus,\n      handleKeydown\n    });\n    return {\n      id,\n      handleKeydown,\n      handleFocus,\n      handleMousedown\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_roving_focus_collection_item = resolveComponent(\"el-roving-focus-collection-item\");\n  return openBlock(), createBlock(_component_el_roving_focus_collection_item, {\n    id: _ctx.id,\n    focusable: _ctx.focusable,\n    active: _ctx.active\n  }, {\n    default: withCtx(() => [\n      renderSlot(_ctx.$slots, \"default\")\n    ]),\n    _: 3\n  }, 8, [\"id\", \"focusable\", \"active\"]);\n}\nvar ElRovingFocusItem = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"roving-focus-item.vue\"]]);\n\nexport { ElRovingFocusItem as default };\n//# sourceMappingURL=roving-focus-item.mjs.map\n","import { defineComponent, inject, computed, resolveComponent, openBlock, createElementBlock, Fragment, normalizeClass, createCommentVNode, createElementVNode, mergeProps, withModifiers, createBlock, withCtx, resolveDynamicComponent, renderSlot } from 'vue';\nimport { ElIcon } from '../../icon/index.mjs';\nimport { dropdownItemProps } from './dropdown.mjs';\nimport { DROPDOWN_INJECTION_KEY } from './tokens.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { ROVING_FOCUS_ITEM_COLLECTION_INJECTION_KEY as COLLECTION_ITEM_INJECTION_KEY } from '../../roving-focus-group/src/roving-focus-group.mjs';\nimport { ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY } from '../../roving-focus-group/src/tokens.mjs';\nimport { COLLECTION_ITEM_SIGN } from '../../collection/src/collection2.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { composeRefs } from '../../../utils/vue/refs.mjs';\nimport { composeEventHandlers, getEventCode } from '../../../utils/dom/event.mjs';\nimport { EVENT_CODE } from '../../../constants/aria.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"DropdownItemImpl\",\n  components: {\n    ElIcon\n  },\n  props: dropdownItemProps,\n  emits: [\"pointermove\", \"pointerleave\", \"click\", \"clickimpl\"],\n  setup(_, { emit }) {\n    const ns = useNamespace(\"dropdown\");\n    const { role: menuRole } = inject(DROPDOWN_INJECTION_KEY, void 0);\n    const { collectionItemRef: rovingFocusCollectionItemRef } = inject(COLLECTION_ITEM_INJECTION_KEY, void 0);\n    const {\n      rovingFocusGroupItemRef,\n      tabIndex,\n      handleFocus,\n      handleKeydown: handleItemKeydown,\n      handleMousedown\n    } = inject(ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY, void 0);\n    const itemRef = composeRefs(rovingFocusCollectionItemRef, rovingFocusGroupItemRef);\n    const role = computed(() => {\n      if (menuRole.value === \"menu\") {\n        return \"menuitem\";\n      } else if (menuRole.value === \"navigation\") {\n        return \"link\";\n      }\n      return \"button\";\n    });\n    const handleKeydown = composeEventHandlers((e) => {\n      const code = getEventCode(e);\n      if ([EVENT_CODE.enter, EVENT_CODE.numpadEnter, EVENT_CODE.space].includes(code)) {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n        emit(\"clickimpl\", e);\n        return true;\n      }\n    }, handleItemKeydown);\n    return {\n      ns,\n      itemRef,\n      dataset: {\n        [COLLECTION_ITEM_SIGN]: \"\"\n      },\n      role,\n      tabIndex,\n      handleFocus,\n      handleKeydown,\n      handleMousedown\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_icon = resolveComponent(\"el-icon\");\n  return openBlock(), createElementBlock(Fragment, null, [\n    _ctx.divided ? (openBlock(), createElementBlock(\"li\", {\n      key: 0,\n      role: \"separator\",\n      class: normalizeClass(_ctx.ns.bem(\"menu\", \"item\", \"divided\"))\n    }, null, 2)) : createCommentVNode(\"v-if\", true),\n    createElementVNode(\"li\", mergeProps({ ref: _ctx.itemRef }, { ..._ctx.dataset, ..._ctx.$attrs }, {\n      \"aria-disabled\": _ctx.disabled,\n      class: [_ctx.ns.be(\"menu\", \"item\"), _ctx.ns.is(\"disabled\", _ctx.disabled)],\n      tabindex: _ctx.tabIndex,\n      role: _ctx.role,\n      onClick: (e) => _ctx.$emit(\"clickimpl\", e),\n      onFocus: _ctx.handleFocus,\n      onKeydown: withModifiers(_ctx.handleKeydown, [\"self\"]),\n      onMousedown: _ctx.handleMousedown,\n      onPointermove: (e) => _ctx.$emit(\"pointermove\", e),\n      onPointerleave: (e) => _ctx.$emit(\"pointerleave\", e)\n    }), [\n      _ctx.icon ? (openBlock(), createBlock(_component_el_icon, { key: 0 }, {\n        default: withCtx(() => [\n          (openBlock(), createBlock(resolveDynamicComponent(_ctx.icon)))\n        ]),\n        _: 1\n      })) : createCommentVNode(\"v-if\", true),\n      renderSlot(_ctx.$slots, \"default\")\n    ], 16, [\"aria-disabled\", \"tabindex\", \"role\", \"onClick\", \"onFocus\", \"onKeydown\", \"onMousedown\", \"onPointermove\", \"onPointerleave\"])\n  ], 64);\n}\nvar ElDropdownItemImpl = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"dropdown-item-impl.vue\"]]);\n\nexport { ElDropdownItemImpl as default };\n//# sourceMappingURL=dropdown-item-impl.mjs.map\n","import { inject, computed } from 'vue';\nimport { DROPDOWN_INSTANCE_INJECTION_KEY } from './tokens.mjs';\n\nconst useDropdown = () => {\n  const elDropdown = inject(DROPDOWN_INSTANCE_INJECTION_KEY, {});\n  const _elDropdownSize = computed(() => elDropdown == null ? void 0 : elDropdown.dropdownSize);\n  return {\n    elDropdown,\n    _elDropdownSize\n  };\n};\n\nexport { useDropdown };\n//# sourceMappingURL=useDropdown.mjs.map\n","import { defineComponent, getCurrentInstance, inject, computed, resolveComponent, openBlock, createBlock, withCtx, createVNode, mergeProps, renderSlot } from 'vue';\nimport ElRovingFocusItem from '../../roving-focus-group/src/roving-focus-item.mjs';\nimport ElDropdownItemImpl from './dropdown-item-impl.mjs';\nimport { useDropdown } from './useDropdown.mjs';\nimport { dropdownItemProps } from './dropdown.mjs';\nimport { DROPDOWN_INJECTION_KEY } from './tokens.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { composeEventHandlers, whenMouse } from '../../../utils/dom/event.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"ElDropdownItem\",\n  components: {\n    ElRovingFocusItem,\n    ElDropdownItemImpl\n  },\n  inheritAttrs: false,\n  props: dropdownItemProps,\n  emits: [\"pointermove\", \"pointerleave\", \"click\"],\n  setup(props, { emit, attrs }) {\n    const { elDropdown } = useDropdown();\n    const _instance = getCurrentInstance();\n    const { onItemEnter, onItemLeave } = inject(DROPDOWN_INJECTION_KEY, void 0);\n    const handlePointerMove = composeEventHandlers((e) => {\n      emit(\"pointermove\", e);\n      return e.defaultPrevented;\n    }, whenMouse((e) => {\n      if (props.disabled) {\n        onItemLeave(e);\n        return;\n      }\n      const target = e.currentTarget;\n      if (target === document.activeElement || target.contains(document.activeElement)) {\n        return;\n      }\n      onItemEnter(e);\n      if (!e.defaultPrevented) {\n        target == null ? void 0 : target.focus({\n          preventScroll: true\n        });\n      }\n    }));\n    const handlePointerLeave = composeEventHandlers((e) => {\n      emit(\"pointerleave\", e);\n      return e.defaultPrevented;\n    }, whenMouse(onItemLeave));\n    const handleClick = composeEventHandlers((e) => {\n      if (props.disabled) {\n        return;\n      }\n      emit(\"click\", e);\n      return e.type !== \"keydown\" && e.defaultPrevented;\n    }, (e) => {\n      var _a, _b, _c;\n      if (props.disabled) {\n        e.stopImmediatePropagation();\n        return;\n      }\n      if ((_a = elDropdown == null ? void 0 : elDropdown.hideOnClick) == null ? void 0 : _a.value) {\n        (_b = elDropdown.handleClick) == null ? void 0 : _b.call(elDropdown);\n      }\n      (_c = elDropdown.commandHandler) == null ? void 0 : _c.call(elDropdown, props.command, _instance, e);\n    });\n    const propsAndAttrs = computed(() => ({ ...props, ...attrs }));\n    return {\n      handleClick,\n      handlePointerMove,\n      handlePointerLeave,\n      propsAndAttrs\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_dropdown_item_impl = resolveComponent(\"el-dropdown-item-impl\");\n  const _component_el_roving_focus_item = resolveComponent(\"el-roving-focus-item\");\n  return openBlock(), createBlock(_component_el_roving_focus_item, {\n    focusable: !_ctx.disabled\n  }, {\n    default: withCtx(() => [\n      createVNode(_component_el_dropdown_item_impl, mergeProps(_ctx.propsAndAttrs, {\n        onPointerleave: _ctx.handlePointerLeave,\n        onPointermove: _ctx.handlePointerMove,\n        onClickimpl: _ctx.handleClick\n      }), {\n        default: withCtx(() => [\n          renderSlot(_ctx.$slots, \"default\")\n        ]),\n        _: 3\n      }, 16, [\"onPointerleave\", \"onPointermove\", \"onClickimpl\"])\n    ]),\n    _: 3\n  }, 8, [\"focusable\"]);\n}\nvar DropdownItem = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"dropdown-item.vue\"]]);\n\nexport { DropdownItem as default };\n//# sourceMappingURL=dropdown-item.mjs.map\n","import { defineComponent, inject, computed, openBlock, createElementBlock, normalizeClass, normalizeStyle, withModifiers, renderSlot } from 'vue';\nimport { DROPDOWN_INJECTION_KEY } from './tokens.mjs';\nimport { dropdownMenuProps } from './dropdown.mjs';\nimport { useDropdown } from './useDropdown.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { ROVING_FOCUS_GROUP_INJECTION_KEY } from '../../roving-focus-group/src/tokens.mjs';\nimport { ROVING_FOCUS_COLLECTION_INJECTION_KEY as COLLECTION_INJECTION_KEY } from '../../roving-focus-group/src/roving-focus-group.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { composeRefs } from '../../../utils/vue/refs.mjs';\nimport { composeEventHandlers, getEventCode } from '../../../utils/dom/event.mjs';\nimport { EVENT_CODE } from '../../../constants/aria.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"ElDropdownMenu\",\n  props: dropdownMenuProps,\n  setup(props) {\n    const ns = useNamespace(\"dropdown\");\n    const { _elDropdownSize } = useDropdown();\n    const size = _elDropdownSize.value;\n    const { contentRef, role, triggerId, isUsingKeyboard, handleClose } = inject(DROPDOWN_INJECTION_KEY, void 0);\n    const {\n      rovingFocusGroupRef,\n      rovingFocusGroupRootStyle,\n      onBlur,\n      onFocus,\n      onKeydown,\n      onMousedown\n    } = inject(ROVING_FOCUS_GROUP_INJECTION_KEY, void 0);\n    const { collectionRef: rovingFocusGroupCollectionRef } = inject(COLLECTION_INJECTION_KEY, void 0);\n    const dropdownKls = computed(() => {\n      return [ns.b(\"menu\"), ns.bm(\"menu\", size == null ? void 0 : size.value)];\n    });\n    const dropdownListWrapperRef = composeRefs(contentRef, rovingFocusGroupRef, rovingFocusGroupCollectionRef);\n    const handleKeydown = composeEventHandlers((e) => {\n      var _a;\n      (_a = props.onKeydown) == null ? void 0 : _a.call(props, e);\n    }, (e) => {\n      const { currentTarget, target } = e;\n      const code = getEventCode(e);\n      currentTarget.contains(target);\n      if (EVENT_CODE.tab === code) {\n        return handleClose();\n      }\n      onKeydown(e);\n    });\n    function handleFocus(e) {\n      isUsingKeyboard.value && onFocus(e);\n    }\n    return {\n      size,\n      rovingFocusGroupRootStyle,\n      dropdownKls,\n      role,\n      triggerId,\n      dropdownListWrapperRef,\n      handleKeydown,\n      onBlur,\n      handleFocus,\n      onMousedown\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"ul\", {\n    ref: _ctx.dropdownListWrapperRef,\n    class: normalizeClass(_ctx.dropdownKls),\n    style: normalizeStyle(_ctx.rovingFocusGroupRootStyle),\n    tabindex: -1,\n    role: _ctx.role,\n    \"aria-labelledby\": _ctx.triggerId,\n    onFocusin: _ctx.handleFocus,\n    onFocusout: _ctx.onBlur,\n    onKeydown: withModifiers(_ctx.handleKeydown, [\"self\"]),\n    onMousedown: withModifiers(_ctx.onMousedown, [\"self\"])\n  }, [\n    renderSlot(_ctx.$slots, \"default\")\n  ], 46, [\"role\", \"aria-labelledby\", \"onFocusin\", \"onFocusout\", \"onKeydown\", \"onMousedown\"]);\n}\nvar DropdownMenu = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"dropdown-menu.vue\"]]);\n\nexport { DropdownMenu as default };\n//# sourceMappingURL=dropdown-menu.mjs.map\n","import Dropdown from './src/dropdown2.mjs';\nimport DropdownItem from './src/dropdown-item.mjs';\nimport DropdownMenu from './src/dropdown-menu.mjs';\nexport { FIRST_KEYS, FIRST_LAST_KEYS, LAST_KEYS, dropdownItemProps, dropdownMenuProps, dropdownProps } from './src/dropdown.mjs';\nexport { DROPDOWN_INJECTION_KEY, DROPDOWN_INSTANCE_INJECTION_KEY } from './src/tokens.mjs';\nimport { withInstall, withNoopInstall } from '../../utils/vue/install.mjs';\n\nconst ElDropdown = withInstall(Dropdown, {\n  DropdownItem,\n  DropdownMenu\n});\nconst ElDropdownItem = withNoopInstall(DropdownItem);\nconst ElDropdownMenu = withNoopInstall(DropdownMenu);\n\nexport { ElDropdown, ElDropdownItem, ElDropdownMenu, ElDropdown as default };\n//# sourceMappingURL=index.mjs.map\n","const sliderContextKey = Symbol(\"sliderContextKey\");\n\nexport { sliderContextKey };\n//# sourceMappingURL=constants.mjs.map\n","import { placements } from '@popperjs/core';\nimport { buildProps, definePropType } from '../../../utils/vue/props/runtime.mjs';\nimport { useSizeProp } from '../../../hooks/use-size/index.mjs';\nimport { useAriaProps } from '../../../hooks/use-aria/index.mjs';\nimport { UPDATE_MODEL_EVENT, INPUT_EVENT, CHANGE_EVENT } from '../../../constants/event.mjs';\nimport { isNumber } from '../../../utils/types.mjs';\nimport { isArray } from '@vue/shared';\n\nconst sliderProps = buildProps({\n  modelValue: {\n    type: definePropType([Number, Array]),\n    default: 0\n  },\n  id: {\n    type: String,\n    default: void 0\n  },\n  min: {\n    type: Number,\n    default: 0\n  },\n  max: {\n    type: Number,\n    default: 100\n  },\n  step: {\n    type: Number,\n    default: 1\n  },\n  showInput: Boolean,\n  showInputControls: {\n    type: Boolean,\n    default: true\n  },\n  size: useSizeProp,\n  inputSize: useSizeProp,\n  showStops: Boolean,\n  showTooltip: {\n    type: Boolean,\n    default: true\n  },\n  formatTooltip: {\n    type: definePropType(Function),\n    default: void 0\n  },\n  disabled: Boolean,\n  range: Boolean,\n  vertical: Boolean,\n  height: String,\n  rangeStartLabel: {\n    type: String,\n    default: void 0\n  },\n  rangeEndLabel: {\n    type: String,\n    default: void 0\n  },\n  formatValueText: {\n    type: definePropType(Function),\n    default: void 0\n  },\n  tooltipClass: {\n    type: String,\n    default: void 0\n  },\n  placement: {\n    type: String,\n    values: placements,\n    default: \"top\"\n  },\n  marks: {\n    type: definePropType(Object)\n  },\n  validateEvent: {\n    type: Boolean,\n    default: true\n  },\n  persistent: {\n    type: Boolean,\n    default: true\n  },\n  ...useAriaProps([\"ariaLabel\"])\n});\nconst isValidValue = (value) => isNumber(value) || isArray(value) && value.every(isNumber);\nconst sliderEmits = {\n  [UPDATE_MODEL_EVENT]: isValidValue,\n  [INPUT_EVENT]: isValidValue,\n  [CHANGE_EVENT]: isValidValue\n};\n\nexport { sliderEmits, sliderProps };\n//# sourceMappingURL=slider.mjs.map\n","import { placements } from '@popperjs/core';\nimport { buildProps } from '../../../utils/vue/props/runtime.mjs';\nimport { UPDATE_MODEL_EVENT } from '../../../constants/event.mjs';\nimport { isNumber } from '../../../utils/types.mjs';\n\nconst sliderButtonProps = buildProps({\n  modelValue: {\n    type: Number,\n    default: 0\n  },\n  vertical: Boolean,\n  tooltipClass: String,\n  placement: {\n    type: String,\n    values: placements,\n    default: \"top\"\n  }\n});\nconst sliderButtonEmits = {\n  [UPDATE_MODEL_EVENT]: (value) => isNumber(value)\n};\n\nexport { sliderButtonEmits, sliderButtonProps };\n//# sourceMappingURL=button.mjs.map\n","import { inject, ref, computed, nextTick, watch } from 'vue';\nimport { clamp, debounce } from 'lodash-unified';\nimport { useEventListener } from '@vueuse/core';\nimport { sliderContextKey } from '../constants.mjs';\nimport { getEventCode } from '../../../../utils/dom/event.mjs';\nimport { EVENT_CODE } from '../../../../constants/aria.mjs';\nimport { UPDATE_MODEL_EVENT } from '../../../../constants/event.mjs';\n\nconst useTooltip = (props, formatTooltip, showTooltip) => {\n  const tooltip = ref();\n  const tooltipVisible = ref(false);\n  const enableFormat = computed(() => {\n    return formatTooltip.value instanceof Function;\n  });\n  const formatValue = computed(() => {\n    return enableFormat.value && formatTooltip.value(props.modelValue) || props.modelValue;\n  });\n  const displayTooltip = debounce(() => {\n    showTooltip.value && (tooltipVisible.value = true);\n  }, 50);\n  const hideTooltip = debounce(() => {\n    showTooltip.value && (tooltipVisible.value = false);\n  }, 50);\n  return {\n    tooltip,\n    tooltipVisible,\n    formatValue,\n    displayTooltip,\n    hideTooltip\n  };\n};\nconst useSliderButton = (props, initData, emit) => {\n  const {\n    disabled,\n    min,\n    max,\n    step,\n    showTooltip,\n    persistent,\n    precision,\n    sliderSize,\n    formatTooltip,\n    emitChange,\n    resetSize,\n    updateDragging\n  } = inject(sliderContextKey);\n  const { tooltip, tooltipVisible, formatValue, displayTooltip, hideTooltip } = useTooltip(props, formatTooltip, showTooltip);\n  const button = ref();\n  const currentPosition = computed(() => {\n    return `${(props.modelValue - min.value) / (max.value - min.value) * 100}%`;\n  });\n  const wrapperStyle = computed(() => {\n    return props.vertical ? { bottom: currentPosition.value } : { left: currentPosition.value };\n  });\n  const handleMouseEnter = () => {\n    initData.hovering = true;\n    displayTooltip();\n  };\n  const handleMouseLeave = () => {\n    initData.hovering = false;\n    if (!initData.dragging) {\n      hideTooltip();\n    }\n  };\n  const onButtonDown = (event) => {\n    if (disabled.value)\n      return;\n    event.preventDefault();\n    onDragStart(event);\n    window.addEventListener(\"mousemove\", onDragging);\n    window.addEventListener(\"touchmove\", onDragging);\n    window.addEventListener(\"mouseup\", onDragEnd);\n    window.addEventListener(\"touchend\", onDragEnd);\n    window.addEventListener(\"contextmenu\", onDragEnd);\n    button.value.focus();\n  };\n  const incrementPosition = (amount) => {\n    if (disabled.value)\n      return;\n    initData.newPosition = Number.parseFloat(currentPosition.value) + amount / (max.value - min.value) * 100;\n    setPosition(initData.newPosition);\n    emitChange();\n  };\n  const onLeftKeyDown = () => {\n    incrementPosition(-step.value);\n  };\n  const onRightKeyDown = () => {\n    incrementPosition(step.value);\n  };\n  const onPageDownKeyDown = () => {\n    incrementPosition(-step.value * 4);\n  };\n  const onPageUpKeyDown = () => {\n    incrementPosition(step.value * 4);\n  };\n  const onHomeKeyDown = () => {\n    if (disabled.value)\n      return;\n    setPosition(0);\n    emitChange();\n  };\n  const onEndKeyDown = () => {\n    if (disabled.value)\n      return;\n    setPosition(100);\n    emitChange();\n  };\n  const onKeyDown = (event) => {\n    const code = getEventCode(event);\n    let isPreventDefault = true;\n    switch (code) {\n      case EVENT_CODE.left:\n      case EVENT_CODE.down:\n        onLeftKeyDown();\n        break;\n      case EVENT_CODE.right:\n      case EVENT_CODE.up:\n        onRightKeyDown();\n        break;\n      case EVENT_CODE.home:\n        onHomeKeyDown();\n        break;\n      case EVENT_CODE.end:\n        onEndKeyDown();\n        break;\n      case EVENT_CODE.pageDown:\n        onPageDownKeyDown();\n        break;\n      case EVENT_CODE.pageUp:\n        onPageUpKeyDown();\n        break;\n      default:\n        isPreventDefault = false;\n        break;\n    }\n    isPreventDefault && event.preventDefault();\n  };\n  const getClientXY = (event) => {\n    let clientX;\n    let clientY;\n    if (event.type.startsWith(\"touch\")) {\n      clientY = event.touches[0].clientY;\n      clientX = event.touches[0].clientX;\n    } else {\n      clientY = event.clientY;\n      clientX = event.clientX;\n    }\n    return {\n      clientX,\n      clientY\n    };\n  };\n  const onDragStart = (event) => {\n    initData.dragging = true;\n    initData.isClick = true;\n    const { clientX, clientY } = getClientXY(event);\n    if (props.vertical) {\n      initData.startY = clientY;\n    } else {\n      initData.startX = clientX;\n    }\n    initData.startPosition = Number.parseFloat(currentPosition.value);\n    initData.newPosition = initData.startPosition;\n  };\n  const onDragging = (event) => {\n    if (initData.dragging) {\n      initData.isClick = false;\n      displayTooltip();\n      resetSize();\n      let diff;\n      const { clientX, clientY } = getClientXY(event);\n      if (props.vertical) {\n        initData.currentY = clientY;\n        diff = (initData.startY - initData.currentY) / sliderSize.value * 100;\n      } else {\n        initData.currentX = clientX;\n        diff = (initData.currentX - initData.startX) / sliderSize.value * 100;\n      }\n      initData.newPosition = initData.startPosition + diff;\n      setPosition(initData.newPosition);\n    }\n  };\n  const onDragEnd = () => {\n    if (initData.dragging) {\n      setTimeout(() => {\n        initData.dragging = false;\n        if (!initData.hovering) {\n          hideTooltip();\n        }\n        if (!initData.isClick) {\n          setPosition(initData.newPosition);\n        }\n        emitChange();\n      }, 0);\n      window.removeEventListener(\"mousemove\", onDragging);\n      window.removeEventListener(\"touchmove\", onDragging);\n      window.removeEventListener(\"mouseup\", onDragEnd);\n      window.removeEventListener(\"touchend\", onDragEnd);\n      window.removeEventListener(\"contextmenu\", onDragEnd);\n    }\n  };\n  const setPosition = async (newPosition) => {\n    if (newPosition === null || Number.isNaN(+newPosition))\n      return;\n    newPosition = clamp(newPosition, 0, 100);\n    const fullSteps = Math.floor((max.value - min.value) / step.value);\n    const fullRangePercentage = fullSteps * step.value / (max.value - min.value) * 100;\n    const threshold = fullRangePercentage + (100 - fullRangePercentage) / 2;\n    let value;\n    if (newPosition < fullRangePercentage) {\n      const valueBetween = fullRangePercentage / fullSteps;\n      const steps = Math.round(newPosition / valueBetween);\n      value = min.value + steps * step.value;\n    } else if (newPosition < threshold) {\n      value = min.value + fullSteps * step.value;\n    } else {\n      value = max.value;\n    }\n    value = Number.parseFloat(value.toFixed(precision.value));\n    if (value !== props.modelValue) {\n      emit(UPDATE_MODEL_EVENT, value);\n    }\n    if (!initData.dragging && props.modelValue !== initData.oldValue) {\n      initData.oldValue = props.modelValue;\n    }\n    await nextTick();\n    initData.dragging && displayTooltip();\n    tooltip.value.updatePopper();\n  };\n  watch(() => initData.dragging, (val) => {\n    updateDragging(val);\n  });\n  useEventListener(button, \"touchstart\", onButtonDown, { passive: false });\n  return {\n    disabled,\n    button,\n    tooltip,\n    tooltipVisible,\n    showTooltip,\n    persistent,\n    wrapperStyle,\n    formatValue,\n    handleMouseEnter,\n    handleMouseLeave,\n    onButtonDown,\n    onKeyDown,\n    setPosition\n  };\n};\n\nexport { useSliderButton };\n//# sourceMappingURL=use-slider-button.mjs.map\n","import { defineComponent, reactive, computed, toRefs, openBlock, createElementBlock, normalizeClass, unref, normalizeStyle, createVNode, withCtx, createElementVNode, toDisplayString } from 'vue';\nimport { ElTooltip } from '../../tooltip/index.mjs';\nimport { sliderButtonProps, sliderButtonEmits } from './button.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useSliderButton } from './composables/use-slider-button.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\n\nconst __default__ = defineComponent({\n  name: \"ElSliderButton\"\n});\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: sliderButtonProps,\n  emits: sliderButtonEmits,\n  setup(__props, { expose, emit }) {\n    const props = __props;\n    const ns = useNamespace(\"slider\");\n    const initData = reactive({\n      hovering: false,\n      dragging: false,\n      isClick: false,\n      startX: 0,\n      currentX: 0,\n      startY: 0,\n      currentY: 0,\n      startPosition: 0,\n      newPosition: 0,\n      oldValue: props.modelValue\n    });\n    const tooltipPersistent = computed(() => !showTooltip.value ? false : persistent.value);\n    const {\n      disabled,\n      button,\n      tooltip,\n      showTooltip,\n      persistent,\n      tooltipVisible,\n      wrapperStyle,\n      formatValue,\n      handleMouseEnter,\n      handleMouseLeave,\n      onButtonDown,\n      onKeyDown,\n      setPosition\n    } = useSliderButton(props, initData, emit);\n    const { hovering, dragging } = toRefs(initData);\n    expose({\n      onButtonDown,\n      onKeyDown,\n      setPosition,\n      hovering,\n      dragging\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref_key: \"button\",\n        ref: button,\n        class: normalizeClass([unref(ns).e(\"button-wrapper\"), { hover: unref(hovering), dragging: unref(dragging) }]),\n        style: normalizeStyle(unref(wrapperStyle)),\n        tabindex: unref(disabled) ? void 0 : 0,\n        onMouseenter: unref(handleMouseEnter),\n        onMouseleave: unref(handleMouseLeave),\n        onMousedown: unref(onButtonDown),\n        onFocus: unref(handleMouseEnter),\n        onBlur: unref(handleMouseLeave),\n        onKeydown: unref(onKeyDown)\n      }, [\n        createVNode(unref(ElTooltip), {\n          ref_key: \"tooltip\",\n          ref: tooltip,\n          visible: unref(tooltipVisible),\n          placement: _ctx.placement,\n          \"fallback-placements\": [\"top\", \"bottom\", \"right\", \"left\"],\n          \"stop-popper-mouse-event\": false,\n          \"popper-class\": _ctx.tooltipClass,\n          disabled: !unref(showTooltip),\n          persistent: unref(tooltipPersistent)\n        }, {\n          content: withCtx(() => [\n            createElementVNode(\"span\", null, toDisplayString(unref(formatValue)), 1)\n          ]),\n          default: withCtx(() => [\n            createElementVNode(\"div\", {\n              class: normalizeClass([unref(ns).e(\"button\"), { hover: unref(hovering), dragging: unref(dragging) }])\n            }, null, 2)\n          ]),\n          _: 1\n        }, 8, [\"visible\", \"placement\", \"popper-class\", \"disabled\", \"persistent\"])\n      ], 46, [\"tabindex\", \"onMouseenter\", \"onMouseleave\", \"onMousedown\", \"onFocus\", \"onBlur\", \"onKeydown\"]);\n    };\n  }\n});\nvar SliderButton = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"button.vue\"]]);\n\nexport { SliderButton as default };\n//# sourceMappingURL=button2.mjs.map\n","import { defineComponent, computed, h } from 'vue';\nimport { buildProps, definePropType } from '../../../utils/vue/props/runtime.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { isString } from '@vue/shared';\n\nconst sliderMarkerProps = buildProps({\n  mark: {\n    type: definePropType([String, Object]),\n    default: void 0\n  }\n});\nvar SliderMarker = defineComponent({\n  name: \"ElSliderMarker\",\n  props: sliderMarkerProps,\n  setup(props) {\n    const ns = useNamespace(\"slider\");\n    const label = computed(() => {\n      return isString(props.mark) ? props.mark : props.mark.label;\n    });\n    const style = computed(() => isString(props.mark) ? void 0 : props.mark.style);\n    return () => h(\"div\", {\n      class: ns.e(\"marks-text\"),\n      style: style.value\n    }, label.value);\n  }\n});\n\nexport { SliderMarker as default, sliderMarkerProps };\n//# sourceMappingURL=marker.mjs.map\n","import { shallowRef, ref, computed, nextTick } from 'vue';\nimport { useFormItem } from '../../../form/src/hooks/use-form-item.mjs';\nimport { UPDATE_MODEL_EVENT, INPUT_EVENT, CHANGE_EVENT } from '../../../../constants/event.mjs';\n\nconst useSlide = (props, initData, emit) => {\n  const { form: elForm, formItem: elFormItem } = useFormItem();\n  const slider = shallowRef();\n  const firstButton = ref();\n  const secondButton = ref();\n  const buttonRefs = {\n    firstButton,\n    secondButton\n  };\n  const sliderDisabled = computed(() => {\n    return props.disabled || (elForm == null ? void 0 : elForm.disabled) || false;\n  });\n  const minValue = computed(() => {\n    return Math.min(initData.firstValue, initData.secondValue);\n  });\n  const maxValue = computed(() => {\n    return Math.max(initData.firstValue, initData.secondValue);\n  });\n  const barSize = computed(() => {\n    return props.range ? `${100 * (maxValue.value - minValue.value) / (props.max - props.min)}%` : `${100 * (initData.firstValue - props.min) / (props.max - props.min)}%`;\n  });\n  const barStart = computed(() => {\n    return props.range ? `${100 * (minValue.value - props.min) / (props.max - props.min)}%` : \"0%\";\n  });\n  const runwayStyle = computed(() => {\n    return props.vertical ? { height: props.height } : {};\n  });\n  const barStyle = computed(() => {\n    return props.vertical ? {\n      height: barSize.value,\n      bottom: barStart.value\n    } : {\n      width: barSize.value,\n      left: barStart.value\n    };\n  });\n  const resetSize = () => {\n    if (slider.value) {\n      const rect = slider.value.getBoundingClientRect();\n      initData.sliderSize = rect[props.vertical ? \"height\" : \"width\"];\n    }\n  };\n  const getButtonRefByPercent = (percent) => {\n    const targetValue = props.min + percent * (props.max - props.min) / 100;\n    if (!props.range) {\n      return firstButton;\n    }\n    let buttonRefName;\n    if (Math.abs(minValue.value - targetValue) < Math.abs(maxValue.value - targetValue)) {\n      buttonRefName = initData.firstValue < initData.secondValue ? \"firstButton\" : \"secondButton\";\n    } else {\n      buttonRefName = initData.firstValue > initData.secondValue ? \"firstButton\" : \"secondButton\";\n    }\n    return buttonRefs[buttonRefName];\n  };\n  const setPosition = (percent) => {\n    const buttonRef = getButtonRefByPercent(percent);\n    buttonRef.value.setPosition(percent);\n    return buttonRef;\n  };\n  const setFirstValue = (firstValue) => {\n    initData.firstValue = firstValue != null ? firstValue : props.min;\n    _emit(props.range ? [minValue.value, maxValue.value] : firstValue != null ? firstValue : props.min);\n  };\n  const setSecondValue = (secondValue) => {\n    initData.secondValue = secondValue;\n    if (props.range) {\n      _emit([minValue.value, maxValue.value]);\n    }\n  };\n  const _emit = (val) => {\n    emit(UPDATE_MODEL_EVENT, val);\n    emit(INPUT_EVENT, val);\n  };\n  const emitChange = async () => {\n    await nextTick();\n    emit(CHANGE_EVENT, props.range ? [minValue.value, maxValue.value] : props.modelValue);\n  };\n  const handleSliderPointerEvent = (event) => {\n    var _a, _b, _c, _d, _e, _f;\n    if (sliderDisabled.value || initData.dragging)\n      return;\n    resetSize();\n    let newPercent = 0;\n    if (props.vertical) {\n      const clientY = (_c = (_b = (_a = event.touches) == null ? void 0 : _a.item(0)) == null ? void 0 : _b.clientY) != null ? _c : event.clientY;\n      const sliderOffsetBottom = slider.value.getBoundingClientRect().bottom;\n      newPercent = (sliderOffsetBottom - clientY) / initData.sliderSize * 100;\n    } else {\n      const clientX = (_f = (_e = (_d = event.touches) == null ? void 0 : _d.item(0)) == null ? void 0 : _e.clientX) != null ? _f : event.clientX;\n      const sliderOffsetLeft = slider.value.getBoundingClientRect().left;\n      newPercent = (clientX - sliderOffsetLeft) / initData.sliderSize * 100;\n    }\n    if (newPercent < 0 || newPercent > 100)\n      return;\n    return setPosition(newPercent);\n  };\n  const onSliderWrapperPrevent = (event) => {\n    var _a, _b;\n    if (((_a = buttonRefs[\"firstButton\"].value) == null ? void 0 : _a.dragging) || ((_b = buttonRefs[\"secondButton\"].value) == null ? void 0 : _b.dragging)) {\n      event.preventDefault();\n    }\n  };\n  const onSliderDown = async (event) => {\n    const buttonRef = handleSliderPointerEvent(event);\n    if (buttonRef) {\n      await nextTick();\n      buttonRef.value.onButtonDown(event);\n    }\n  };\n  const onSliderClick = (event) => {\n    const buttonRef = handleSliderPointerEvent(event);\n    if (buttonRef) {\n      emitChange();\n    }\n  };\n  const onSliderMarkerDown = (position) => {\n    if (sliderDisabled.value || initData.dragging)\n      return;\n    const buttonRef = setPosition(position);\n    if (buttonRef) {\n      emitChange();\n    }\n  };\n  return {\n    elFormItem,\n    slider,\n    firstButton,\n    secondButton,\n    sliderDisabled,\n    minValue,\n    maxValue,\n    runwayStyle,\n    barStyle,\n    resetSize,\n    setPosition,\n    emitChange,\n    onSliderWrapperPrevent,\n    onSliderClick,\n    onSliderDown,\n    onSliderMarkerDown,\n    setFirstValue,\n    setSecondValue\n  };\n};\n\nexport { useSlide };\n//# sourceMappingURL=use-slide.mjs.map\n","import { computed } from 'vue';\nimport { debugWarn } from '../../../../utils/error.mjs';\n\nconst useStops = (props, initData, minValue, maxValue) => {\n  const stops = computed(() => {\n    if (!props.showStops || props.min > props.max)\n      return [];\n    if (props.step === 0) {\n      debugWarn(\"ElSlider\", \"step should not be 0.\");\n      return [];\n    }\n    const stopCount = Math.ceil((props.max - props.min) / props.step);\n    const stepWidth = 100 * props.step / (props.max - props.min);\n    const result = Array.from({ length: stopCount - 1 }).map((_, index) => (index + 1) * stepWidth);\n    if (props.range) {\n      return result.filter((step) => {\n        return step < 100 * (minValue.value - props.min) / (props.max - props.min) || step > 100 * (maxValue.value - props.min) / (props.max - props.min);\n      });\n    } else {\n      return result.filter((step) => step > 100 * (initData.firstValue - props.min) / (props.max - props.min));\n    }\n  });\n  const getStopStyle = (position) => {\n    return props.vertical ? { bottom: `${position}%` } : { left: `${position}%` };\n  };\n  return {\n    stops,\n    getStopStyle\n  };\n};\n\nexport { useStops };\n//# sourceMappingURL=use-stops.mjs.map\n","import { computed } from 'vue';\n\nconst useMarks = (props) => {\n  return computed(() => {\n    if (!props.marks) {\n      return [];\n    }\n    const marksKeys = Object.keys(props.marks);\n    return marksKeys.map(Number.parseFloat).sort((a, b) => a - b).filter((point) => point <= props.max && point >= props.min).map((point) => ({\n      point,\n      position: (point - props.min) * 100 / (props.max - props.min),\n      mark: props.marks[point]\n    }));\n  });\n};\n\nexport { useMarks };\n//# sourceMappingURL=use-marks.mjs.map\n","import { watch } from 'vue';\nimport { isArray } from '@vue/shared';\nimport { throwError, debugWarn } from '../../../../utils/error.mjs';\nimport { isNumber } from '../../../../utils/types.mjs';\nimport { UPDATE_MODEL_EVENT, INPUT_EVENT } from '../../../../constants/event.mjs';\n\nconst useWatch = (props, initData, minValue, maxValue, emit, elFormItem) => {\n  const _emit = (val) => {\n    emit(UPDATE_MODEL_EVENT, val);\n    emit(INPUT_EVENT, val);\n  };\n  const valueChanged = () => {\n    if (props.range) {\n      return ![minValue.value, maxValue.value].every((item, index) => item === initData.oldValue[index]);\n    } else {\n      return props.modelValue !== initData.oldValue;\n    }\n  };\n  const setValues = () => {\n    var _a, _b;\n    if (props.min > props.max) {\n      throwError(\"Slider\", \"min should not be greater than max.\");\n    }\n    const val = props.modelValue;\n    if (props.range && isArray(val)) {\n      if (val[1] < props.min) {\n        _emit([props.min, props.min]);\n      } else if (val[0] > props.max) {\n        _emit([props.max, props.max]);\n      } else if (val[0] < props.min) {\n        _emit([props.min, val[1]]);\n      } else if (val[1] > props.max) {\n        _emit([val[0], props.max]);\n      } else {\n        initData.firstValue = val[0];\n        initData.secondValue = val[1];\n        if (valueChanged()) {\n          if (props.validateEvent) {\n            (_a = elFormItem == null ? void 0 : elFormItem.validate) == null ? void 0 : _a.call(elFormItem, \"change\").catch((err) => debugWarn(err));\n          }\n          initData.oldValue = val.slice();\n        }\n      }\n    } else if (!props.range && isNumber(val) && !Number.isNaN(val)) {\n      if (val < props.min) {\n        _emit(props.min);\n      } else if (val > props.max) {\n        _emit(props.max);\n      } else {\n        initData.firstValue = val;\n        if (valueChanged()) {\n          if (props.validateEvent) {\n            (_b = elFormItem == null ? void 0 : elFormItem.validate) == null ? void 0 : _b.call(elFormItem, \"change\").catch((err) => debugWarn(err));\n          }\n          initData.oldValue = val;\n        }\n      }\n    }\n  };\n  setValues();\n  watch(() => initData.dragging, (val) => {\n    if (!val) {\n      setValues();\n    }\n  });\n  watch(() => props.modelValue, (val, oldVal) => {\n    if (initData.dragging || isArray(val) && isArray(oldVal) && val.every((item, index) => item === oldVal[index]) && initData.firstValue === val[0] && initData.secondValue === val[1]) {\n      return;\n    }\n    setValues();\n  }, {\n    deep: true\n  });\n  watch(() => [props.min, props.max], () => {\n    setValues();\n  });\n};\n\nexport { useWatch };\n//# sourceMappingURL=use-watch.mjs.map\n","import { ref, onMounted, nextTick } from 'vue';\nimport { useEventListener } from '@vueuse/core';\nimport { isArray } from '@vue/shared';\nimport { isNumber } from '../../../../utils/types.mjs';\n\nconst useLifecycle = (props, initData, resetSize) => {\n  const sliderWrapper = ref();\n  onMounted(async () => {\n    if (props.range) {\n      if (isArray(props.modelValue)) {\n        initData.firstValue = Math.max(props.min, props.modelValue[0]);\n        initData.secondValue = Math.min(props.max, props.modelValue[1]);\n      } else {\n        initData.firstValue = props.min;\n        initData.secondValue = props.max;\n      }\n      initData.oldValue = [initData.firstValue, initData.secondValue];\n    } else {\n      if (!isNumber(props.modelValue) || Number.isNaN(props.modelValue)) {\n        initData.firstValue = props.min;\n      } else {\n        initData.firstValue = Math.min(props.max, Math.max(props.min, props.modelValue));\n      }\n      initData.oldValue = initData.firstValue;\n    }\n    useEventListener(window, \"resize\", resetSize);\n    await nextTick();\n    resetSize();\n  });\n  return {\n    sliderWrapper\n  };\n};\n\nexport { useLifecycle };\n//# sourceMappingURL=use-lifecycle.mjs.map\n","import { defineComponent, reactive, computed, toRefs, provide, openBlock, createElementBlock, unref, normalizeClass, createElementVNode, normalizeStyle, createVNode, createBlock, createCommentVNode, Fragment, renderList, withModifiers } from 'vue';\nimport { useEventListener } from '@vueuse/core';\nimport { ElInputNumber } from '../../input-number/index.mjs';\nimport { sliderContextKey } from './constants.mjs';\nimport { sliderProps, sliderEmits } from './slider.mjs';\nimport SliderButton from './button2.mjs';\nimport SliderMarker from './marker.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useSlide } from './composables/use-slide.mjs';\nimport { useStops } from './composables/use-stops.mjs';\nimport { useMarks } from './composables/use-marks.mjs';\nimport { useWatch } from './composables/use-watch.mjs';\nimport { useLifecycle } from './composables/use-lifecycle.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { useLocale } from '../../../hooks/use-locale/index.mjs';\nimport { useFormItemInputId } from '../../form/src/hooks/use-form-item.mjs';\nimport { useFormSize } from '../../form/src/hooks/use-form-common-props.mjs';\n\nconst __default__ = defineComponent({\n  name: \"ElSlider\"\n});\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: sliderProps,\n  emits: sliderEmits,\n  setup(__props, { expose, emit }) {\n    const props = __props;\n    const ns = useNamespace(\"slider\");\n    const { t } = useLocale();\n    const initData = reactive({\n      firstValue: 0,\n      secondValue: 0,\n      oldValue: 0,\n      dragging: false,\n      sliderSize: 1\n    });\n    const {\n      elFormItem,\n      slider,\n      firstButton,\n      secondButton,\n      sliderDisabled,\n      minValue,\n      maxValue,\n      runwayStyle,\n      barStyle,\n      resetSize,\n      emitChange,\n      onSliderWrapperPrevent,\n      onSliderClick,\n      onSliderDown,\n      onSliderMarkerDown,\n      setFirstValue,\n      setSecondValue\n    } = useSlide(props, initData, emit);\n    const { stops, getStopStyle } = useStops(props, initData, minValue, maxValue);\n    const { inputId, isLabeledByFormItem } = useFormItemInputId(props, {\n      formItemContext: elFormItem\n    });\n    const sliderWrapperSize = useFormSize();\n    const sliderInputSize = computed(() => props.inputSize || sliderWrapperSize.value);\n    const groupLabel = computed(() => {\n      return props.ariaLabel || t(\"el.slider.defaultLabel\", {\n        min: props.min,\n        max: props.max\n      });\n    });\n    const firstButtonLabel = computed(() => {\n      if (props.range) {\n        return props.rangeStartLabel || t(\"el.slider.defaultRangeStartLabel\");\n      } else {\n        return groupLabel.value;\n      }\n    });\n    const firstValueText = computed(() => {\n      return props.formatValueText ? props.formatValueText(firstValue.value) : `${firstValue.value}`;\n    });\n    const secondButtonLabel = computed(() => {\n      return props.rangeEndLabel || t(\"el.slider.defaultRangeEndLabel\");\n    });\n    const secondValueText = computed(() => {\n      return props.formatValueText ? props.formatValueText(secondValue.value) : `${secondValue.value}`;\n    });\n    const sliderKls = computed(() => [\n      ns.b(),\n      ns.m(sliderWrapperSize.value),\n      ns.is(\"vertical\", props.vertical),\n      { [ns.m(\"with-input\")]: props.showInput }\n    ]);\n    const markList = useMarks(props);\n    useWatch(props, initData, minValue, maxValue, emit, elFormItem);\n    const precision = computed(() => {\n      const precisions = [props.min, props.max, props.step].map((item) => {\n        const decimal = `${item}`.split(\".\")[1];\n        return decimal ? decimal.length : 0;\n      });\n      return Math.max.apply(null, precisions);\n    });\n    const { sliderWrapper } = useLifecycle(props, initData, resetSize);\n    const { firstValue, secondValue, sliderSize } = toRefs(initData);\n    const updateDragging = (val) => {\n      initData.dragging = val;\n    };\n    useEventListener(sliderWrapper, \"touchstart\", onSliderWrapperPrevent, {\n      passive: false\n    });\n    useEventListener(sliderWrapper, \"touchmove\", onSliderWrapperPrevent, {\n      passive: false\n    });\n    provide(sliderContextKey, {\n      ...toRefs(props),\n      sliderSize,\n      disabled: sliderDisabled,\n      precision,\n      emitChange,\n      resetSize,\n      updateDragging\n    });\n    expose({\n      onSliderClick\n    });\n    return (_ctx, _cache) => {\n      var _a, _b;\n      return openBlock(), createElementBlock(\"div\", {\n        id: _ctx.range ? unref(inputId) : void 0,\n        ref_key: \"sliderWrapper\",\n        ref: sliderWrapper,\n        class: normalizeClass(unref(sliderKls)),\n        role: _ctx.range ? \"group\" : void 0,\n        \"aria-label\": _ctx.range && !unref(isLabeledByFormItem) ? unref(groupLabel) : void 0,\n        \"aria-labelledby\": _ctx.range && unref(isLabeledByFormItem) ? (_a = unref(elFormItem)) == null ? void 0 : _a.labelId : void 0\n      }, [\n        createElementVNode(\"div\", {\n          ref_key: \"slider\",\n          ref: slider,\n          class: normalizeClass([\n            unref(ns).e(\"runway\"),\n            { \"show-input\": _ctx.showInput && !_ctx.range },\n            unref(ns).is(\"disabled\", unref(sliderDisabled))\n          ]),\n          style: normalizeStyle(unref(runwayStyle)),\n          onMousedown: unref(onSliderDown),\n          onTouchstartPassive: unref(onSliderDown)\n        }, [\n          createElementVNode(\"div\", {\n            class: normalizeClass(unref(ns).e(\"bar\")),\n            style: normalizeStyle(unref(barStyle))\n          }, null, 6),\n          createVNode(SliderButton, {\n            id: !_ctx.range ? unref(inputId) : void 0,\n            ref_key: \"firstButton\",\n            ref: firstButton,\n            \"model-value\": unref(firstValue),\n            vertical: _ctx.vertical,\n            \"tooltip-class\": _ctx.tooltipClass,\n            placement: _ctx.placement,\n            role: \"slider\",\n            \"aria-label\": _ctx.range || !unref(isLabeledByFormItem) ? unref(firstButtonLabel) : void 0,\n            \"aria-labelledby\": !_ctx.range && unref(isLabeledByFormItem) ? (_b = unref(elFormItem)) == null ? void 0 : _b.labelId : void 0,\n            \"aria-valuemin\": _ctx.min,\n            \"aria-valuemax\": _ctx.range ? unref(secondValue) : _ctx.max,\n            \"aria-valuenow\": unref(firstValue),\n            \"aria-valuetext\": unref(firstValueText),\n            \"aria-orientation\": _ctx.vertical ? \"vertical\" : \"horizontal\",\n            \"aria-disabled\": unref(sliderDisabled),\n            \"onUpdate:modelValue\": unref(setFirstValue)\n          }, null, 8, [\"id\", \"model-value\", \"vertical\", \"tooltip-class\", \"placement\", \"aria-label\", \"aria-labelledby\", \"aria-valuemin\", \"aria-valuemax\", \"aria-valuenow\", \"aria-valuetext\", \"aria-orientation\", \"aria-disabled\", \"onUpdate:modelValue\"]),\n          _ctx.range ? (openBlock(), createBlock(SliderButton, {\n            key: 0,\n            ref_key: \"secondButton\",\n            ref: secondButton,\n            \"model-value\": unref(secondValue),\n            vertical: _ctx.vertical,\n            \"tooltip-class\": _ctx.tooltipClass,\n            placement: _ctx.placement,\n            role: \"slider\",\n            \"aria-label\": unref(secondButtonLabel),\n            \"aria-valuemin\": unref(firstValue),\n            \"aria-valuemax\": _ctx.max,\n            \"aria-valuenow\": unref(secondValue),\n            \"aria-valuetext\": unref(secondValueText),\n            \"aria-orientation\": _ctx.vertical ? \"vertical\" : \"horizontal\",\n            \"aria-disabled\": unref(sliderDisabled),\n            \"onUpdate:modelValue\": unref(setSecondValue)\n          }, null, 8, [\"model-value\", \"vertical\", \"tooltip-class\", \"placement\", \"aria-label\", \"aria-valuemin\", \"aria-valuemax\", \"aria-valuenow\", \"aria-valuetext\", \"aria-orientation\", \"aria-disabled\", \"onUpdate:modelValue\"])) : createCommentVNode(\"v-if\", true),\n          _ctx.showStops ? (openBlock(), createElementBlock(\"div\", { key: 1 }, [\n            (openBlock(true), createElementBlock(Fragment, null, renderList(unref(stops), (item, key) => {\n              return openBlock(), createElementBlock(\"div\", {\n                key,\n                class: normalizeClass(unref(ns).e(\"stop\")),\n                style: normalizeStyle(unref(getStopStyle)(item))\n              }, null, 6);\n            }), 128))\n          ])) : createCommentVNode(\"v-if\", true),\n          unref(markList).length > 0 ? (openBlock(), createElementBlock(Fragment, { key: 2 }, [\n            createElementVNode(\"div\", null, [\n              (openBlock(true), createElementBlock(Fragment, null, renderList(unref(markList), (item, key) => {\n                return openBlock(), createElementBlock(\"div\", {\n                  key,\n                  style: normalizeStyle(unref(getStopStyle)(item.position)),\n                  class: normalizeClass([unref(ns).e(\"stop\"), unref(ns).e(\"marks-stop\")])\n                }, null, 6);\n              }), 128))\n            ]),\n            createElementVNode(\"div\", {\n              class: normalizeClass(unref(ns).e(\"marks\"))\n            }, [\n              (openBlock(true), createElementBlock(Fragment, null, renderList(unref(markList), (item, key) => {\n                return openBlock(), createBlock(unref(SliderMarker), {\n                  key,\n                  mark: item.mark,\n                  style: normalizeStyle(unref(getStopStyle)(item.position)),\n                  onMousedown: withModifiers(($event) => unref(onSliderMarkerDown)(item.position), [\"stop\"])\n                }, null, 8, [\"mark\", \"style\", \"onMousedown\"]);\n              }), 128))\n            ], 2)\n          ], 64)) : createCommentVNode(\"v-if\", true)\n        ], 46, [\"onMousedown\", \"onTouchstartPassive\"]),\n        _ctx.showInput && !_ctx.range ? (openBlock(), createBlock(unref(ElInputNumber), {\n          key: 0,\n          ref: \"input\",\n          \"model-value\": unref(firstValue),\n          class: normalizeClass(unref(ns).e(\"input\")),\n          step: _ctx.step,\n          disabled: unref(sliderDisabled),\n          controls: _ctx.showInputControls,\n          min: _ctx.min,\n          max: _ctx.max,\n          precision: unref(precision),\n          size: unref(sliderInputSize),\n          \"onUpdate:modelValue\": unref(setFirstValue),\n          onChange: unref(emitChange)\n        }, null, 8, [\"model-value\", \"class\", \"step\", \"disabled\", \"controls\", \"min\", \"max\", \"precision\", \"size\", \"onUpdate:modelValue\", \"onChange\"])) : createCommentVNode(\"v-if\", true)\n      ], 10, [\"id\", \"role\", \"aria-label\", \"aria-labelledby\"]);\n    };\n  }\n});\nvar Slider = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"slider.vue\"]]);\n\nexport { Slider as default };\n//# sourceMappingURL=slider2.mjs.map\n","import Slider from './src/slider2.mjs';\nexport { sliderEmits, sliderProps } from './src/slider.mjs';\nexport { sliderContextKey } from './src/constants.mjs';\nimport { withInstall } from '../../utils/vue/install.mjs';\n\nconst ElSlider = withInstall(Slider);\n\nexport { ElSlider, ElSlider as default };\n//# sourceMappingURL=index.mjs.map\n","import { buildProps, definePropType } from '../../../utils/vue/props/runtime.mjs';\nimport { useSizeProp } from '../../../hooks/use-size/index.mjs';\nimport { useAriaProps } from '../../../hooks/use-aria/index.mjs';\nimport { UPDATE_MODEL_EVENT, CHANGE_EVENT } from '../../../constants/event.mjs';\nimport { isString } from '@vue/shared';\nimport { isNumber, isBoolean } from '../../../utils/types.mjs';\n\nconst defaultProps = {\n  label: \"label\",\n  value: \"value\",\n  disabled: \"disabled\"\n};\nconst segmentedProps = buildProps({\n  direction: {\n    type: definePropType(String),\n    default: \"horizontal\"\n  },\n  options: {\n    type: definePropType(Array),\n    default: () => []\n  },\n  modelValue: {\n    type: [String, Number, Boolean],\n    default: void 0\n  },\n  props: {\n    type: definePropType(Object),\n    default: () => defaultProps\n  },\n  block: Boolean,\n  size: useSizeProp,\n  disabled: Boolean,\n  validateEvent: {\n    type: Boolean,\n    default: true\n  },\n  id: String,\n  name: String,\n  ...useAriaProps([\"ariaLabel\"])\n});\nconst segmentedEmits = {\n  [UPDATE_MODEL_EVENT]: (val) => isString(val) || isNumber(val) || isBoolean(val),\n  [CHANGE_EVENT]: (val) => isString(val) || isNumber(val) || isBoolean(val)\n};\n\nexport { defaultProps, segmentedEmits, segmentedProps };\n//# sourceMappingURL=segmented.mjs.map\n","import { defineComponent, ref, reactive, computed, watch, openBlock, createElementBlock, unref, normalizeClass, createElementVNode, normalizeStyle, Fragment, renderList, renderSlot, createTextVNode, toDisplayString, createCommentVNode } from 'vue';\nimport { useActiveElement, useResizeObserver } from '@vueuse/core';\nimport { segmentedProps, segmentedEmits, defaultProps } from './segmented.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { useId } from '../../../hooks/use-id/index.mjs';\nimport { useFormSize, useFormDisabled } from '../../form/src/hooks/use-form-common-props.mjs';\nimport { useFormItem, useFormItemInputId } from '../../form/src/hooks/use-form-item.mjs';\nimport { isObject } from '@vue/shared';\nimport { debugWarn } from '../../../utils/error.mjs';\nimport { UPDATE_MODEL_EVENT, CHANGE_EVENT } from '../../../constants/event.mjs';\n\nconst __default__ = defineComponent({\n  name: \"ElSegmented\"\n});\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: segmentedProps,\n  emits: segmentedEmits,\n  setup(__props, { emit }) {\n    const props = __props;\n    const ns = useNamespace(\"segmented\");\n    const segmentedId = useId();\n    const segmentedSize = useFormSize();\n    const _disabled = useFormDisabled();\n    const { formItem } = useFormItem();\n    const { inputId, isLabeledByFormItem } = useFormItemInputId(props, {\n      formItemContext: formItem\n    });\n    const segmentedRef = ref(null);\n    const activeElement = useActiveElement();\n    const state = reactive({\n      isInit: false,\n      width: 0,\n      height: 0,\n      translateX: 0,\n      translateY: 0,\n      focusVisible: false\n    });\n    const handleChange = (item) => {\n      const value = getValue(item);\n      emit(UPDATE_MODEL_EVENT, value);\n      emit(CHANGE_EVENT, value);\n    };\n    const aliasProps = computed(() => ({ ...defaultProps, ...props.props }));\n    const intoAny = (item) => item;\n    const getValue = (item) => {\n      return isObject(item) ? item[aliasProps.value.value] : item;\n    };\n    const getLabel = (item) => {\n      return isObject(item) ? item[aliasProps.value.label] : item;\n    };\n    const getDisabled = (item) => {\n      return !!(_disabled.value || (isObject(item) ? item[aliasProps.value.disabled] : false));\n    };\n    const getSelected = (item) => {\n      return props.modelValue === getValue(item);\n    };\n    const getOption = (value) => {\n      return props.options.find((item) => getValue(item) === value);\n    };\n    const getItemCls = (item) => {\n      return [\n        ns.e(\"item\"),\n        ns.is(\"selected\", getSelected(item)),\n        ns.is(\"disabled\", getDisabled(item))\n      ];\n    };\n    const updateSelect = () => {\n      if (!segmentedRef.value)\n        return;\n      const selectedItem = segmentedRef.value.querySelector(\".is-selected\");\n      const selectedItemInput = segmentedRef.value.querySelector(\".is-selected input\");\n      if (!selectedItem || !selectedItemInput) {\n        state.width = 0;\n        state.height = 0;\n        state.translateX = 0;\n        state.translateY = 0;\n        state.focusVisible = false;\n        return;\n      }\n      state.isInit = true;\n      if (props.direction === \"vertical\") {\n        state.height = selectedItem.offsetHeight;\n        state.translateY = selectedItem.offsetTop;\n      } else {\n        state.width = selectedItem.offsetWidth;\n        state.translateX = selectedItem.offsetLeft;\n      }\n      try {\n        state.focusVisible = selectedItemInput.matches(\":focus-visible\");\n      } catch (e) {\n      }\n    };\n    const segmentedCls = computed(() => [\n      ns.b(),\n      ns.m(segmentedSize.value),\n      ns.is(\"block\", props.block)\n    ]);\n    const selectedStyle = computed(() => ({\n      width: props.direction === \"vertical\" ? \"100%\" : `${state.width}px`,\n      height: props.direction === \"vertical\" ? `${state.height}px` : \"100%\",\n      transform: props.direction === \"vertical\" ? `translateY(${state.translateY}px)` : `translateX(${state.translateX}px)`,\n      display: state.isInit ? \"block\" : \"none\"\n    }));\n    const selectedCls = computed(() => [\n      ns.e(\"item-selected\"),\n      ns.is(\"disabled\", getDisabled(getOption(props.modelValue))),\n      ns.is(\"focus-visible\", state.focusVisible)\n    ]);\n    const name = computed(() => {\n      return props.name || segmentedId.value;\n    });\n    useResizeObserver(segmentedRef, updateSelect);\n    watch(activeElement, updateSelect);\n    watch(() => props.modelValue, () => {\n      var _a;\n      updateSelect();\n      if (props.validateEvent) {\n        (_a = formItem == null ? void 0 : formItem.validate) == null ? void 0 : _a.call(formItem, \"change\").catch((err) => debugWarn(err));\n      }\n    }, {\n      flush: \"post\"\n    });\n    return (_ctx, _cache) => {\n      return _ctx.options.length ? (openBlock(), createElementBlock(\"div\", {\n        key: 0,\n        id: unref(inputId),\n        ref_key: \"segmentedRef\",\n        ref: segmentedRef,\n        class: normalizeClass(unref(segmentedCls)),\n        role: \"radiogroup\",\n        \"aria-label\": !unref(isLabeledByFormItem) ? _ctx.ariaLabel || \"segmented\" : void 0,\n        \"aria-labelledby\": unref(isLabeledByFormItem) ? unref(formItem).labelId : void 0\n      }, [\n        createElementVNode(\"div\", {\n          class: normalizeClass([unref(ns).e(\"group\"), unref(ns).m(_ctx.direction)])\n        }, [\n          createElementVNode(\"div\", {\n            style: normalizeStyle(unref(selectedStyle)),\n            class: normalizeClass(unref(selectedCls))\n          }, null, 6),\n          (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.options, (item, index) => {\n            return openBlock(), createElementBlock(\"label\", {\n              key: index,\n              class: normalizeClass(getItemCls(item))\n            }, [\n              createElementVNode(\"input\", {\n                class: normalizeClass(unref(ns).e(\"item-input\")),\n                type: \"radio\",\n                name: unref(name),\n                disabled: getDisabled(item),\n                checked: getSelected(item),\n                onChange: ($event) => handleChange(item)\n              }, null, 42, [\"name\", \"disabled\", \"checked\", \"onChange\"]),\n              createElementVNode(\"div\", {\n                class: normalizeClass(unref(ns).e(\"item-label\"))\n              }, [\n                renderSlot(_ctx.$slots, \"default\", {\n                  item: intoAny(item)\n                }, () => [\n                  createTextVNode(toDisplayString(getLabel(item)), 1)\n                ])\n              ], 2)\n            ], 2);\n          }), 128))\n        ], 2)\n      ], 10, [\"id\", \"aria-label\", \"aria-labelledby\"])) : createCommentVNode(\"v-if\", true);\n    };\n  }\n});\nvar Segmented = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"segmented.vue\"]]);\n\nexport { Segmented as default };\n//# sourceMappingURL=segmented2.mjs.map\n","import Segmented from './src/segmented2.mjs';\nexport { defaultProps, segmentedEmits, segmentedProps } from './src/segmented.mjs';\nimport { withInstall } from '../../utils/vue/install.mjs';\n\nconst ElSegmented = withInstall(Segmented);\n\nexport { ElSegmented, ElSegmented as default };\n//# sourceMappingURL=index.mjs.map\n","import { nextTick } from 'vue';\nimport { obtainAllFocusableElements } from '../../utils/dom/aria.mjs';\nimport { getEventCode } from '../../utils/dom/event.mjs';\nimport { EVENT_CODE } from '../../constants/aria.mjs';\n\nconst FOCUSABLE_CHILDREN = \"_trap-focus-children\";\nconst TRAP_FOCUS_HANDLER = \"_trap-focus-handler\";\nconst FOCUS_STACK = [];\nconst FOCUS_HANDLER = (e) => {\n  var _a;\n  if (FOCUS_STACK.length === 0)\n    return;\n  const code = getEventCode(e);\n  const focusableElement = FOCUS_STACK[FOCUS_STACK.length - 1][FOCUSABLE_CHILDREN];\n  if (focusableElement.length > 0 && code === EVENT_CODE.tab) {\n    if (focusableElement.length === 1) {\n      e.preventDefault();\n      if (document.activeElement !== focusableElement[0]) {\n        focusableElement[0].focus();\n      }\n      return;\n    }\n    const goingBackward = e.shiftKey;\n    const isFirst = e.target === focusableElement[0];\n    const isLast = e.target === focusableElement[focusableElement.length - 1];\n    if (isFirst && goingBackward) {\n      e.preventDefault();\n      focusableElement[focusableElement.length - 1].focus();\n    }\n    if (isLast && !goingBackward) {\n      e.preventDefault();\n      focusableElement[0].focus();\n    }\n    if (typeof process !== \"undefined\" && process.env.NODE_ENV === \"test\") {\n      const index = focusableElement.indexOf(e.target);\n      if (index !== -1) {\n        (_a = focusableElement[goingBackward ? index - 1 : index + 1]) == null ? void 0 : _a.focus();\n      }\n    }\n  }\n};\nconst TrapFocus = {\n  beforeMount(el) {\n    el[FOCUSABLE_CHILDREN] = obtainAllFocusableElements(el);\n    FOCUS_STACK.push(el);\n    if (FOCUS_STACK.length <= 1) {\n      document.addEventListener(\"keydown\", FOCUS_HANDLER);\n    }\n  },\n  updated(el) {\n    nextTick(() => {\n      el[FOCUSABLE_CHILDREN] = obtainAllFocusableElements(el);\n    });\n  },\n  unmounted() {\n    FOCUS_STACK.shift();\n    if (FOCUS_STACK.length === 0) {\n      document.removeEventListener(\"keydown\", FOCUS_HANDLER);\n    }\n  }\n};\n\nexport { FOCUSABLE_CHILDREN, TRAP_FOCUS_HANDLER, TrapFocus as default };\n//# sourceMappingURL=index.mjs.map\n","import { defineComponent, computed, ref, reactive, markRaw, watch, nextTick, onMounted, onBeforeUnmount, toRefs, resolveComponent, openBlock, createBlock, Transition, withCtx, withDirectives, createVNode, createElementVNode, normalizeClass, normalizeStyle, withModifiers, createElementBlock, resolveDynamicComponent, createCommentVNode, toDisplayString, withKeys, renderSlot, vShow, createTextVNode } from 'vue';\nimport { ElButton } from '../../button/index.mjs';\nimport { ElInput } from '../../input/index.mjs';\nimport { ElOverlay } from '../../overlay/index.mjs';\nimport { ElIcon } from '../../icon/index.mjs';\nimport { Loading } from '@element-plus/icons-vue';\nimport ElFocusTrap from '../../focus-trap/src/focus-trap.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport TrapFocus from '../../../directives/trap-focus/index.mjs';\nimport { TypeComponents, TypeComponentsMap } from '../../../utils/vue/icon.mjs';\nimport { isValidComponentSize } from '../../../utils/vue/validator.mjs';\nimport { useGlobalComponentSettings } from '../../config-provider/src/hooks/use-global-config.mjs';\nimport { useId } from '../../../hooks/use-id/index.mjs';\nimport { useDraggable } from '../../../hooks/use-draggable/index.mjs';\nimport { isFunction, isString } from '@vue/shared';\nimport { useLockscreen } from '../../../hooks/use-lockscreen/index.mjs';\nimport { useSameTarget } from '../../../hooks/use-same-target/index.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"ElMessageBox\",\n  directives: {\n    TrapFocus\n  },\n  components: {\n    ElButton,\n    ElFocusTrap,\n    ElInput,\n    ElOverlay,\n    ElIcon,\n    ...TypeComponents\n  },\n  inheritAttrs: false,\n  props: {\n    buttonSize: {\n      type: String,\n      validator: isValidComponentSize\n    },\n    modal: {\n      type: Boolean,\n      default: true\n    },\n    lockScroll: {\n      type: Boolean,\n      default: true\n    },\n    showClose: {\n      type: Boolean,\n      default: true\n    },\n    closeOnClickModal: {\n      type: Boolean,\n      default: true\n    },\n    closeOnPressEscape: {\n      type: Boolean,\n      default: true\n    },\n    closeOnHashChange: {\n      type: Boolean,\n      default: true\n    },\n    center: Boolean,\n    draggable: Boolean,\n    overflow: Boolean,\n    roundButton: Boolean,\n    container: {\n      type: String,\n      default: \"body\"\n    },\n    boxType: {\n      type: String,\n      default: \"\"\n    }\n  },\n  emits: [\"vanish\", \"action\"],\n  setup(props, { emit }) {\n    const {\n      locale,\n      zIndex,\n      ns,\n      size: btnSize\n    } = useGlobalComponentSettings(\"message-box\", computed(() => props.buttonSize));\n    const { t } = locale;\n    const { nextZIndex } = zIndex;\n    const visible = ref(false);\n    const state = reactive({\n      autofocus: true,\n      beforeClose: null,\n      callback: null,\n      cancelButtonText: \"\",\n      cancelButtonClass: \"\",\n      confirmButtonText: \"\",\n      confirmButtonClass: \"\",\n      customClass: \"\",\n      customStyle: {},\n      dangerouslyUseHTMLString: false,\n      distinguishCancelAndClose: false,\n      icon: \"\",\n      closeIcon: \"\",\n      inputPattern: null,\n      inputPlaceholder: \"\",\n      inputType: \"text\",\n      inputValue: \"\",\n      inputValidator: void 0,\n      inputErrorMessage: \"\",\n      message: \"\",\n      modalFade: true,\n      modalClass: \"\",\n      showCancelButton: false,\n      showConfirmButton: true,\n      type: \"\",\n      title: void 0,\n      showInput: false,\n      action: \"\",\n      confirmButtonLoading: false,\n      cancelButtonLoading: false,\n      confirmButtonLoadingIcon: markRaw(Loading),\n      cancelButtonLoadingIcon: markRaw(Loading),\n      confirmButtonDisabled: false,\n      editorErrorMessage: \"\",\n      validateError: false,\n      zIndex: nextZIndex()\n    });\n    const typeClass = computed(() => {\n      const type = state.type;\n      return { [ns.bm(\"icon\", type)]: type && TypeComponentsMap[type] };\n    });\n    const contentId = useId();\n    const inputId = useId();\n    const iconComponent = computed(() => {\n      const type = state.type;\n      return state.icon || type && TypeComponentsMap[type] || \"\";\n    });\n    const hasMessage = computed(() => !!state.message);\n    const rootRef = ref();\n    const headerRef = ref();\n    const focusStartRef = ref();\n    const inputRef = ref();\n    const confirmRef = ref();\n    const confirmButtonClasses = computed(() => state.confirmButtonClass);\n    watch(() => state.inputValue, async (val) => {\n      await nextTick();\n      if (props.boxType === \"prompt\" && val) {\n        validate();\n      }\n    }, { immediate: true });\n    watch(() => visible.value, (val) => {\n      var _a, _b;\n      if (val) {\n        if (props.boxType !== \"prompt\") {\n          if (state.autofocus) {\n            focusStartRef.value = (_b = (_a = confirmRef.value) == null ? void 0 : _a.$el) != null ? _b : rootRef.value;\n          } else {\n            focusStartRef.value = rootRef.value;\n          }\n        }\n        state.zIndex = nextZIndex();\n      }\n      if (props.boxType !== \"prompt\")\n        return;\n      if (val) {\n        nextTick().then(() => {\n          var _a2;\n          if (inputRef.value && inputRef.value.$el) {\n            if (state.autofocus) {\n              focusStartRef.value = (_a2 = getInputElement()) != null ? _a2 : rootRef.value;\n            } else {\n              focusStartRef.value = rootRef.value;\n            }\n          }\n        });\n      } else {\n        state.editorErrorMessage = \"\";\n        state.validateError = false;\n      }\n    });\n    const draggable = computed(() => props.draggable);\n    const overflow = computed(() => props.overflow);\n    const { isDragging } = useDraggable(rootRef, headerRef, draggable, overflow);\n    onMounted(async () => {\n      await nextTick();\n      if (props.closeOnHashChange) {\n        window.addEventListener(\"hashchange\", doClose);\n      }\n    });\n    onBeforeUnmount(() => {\n      if (props.closeOnHashChange) {\n        window.removeEventListener(\"hashchange\", doClose);\n      }\n    });\n    function doClose() {\n      if (!visible.value)\n        return;\n      visible.value = false;\n      nextTick(() => {\n        if (state.action)\n          emit(\"action\", state.action);\n      });\n    }\n    const handleWrapperClick = () => {\n      if (props.closeOnClickModal) {\n        handleAction(state.distinguishCancelAndClose ? \"close\" : \"cancel\");\n      }\n    };\n    const overlayEvent = useSameTarget(handleWrapperClick);\n    const handleInputEnter = (e) => {\n      if (state.inputType !== \"textarea\") {\n        e.preventDefault();\n        return handleAction(\"confirm\");\n      }\n    };\n    const handleAction = (action) => {\n      var _a;\n      if (props.boxType === \"prompt\" && action === \"confirm\" && !validate()) {\n        return;\n      }\n      state.action = action;\n      if (state.beforeClose) {\n        (_a = state.beforeClose) == null ? void 0 : _a.call(state, action, state, doClose);\n      } else {\n        doClose();\n      }\n    };\n    const validate = () => {\n      if (props.boxType === \"prompt\") {\n        const inputPattern = state.inputPattern;\n        if (inputPattern && !inputPattern.test(state.inputValue || \"\")) {\n          state.editorErrorMessage = state.inputErrorMessage || t(\"el.messagebox.error\");\n          state.validateError = true;\n          return false;\n        }\n        const inputValidator = state.inputValidator;\n        if (isFunction(inputValidator)) {\n          const validateResult = inputValidator(state.inputValue);\n          if (validateResult === false) {\n            state.editorErrorMessage = state.inputErrorMessage || t(\"el.messagebox.error\");\n            state.validateError = true;\n            return false;\n          }\n          if (isString(validateResult)) {\n            state.editorErrorMessage = validateResult;\n            state.validateError = true;\n            return false;\n          }\n        }\n      }\n      state.editorErrorMessage = \"\";\n      state.validateError = false;\n      return true;\n    };\n    const getInputElement = () => {\n      var _a, _b;\n      const inputRefs = (_a = inputRef.value) == null ? void 0 : _a.$refs;\n      return (_b = inputRefs == null ? void 0 : inputRefs.input) != null ? _b : inputRefs == null ? void 0 : inputRefs.textarea;\n    };\n    const handleClose = () => {\n      handleAction(\"close\");\n    };\n    const onCloseRequested = () => {\n      if (props.closeOnPressEscape) {\n        handleClose();\n      }\n    };\n    if (props.lockScroll) {\n      useLockscreen(visible, { ns });\n    }\n    return {\n      ...toRefs(state),\n      ns,\n      overlayEvent,\n      visible,\n      hasMessage,\n      typeClass,\n      contentId,\n      inputId,\n      btnSize,\n      iconComponent,\n      confirmButtonClasses,\n      rootRef,\n      focusStartRef,\n      headerRef,\n      inputRef,\n      isDragging,\n      confirmRef,\n      doClose,\n      handleClose,\n      onCloseRequested,\n      handleWrapperClick,\n      handleInputEnter,\n      handleAction,\n      t\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_icon = resolveComponent(\"el-icon\");\n  const _component_el_input = resolveComponent(\"el-input\");\n  const _component_el_button = resolveComponent(\"el-button\");\n  const _component_el_focus_trap = resolveComponent(\"el-focus-trap\");\n  const _component_el_overlay = resolveComponent(\"el-overlay\");\n  return openBlock(), createBlock(Transition, {\n    name: \"fade-in-linear\",\n    onAfterLeave: ($event) => _ctx.$emit(\"vanish\"),\n    persisted: \"\"\n  }, {\n    default: withCtx(() => [\n      withDirectives(createVNode(_component_el_overlay, {\n        \"z-index\": _ctx.zIndex,\n        \"overlay-class\": [_ctx.ns.is(\"message-box\"), _ctx.modalClass],\n        mask: _ctx.modal\n      }, {\n        default: withCtx(() => [\n          createElementVNode(\"div\", {\n            role: \"dialog\",\n            \"aria-label\": _ctx.title,\n            \"aria-modal\": \"true\",\n            \"aria-describedby\": !_ctx.showInput ? _ctx.contentId : void 0,\n            class: normalizeClass(`${_ctx.ns.namespace.value}-overlay-message-box`),\n            onClick: _ctx.overlayEvent.onClick,\n            onMousedown: _ctx.overlayEvent.onMousedown,\n            onMouseup: _ctx.overlayEvent.onMouseup\n          }, [\n            createVNode(_component_el_focus_trap, {\n              loop: \"\",\n              trapped: _ctx.visible,\n              \"focus-trap-el\": _ctx.rootRef,\n              \"focus-start-el\": _ctx.focusStartRef,\n              onReleaseRequested: _ctx.onCloseRequested\n            }, {\n              default: withCtx(() => [\n                createElementVNode(\"div\", {\n                  ref: \"rootRef\",\n                  class: normalizeClass([\n                    _ctx.ns.b(),\n                    _ctx.customClass,\n                    _ctx.ns.is(\"draggable\", _ctx.draggable),\n                    _ctx.ns.is(\"dragging\", _ctx.isDragging),\n                    { [_ctx.ns.m(\"center\")]: _ctx.center }\n                  ]),\n                  style: normalizeStyle(_ctx.customStyle),\n                  tabindex: \"-1\",\n                  onClick: withModifiers(() => {\n                  }, [\"stop\"])\n                }, [\n                  _ctx.title !== null && _ctx.title !== void 0 ? (openBlock(), createElementBlock(\"div\", {\n                    key: 0,\n                    ref: \"headerRef\",\n                    class: normalizeClass([_ctx.ns.e(\"header\"), { \"show-close\": _ctx.showClose }])\n                  }, [\n                    createElementVNode(\"div\", {\n                      class: normalizeClass(_ctx.ns.e(\"title\"))\n                    }, [\n                      _ctx.iconComponent && _ctx.center ? (openBlock(), createBlock(_component_el_icon, {\n                        key: 0,\n                        class: normalizeClass([_ctx.ns.e(\"status\"), _ctx.typeClass])\n                      }, {\n                        default: withCtx(() => [\n                          (openBlock(), createBlock(resolveDynamicComponent(_ctx.iconComponent)))\n                        ]),\n                        _: 1\n                      }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true),\n                      createElementVNode(\"span\", null, toDisplayString(_ctx.title), 1)\n                    ], 2),\n                    _ctx.showClose ? (openBlock(), createElementBlock(\"button\", {\n                      key: 0,\n                      type: \"button\",\n                      class: normalizeClass(_ctx.ns.e(\"headerbtn\")),\n                      \"aria-label\": _ctx.t(\"el.messagebox.close\"),\n                      onClick: ($event) => _ctx.handleAction(_ctx.distinguishCancelAndClose ? \"close\" : \"cancel\"),\n                      onKeydown: withKeys(withModifiers(($event) => _ctx.handleAction(_ctx.distinguishCancelAndClose ? \"close\" : \"cancel\"), [\"prevent\"]), [\"enter\"])\n                    }, [\n                      createVNode(_component_el_icon, {\n                        class: normalizeClass(_ctx.ns.e(\"close\"))\n                      }, {\n                        default: withCtx(() => [\n                          (openBlock(), createBlock(resolveDynamicComponent(_ctx.closeIcon || \"close\")))\n                        ]),\n                        _: 1\n                      }, 8, [\"class\"])\n                    ], 42, [\"aria-label\", \"onClick\", \"onKeydown\"])) : createCommentVNode(\"v-if\", true)\n                  ], 2)) : createCommentVNode(\"v-if\", true),\n                  createElementVNode(\"div\", {\n                    id: _ctx.contentId,\n                    class: normalizeClass(_ctx.ns.e(\"content\"))\n                  }, [\n                    createElementVNode(\"div\", {\n                      class: normalizeClass(_ctx.ns.e(\"container\"))\n                    }, [\n                      _ctx.iconComponent && !_ctx.center && _ctx.hasMessage ? (openBlock(), createBlock(_component_el_icon, {\n                        key: 0,\n                        class: normalizeClass([_ctx.ns.e(\"status\"), _ctx.typeClass])\n                      }, {\n                        default: withCtx(() => [\n                          (openBlock(), createBlock(resolveDynamicComponent(_ctx.iconComponent)))\n                        ]),\n                        _: 1\n                      }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true),\n                      _ctx.hasMessage ? (openBlock(), createElementBlock(\"div\", {\n                        key: 1,\n                        class: normalizeClass(_ctx.ns.e(\"message\"))\n                      }, [\n                        renderSlot(_ctx.$slots, \"default\", {}, () => [\n                          !_ctx.dangerouslyUseHTMLString ? (openBlock(), createBlock(resolveDynamicComponent(_ctx.showInput ? \"label\" : \"p\"), {\n                            key: 0,\n                            for: _ctx.showInput ? _ctx.inputId : void 0,\n                            textContent: toDisplayString(_ctx.message)\n                          }, null, 8, [\"for\", \"textContent\"])) : (openBlock(), createBlock(resolveDynamicComponent(_ctx.showInput ? \"label\" : \"p\"), {\n                            key: 1,\n                            for: _ctx.showInput ? _ctx.inputId : void 0,\n                            innerHTML: _ctx.message\n                          }, null, 8, [\"for\", \"innerHTML\"]))\n                        ])\n                      ], 2)) : createCommentVNode(\"v-if\", true)\n                    ], 2),\n                    withDirectives(createElementVNode(\"div\", {\n                      class: normalizeClass(_ctx.ns.e(\"input\"))\n                    }, [\n                      createVNode(_component_el_input, {\n                        id: _ctx.inputId,\n                        ref: \"inputRef\",\n                        modelValue: _ctx.inputValue,\n                        \"onUpdate:modelValue\": ($event) => _ctx.inputValue = $event,\n                        type: _ctx.inputType,\n                        placeholder: _ctx.inputPlaceholder,\n                        \"aria-invalid\": _ctx.validateError,\n                        class: normalizeClass({ invalid: _ctx.validateError }),\n                        onKeydown: withKeys(_ctx.handleInputEnter, [\"enter\"])\n                      }, null, 8, [\"id\", \"modelValue\", \"onUpdate:modelValue\", \"type\", \"placeholder\", \"aria-invalid\", \"class\", \"onKeydown\"]),\n                      createElementVNode(\"div\", {\n                        class: normalizeClass(_ctx.ns.e(\"errormsg\")),\n                        style: normalizeStyle({\n                          visibility: !!_ctx.editorErrorMessage ? \"visible\" : \"hidden\"\n                        })\n                      }, toDisplayString(_ctx.editorErrorMessage), 7)\n                    ], 2), [\n                      [vShow, _ctx.showInput]\n                    ])\n                  ], 10, [\"id\"]),\n                  createElementVNode(\"div\", {\n                    class: normalizeClass(_ctx.ns.e(\"btns\"))\n                  }, [\n                    _ctx.showCancelButton ? (openBlock(), createBlock(_component_el_button, {\n                      key: 0,\n                      loading: _ctx.cancelButtonLoading,\n                      \"loading-icon\": _ctx.cancelButtonLoadingIcon,\n                      class: normalizeClass([_ctx.cancelButtonClass]),\n                      round: _ctx.roundButton,\n                      size: _ctx.btnSize,\n                      onClick: ($event) => _ctx.handleAction(\"cancel\"),\n                      onKeydown: withKeys(withModifiers(($event) => _ctx.handleAction(\"cancel\"), [\"prevent\"]), [\"enter\"])\n                    }, {\n                      default: withCtx(() => [\n                        createTextVNode(toDisplayString(_ctx.cancelButtonText || _ctx.t(\"el.messagebox.cancel\")), 1)\n                      ]),\n                      _: 1\n                    }, 8, [\"loading\", \"loading-icon\", \"class\", \"round\", \"size\", \"onClick\", \"onKeydown\"])) : createCommentVNode(\"v-if\", true),\n                    withDirectives(createVNode(_component_el_button, {\n                      ref: \"confirmRef\",\n                      type: \"primary\",\n                      loading: _ctx.confirmButtonLoading,\n                      \"loading-icon\": _ctx.confirmButtonLoadingIcon,\n                      class: normalizeClass([_ctx.confirmButtonClasses]),\n                      round: _ctx.roundButton,\n                      disabled: _ctx.confirmButtonDisabled,\n                      size: _ctx.btnSize,\n                      onClick: ($event) => _ctx.handleAction(\"confirm\"),\n                      onKeydown: withKeys(withModifiers(($event) => _ctx.handleAction(\"confirm\"), [\"prevent\"]), [\"enter\"])\n                    }, {\n                      default: withCtx(() => [\n                        createTextVNode(toDisplayString(_ctx.confirmButtonText || _ctx.t(\"el.messagebox.confirm\")), 1)\n                      ]),\n                      _: 1\n                    }, 8, [\"loading\", \"loading-icon\", \"class\", \"round\", \"disabled\", \"size\", \"onClick\", \"onKeydown\"]), [\n                      [vShow, _ctx.showConfirmButton]\n                    ])\n                  ], 2)\n                ], 14, [\"onClick\"])\n              ]),\n              _: 3\n            }, 8, [\"trapped\", \"focus-trap-el\", \"focus-start-el\", \"onReleaseRequested\"])\n          ], 42, [\"aria-label\", \"aria-describedby\", \"onClick\", \"onMousedown\", \"onMouseup\"])\n        ]),\n        _: 3\n      }, 8, [\"z-index\", \"overlay-class\", \"mask\"]), [\n        [vShow, _ctx.visible]\n      ])\n    ]),\n    _: 3\n  }, 8, [\"onAfterLeave\"]);\n}\nvar MessageBoxConstructor = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"index.vue\"]]);\n\nexport { MessageBoxConstructor as default };\n//# sourceMappingURL=index.mjs.map\n","import { isVNode, render, markRaw, createVNode } from 'vue';\nimport MessageBoxConstructor from './index.mjs';\nimport { isClient } from '@vueuse/core';\nimport { isString, isObject, hasOwn, isFunction } from '@vue/shared';\nimport { isUndefined, isElement } from '../../../utils/types.mjs';\nimport { debugWarn } from '../../../utils/error.mjs';\n\nconst messageInstance = /* @__PURE__ */ new Map();\nconst getAppendToElement = (props) => {\n  let appendTo = document.body;\n  if (props.appendTo) {\n    if (isString(props.appendTo)) {\n      appendTo = document.querySelector(props.appendTo);\n    }\n    if (isElement(props.appendTo)) {\n      appendTo = props.appendTo;\n    }\n    if (!isElement(appendTo)) {\n      debugWarn(\"ElMessageBox\", \"the appendTo option is not an HTMLElement. Falling back to document.body.\");\n      appendTo = document.body;\n    }\n  }\n  return appendTo;\n};\nconst initInstance = (props, container, appContext = null) => {\n  const vnode = createVNode(MessageBoxConstructor, props, isFunction(props.message) || isVNode(props.message) ? {\n    default: isFunction(props.message) ? props.message : () => props.message\n  } : null);\n  vnode.appContext = appContext;\n  render(vnode, container);\n  getAppendToElement(props).appendChild(container.firstElementChild);\n  return vnode.component;\n};\nconst genContainer = () => {\n  return document.createElement(\"div\");\n};\nconst showMessage = (options, appContext) => {\n  const container = genContainer();\n  options.onVanish = () => {\n    render(null, container);\n    messageInstance.delete(vm);\n  };\n  options.onAction = (action) => {\n    const currentMsg = messageInstance.get(vm);\n    let resolve;\n    if (options.showInput) {\n      resolve = { value: vm.inputValue, action };\n    } else {\n      resolve = action;\n    }\n    if (options.callback) {\n      options.callback(resolve, instance.proxy);\n    } else {\n      if (action === \"cancel\" || action === \"close\") {\n        if (options.distinguishCancelAndClose && action !== \"cancel\") {\n          currentMsg.reject(\"close\");\n        } else {\n          currentMsg.reject(\"cancel\");\n        }\n      } else {\n        currentMsg.resolve(resolve);\n      }\n    }\n  };\n  const instance = initInstance(options, container, appContext);\n  const vm = instance.proxy;\n  for (const prop in options) {\n    if (hasOwn(options, prop) && !hasOwn(vm.$props, prop)) {\n      if (prop === \"closeIcon\" && isObject(options[prop])) {\n        vm[prop] = markRaw(options[prop]);\n      } else {\n        vm[prop] = options[prop];\n      }\n    }\n  }\n  vm.visible = true;\n  return vm;\n};\nfunction MessageBox(options, appContext = null) {\n  if (!isClient)\n    return Promise.reject();\n  let callback;\n  if (isString(options) || isVNode(options)) {\n    options = {\n      message: options\n    };\n  } else {\n    callback = options.callback;\n  }\n  return new Promise((resolve, reject) => {\n    const vm = showMessage(options, appContext != null ? appContext : MessageBox._context);\n    messageInstance.set(vm, {\n      options,\n      callback,\n      resolve,\n      reject\n    });\n  });\n}\nconst MESSAGE_BOX_VARIANTS = [\"alert\", \"confirm\", \"prompt\"];\nconst MESSAGE_BOX_DEFAULT_OPTS = {\n  alert: { closeOnPressEscape: false, closeOnClickModal: false },\n  confirm: { showCancelButton: true },\n  prompt: { showCancelButton: true, showInput: true }\n};\nMESSAGE_BOX_VARIANTS.forEach((boxType) => {\n  MessageBox[boxType] = messageBoxFactory(boxType);\n});\nfunction messageBoxFactory(boxType) {\n  return (message, title, options, appContext) => {\n    let titleOrOpts = \"\";\n    if (isObject(title)) {\n      options = title;\n      titleOrOpts = \"\";\n    } else if (isUndefined(title)) {\n      titleOrOpts = \"\";\n    } else {\n      titleOrOpts = title;\n    }\n    return MessageBox(Object.assign({\n      title: titleOrOpts,\n      message,\n      type: \"\",\n      ...MESSAGE_BOX_DEFAULT_OPTS[boxType]\n    }, options, {\n      boxType\n    }), appContext);\n  };\n}\nMessageBox.close = () => {\n  messageInstance.forEach((_, vm) => {\n    vm.doClose();\n  });\n  messageInstance.clear();\n};\nMessageBox._context = null;\n\nexport { MessageBox as default };\n//# sourceMappingURL=messageBox.mjs.map\n","import MessageBox from './src/messageBox.mjs';\n\nconst _MessageBox = MessageBox;\n_MessageBox.install = (app) => {\n  _MessageBox._context = app._context;\n  app.config.globalProperties.$msgbox = _MessageBox;\n  app.config.globalProperties.$messageBox = _MessageBox;\n  app.config.globalProperties.$alert = _MessageBox.alert;\n  app.config.globalProperties.$confirm = _MessageBox.confirm;\n  app.config.globalProperties.$prompt = _MessageBox.prompt;\n};\nconst ElMessageBox = _MessageBox;\n\nexport { ElMessageBox, _MessageBox as default };\n//# sourceMappingURL=index.mjs.map\n","// This file is part of BestCraft.\n// Copyright (C) 2025 Tnze\n//\n// BestCraft is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published\n// by the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// BestCraft is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <https://www.gnu.org/licenses/>.\n\nimport { isTauri } from './Consts';\nimport { Actions, Status } from './Craft';\nimport { clarityReport } from './Utils';\n\nexport let supported = true;\n\nif (isTauri) {\n    // Good, the user is using our Desktop edition. Use the native solvers.\n    var pkgTauri = import('@tauri-apps/api/core');\n} else {\n    // They are using the Web edition. Only wasm solvers could be used.\n    // Check if the browser supports Web Worker.\n    if (!window.Worker) supported = false;\n    var invokeWasmSolver = (name: string, args: any): Promise<Actions[]> => {\n        return new Promise((resolve, reject) => {\n            const worker = new Worker(\n                new URL('./SolverWorker.ts', import.meta.url),\n                {\n                    type: 'module',\n                },\n            );\n            worker.onmessage = ev => {\n                if (ev.data.error == undefined) resolve(ev.data);\n                else reject(ev.data.error);\n                worker.terminate();\n            };\n            worker.onerror = ev => reject(ev);\n            worker.postMessage({ name, args: JSON.stringify(args) });\n        });\n    };\n}\n\nexport async function create_solver(\n    status: Status,\n    useMuscleMemory: boolean,\n    useManipulation: boolean,\n    useObserve: boolean,\n) {\n    let { invoke } = await pkgTauri;\n    return invoke('create_solver', {\n        status,\n        useMuscleMemory,\n        useManipulation,\n        useObserve,\n    });\n}\n\nexport async function destroy_solver(status: Status) {\n    if (isTauri) {\n        let { invoke } = await pkgTauri;\n        invoke('destroy_solver', { status });\n    } else {\n        throw 'solver-doesn-t-exist';\n    }\n}\n\nexport async function read_solver(status: Status): Promise<Actions[]> {\n    if (isTauri) {\n        let { invoke } = await pkgTauri;\n        return invoke('read_solver', { status });\n    } else {\n        throw 'solver-doesn-t-exist';\n    }\n}\n\nexport async function rika_solve(status: Status): Promise<Actions[]> {\n    clarityReport('runRikaSolver');\n    if (isTauri) {\n        return (await pkgTauri).invoke('rika_solve', { status });\n    } else {\n        return invokeWasmSolver('rika_solve', { status });\n    }\n}\n\nexport async function rika_solve_tnzever(\n    status: Status,\n    useManipulation: boolean,\n    useWastNot: number,\n    useObserve: boolean,\n    reduceSteps: boolean,\n): Promise<Actions[]> {\n    clarityReport('runRikaSolverTnzeVer');\n    if (isTauri) {\n        let { invoke } = await pkgTauri;\n        return invoke('rika_solve_tnzever', {\n            status,\n            useManipulation,\n            useWastNot,\n            useObserve,\n            reduceSteps,\n        });\n    } else {\n        throw 'solver-doesn-t-exist';\n    }\n}\n\nexport async function dfs_solve(\n    status: Status,\n    depth: number,\n    specialist: boolean,\n): Promise<Actions[]> {\n    clarityReport('runDfsSolver');\n    const args = { status, depth, specialist };\n    if (isTauri) {\n        return (await pkgTauri).invoke('dfs_solve', args);\n    } else {\n        return invokeWasmSolver('dfs_solve', args);\n    }\n}\n\nexport async function nq_solve(\n    status: Status,\n    depth: number,\n    specialist: boolean,\n): Promise<Actions[]> {\n    clarityReport('runNqSolver');\n    const args = { status, depth, specialist };\n    if (isTauri) {\n        return (await pkgTauri).invoke('nq_solve', args);\n    } else {\n        return invokeWasmSolver('nq_solve', args);\n    }\n}\n\n/// DP\n/// useManipulation: \n/// useWastNot: 048\nexport async function reflect_solve(\n    status: Status,\n    useManipulation: boolean,\n    useWasteNot: number,\n    useObserve: boolean,\n): Promise<Actions[]> {\n    clarityReport('runReflectSolver');\n    if (isTauri) {\n        let { invoke } = await pkgTauri;\n        return invoke('reflect_solve', {\n            status,\n            useManipulation,\n            useWasteNot,\n            useObserve,\n        });\n    } else {\n        return invokeWasmSolver('reflect_solve', { status, useObserve });\n    }\n}\n\nexport async function raphael_solve(\n    status: Status,\n    targetQuality: number | null,\n    useManipulation: boolean,\n    useHeartAndSoul: boolean,\n    useQuickInnovation: boolean,\n    useTrainedEye: boolean,\n    backloadProgress: boolean,\n    adversarial: boolean,\n): Promise<Actions[]> {\n    clarityReport('runRaphaelSolver');\n    const args = {\n        status,\n        targetQuality,\n        useManipulation,\n        useHeartAndSoul,\n        useQuickInnovation,\n        useTrainedEye,\n        backloadProgress,\n        adversarial,\n    };\n    if (isTauri) {\n        let { invoke } = await pkgTauri;\n        return invoke('raphael_solve', args);\n    } else {\n        return invokeWasmSolver('raphael_solve', args);\n    }\n}\n","<!-- \n    This file is part of BestCraft.\n    Copyright (C) 2025  Tnze\n\n    BestCraft is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Affero General Public License as published\n    by the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    BestCraft is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Affero General Public License for more details.\n\n    You should have received a copy of the GNU Affero General Public License\n    along with this program.  If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<script setup lang=\"ts\">\nimport {\n    ElIcon,\n    ElForm,\n    ElFormItem,\n    ElInputNumber,\n    ElButton,\n    ElButtonGroup,\n    ElRadioGroup,\n    ElRadioButton,\n} from 'element-plus';\nimport { ArrowUp } from '@element-plus/icons-vue';\nimport { computed, reactive, ref, watch, watchEffect } from 'vue';\nimport { Item, ItemWithAmount, Recipe } from '@/libs/Craft';\nimport useSettingsStore from '@/stores/settings';\nimport { DataSource } from '@/datasource/source';\n\nconst settingStore = useSettingsStore();\n\nconst props = defineProps<{\n    item: Item;\n    recipe: Recipe;\n    recipeId?: number;\n    materialQualityFactor: number;\n    modelValue: number;\n}>();\n\nconst emits = defineEmits<{\n    (e: 'update:modelValue', value: number): void;\n}>();\n\nconst initQuality = computed({\n    get() {\n        return props.modelValue;\n    },\n    set(v: number) {\n        emits('update:modelValue', v ?? 0);\n    },\n});\n\nasync function calcItems(source: DataSource, ri: ItemWithAmount[]) {\n    return Promise.all(\n        ri.map(async item => ({\n            item: await source.itemInfo(item.ingredient_id),\n            amount: item.amount,\n            hqAmount: 0,\n        })),\n    );\n}\nconst inputType = ref<'manully' | 'ingredient'>('ingredient');\nconst manullyInput = computed(\n    () => props.recipeId !== undefined && inputType.value != 'manully',\n);\nconst items = ref<{ item: Item; amount: number; hqAmount: number }[]>([]);\n\nwatchEffect(() => {\n    if (props.recipeId === undefined) {\n        inputType.value = 'manully';\n    }\n});\n\nwatch(\n    [settingStore.getDataSource, () => props.recipeId],\n    async ([dataSource, recipeId]) => {\n        const source = await dataSource;\n        if (recipeId === undefined) {\n            items.value = [];\n        } else {\n            const ri = await source.recipesIngredients(recipeId);\n            items.value = reactive(await calcItems(source, ri));\n        }\n    },\n    { immediate: true },\n);\n\nwatchEffect(() => {\n    if (items.value == null || !manullyInput.value) return;\n    const [totalLvCount, hqLvCount] = items.value\n        .filter(item => item.item.can_be_hq)\n        .map(v => [v.amount * v.item.level, v.hqAmount * v.item.level])\n        .concat([[0, 0]])\n        .reduce(([totalPrev, prevHq], [total, hq]) => [\n            totalPrev + total,\n            prevHq + hq,\n        ]);\n    const r = totalLvCount == 0 ? 0 : hqLvCount / totalLvCount;\n    const maxInitQualityPs = props.materialQualityFactor / 100;\n    initQuality.value = Math.floor(props.recipe.quality * maxInitQualityPs * r);\n});\n</script>\n\n<template>\n    <div style=\"display: flex; flex-direction: column\">\n        <el-form label-width=\"auto\" @submit.prevent>\n            <el-form-item label=\" \">\n                <el-radio-group v-model=\"inputType\">\n                    <el-radio-button value=\"manully\">{{\n                        $t('manully-input')\n                    }}</el-radio-button>\n                    <el-radio-button\n                        :disabled=\"items.length == 0\"\n                        value=\"ingredient\"\n                    >\n                        {{ $t('select-hq-ingredients') }}\n                    </el-radio-button>\n                </el-radio-group>\n            </el-form-item>\n            <el-form-item :label=\"$t('initial-quality')\">\n                <el-input-number\n                    v-model=\"initQuality\"\n                    :readonly=\"manullyInput\"\n                    :controls=\"!manullyInput\"\n                    :min=\"0\"\n                    :max=\"recipe.quality\"\n                    value-on-clear=\"min\"\n                    :step-strictly=\"true\"\n                />\n            </el-form-item>\n            <template v-if=\"inputType == 'ingredient'\">\n                <el-form-item v-for=\"row in items\" :label=\"row.item.name\">\n                    <el-button-group v-if=\"row.item.can_be_hq\" class=\"ml-4\">\n                        <el-button\n                            :icon=\"ArrowUp\"\n                            size=\"small\"\n                            :disabled=\"row.hqAmount <= 0\"\n                            @click=\"row.hqAmount -= 1\"\n                        >\n                            {{ $t('nq') }} {{ row.amount - row.hqAmount }}\n                        </el-button>\n                        <el-button\n                            size=\"small\"\n                            :disabled=\"row.hqAmount >= row.amount\"\n                            @click=\"row.hqAmount += 1\"\n                        >\n                            {{ $t('hq') }} {{ row.hqAmount }}\n                            <el-icon class=\"el-icon--right\">\n                                <ArrowUp />\n                            </el-icon>\n                        </el-button>\n                    </el-button-group>\n                    <template v-else>\n                        <el-button :icon=\"ArrowUp\" size=\"small\" disabled>\n                            {{ $t('nq') }} {{ row.amount }}\n                        </el-button>\n                    </template>\n                </el-form-item>\n            </template>\n        </el-form>\n    </div>\n</template>\n\n<fluent locale=\"zh-CN\">\nnq = \nhq = \n\nplease-input-init-quality = \nconfig-init-quality = \nplease-input-integers = \n\nselect-hq-ingredients = HQ\nmanully-input = \n</fluent>\n\n<fluent locale=\"zh-TW\">\nnq = \nhq = \n\nplease-input-init-quality = \nconfig-init-quality = \nplease-input-integers = \n\nselect-hq-ingredients = HQ\nmanully-input = \n</fluent>\n\n<fluent locale=\"en-US\">\nnq = NQ\nhq = HQ\n\nselect-hq-ingredients = Calculate from HQ ingredients\nmanully-input = Manully input\n</fluent>\n\n<fluent locale=\"ja-JP\">\nnq = NQ\nhq = HQ\n\nplease-input-init-quality = Please input initial quality\nconfig-init-quality = Set initial quality\nplease-input-integers = Please input a integer\n\nselect-hq-ingredients = HQ\nmanully-input = \n</fluent>\n","<!-- \n    This file is part of BestCraft.\n    Copyright (C) 2025  Tnze\n\n    BestCraft is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Affero General Public License as published\n    by the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    BestCraft is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Affero General Public License for more details.\n\n    You should have received a copy of the GNU Affero General Public License\n    along with this program.  If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<script setup lang=\"ts\">\nimport { computed, reactive } from 'vue';\nimport {\n    ElSpace,\n    ElCard,\n    ElMessage,\n    ElCheckbox,\n    ElDivider,\n    ElSelectV2,\n    ElInputNumber,\n    ElForm,\n    ElFormItem,\n    ElSegmented,\n} from 'element-plus';\nimport { Actions, calcWaitTime } from '@/libs/Craft';\nimport { useFluent } from 'fluent-vue';\nimport { isTauri, isWebsite } from '@/libs/Consts';\nimport useStore from '@/stores/designer';\n\nconst props = defineProps<{\n    actions: Actions[];\n}>();\nconst { $t } = useFluent();\nconst store = useStore();\nconst genOptions = reactive(store.options.exportOptions);\n\nconst addNotification = computed(() => [\n    { label: $t('has-notify-auto'), value: 'auto' },\n    { label: $t('has-notify-true'), value: true },\n    { label: $t('has-notify-false'), value: false },\n]);\nconst sectionOptions = computed(() => [\n    { label: $t('avg-section'), value: 'avg' },\n    { label: $t('greedy-section'), value: 'greedy' },\n    { label: $t('disable-section'), value: 'disable' },\n]);\nconst notifySoundOptions = computed(() => {\n    const options = [\n        { label: $t('no-sound'), value: '' },\n        { label: $t('random-sound'), value: ` <se>` },\n    ];\n    for (let i = 1; i <= 16; i++) {\n        options.push({\n            label: ` <se.${i}>`,\n            value: ` <se.${i}>`,\n        });\n    }\n    return options;\n});\n\n// \nconst hasNotify = computed(() => {\n    if (genOptions.addNotification != 'auto') {\n        return genOptions.addNotification;\n    } else {\n        let maxLinesPerChunk = 15;\n        if (genOptions.hasLock) maxLinesPerChunk--;\n        // hasNotify == 0\n        const minChunks1 = Math.ceil(props.actions.length / maxLinesPerChunk);\n        // hasNotify == 1\n        maxLinesPerChunk--;\n        const minChunks2 = Math.ceil(props.actions.length / maxLinesPerChunk);\n        return minChunks1 == minChunks2;\n    }\n});\n\nconst chunkedActions = computed(() => {\n    const macros = [];\n    // First, find out how many chunks we need\n    let maxLinesPerChunk = 15;\n    if (hasNotify.value) maxLinesPerChunk--;\n    if (genOptions.hasLock) maxLinesPerChunk--;\n    if (genOptions.sectionMethod == 'disable') maxLinesPerChunk = 1e9; // Don't use Infinity here for minChunks calculations below\n    let minChunks = Math.ceil(props.actions.length / maxLinesPerChunk);\n    // Second, generate every chunk\n    const size = Math.ceil(props.actions.length / minChunks);\n    for (let sec = 0; sec < minChunks; sec++) {\n        let section;\n        switch (genOptions.sectionMethod) {\n            case 'avg':\n                section = props.actions.slice(\n                    sec * size,\n                    Math.min(props.actions.length, (sec + 1) * size),\n                );\n                break;\n            case 'greedy':\n                const start = sec * maxLinesPerChunk;\n                section = props.actions.slice(\n                    start,\n                    Math.min(props.actions.length, start + maxLinesPerChunk),\n                );\n                break;\n            case 'disable':\n                section = props.actions.slice();\n        }\n        let lines = [];\n        if (genOptions.hasLock) lines.push(`/mlock`);\n        for (let action of section) {\n            // \n            if (action == Actions.DaringTouch) {\n                action = Actions.HastyTouch;\n            }\n            let actionName = $t(action.replaceAll('_', '-'));\n            if (actionName.includes(' ')) {\n                actionName = `\"${actionName}\"`;\n            }\n            lines.push(\n                `/ac ${actionName} <wait.${calcWaitTime(action) + genOptions.waitTimeInc}>`,\n            );\n        }\n        if (hasNotify.value) {\n            lines.push(\n                `/e ${$t('marco-finished', { id: sec + 1 })}${genOptions.notifySound}`,\n            );\n        }\n        macros.push(lines);\n    }\n    return macros;\n});\n\nasync function copyChunk(i: number, macro: string[]) {\n    const macroText = macro.join('\\r\\n').replaceAll(/\\u2068|\\u2069/g, '');\n    copy(macroText, $t('copied-marco', { id: i + 1 }));\n}\n\nasync function copy(macroText: string, macroInfo: string) {\n    try {\n        if (isTauri) {\n            let { writeText } = await import(\n                '@tauri-apps/plugin-clipboard-manager'\n            );\n            await writeText(macroText);\n        } else {\n            let { useClipboard } = await import('@vueuse/core');\n            await useClipboard().copy(macroText);\n        }\n        ElMessage({\n            type: 'success',\n            duration: 2000,\n            showClose: true,\n            message: macroInfo,\n        });\n    } catch (e: any) {\n        ElMessage({\n            type: 'error',\n            duration: 2000,\n            showClose: true,\n            message: $t('copy-failed', { err: String(e) }),\n        });\n    }\n}\n</script>\n\n<template>\n    <div style=\"margin-left: 10px\">\n        <div>\n            <el-checkbox v-model=\"genOptions.hasLock\" :label=\"$t('has-lock')\" />\n            <el-checkbox\n                v-if=\"isWebsite\"\n                v-model=\"genOptions.oneclickCopy\"\n                :label=\"$t('oneclick-copy')\"\n            />\n        </div>\n        <el-form label-width=\"auto\">\n            <el-form-item :label=\"$t('has-notify')\">\n                <el-segmented\n                    v-model=\"genOptions.addNotification\"\n                    :options=\"addNotification\"\n                />\n            </el-form-item>\n            <el-form-item :label=\"$t('section-method')\">\n                <el-segmented\n                    v-model=\"genOptions.sectionMethod\"\n                    :options=\"sectionOptions\"\n                />\n            </el-form-item>\n            <el-form-item v-if=\"hasNotify\" :label=\"$t('notify-sound')\">\n                <el-select-v2\n                    v-model=\"genOptions.notifySound\"\n                    :options=\"notifySoundOptions\"\n                    style=\"width: 200px\"\n                />\n            </el-form-item>\n            <el-form-item :label=\"$t('wait-time-inc')\">\n                <el-input-number\n                    v-model=\"genOptions.waitTimeInc\"\n                    controls-position=\"right\"\n                    :min=\"0\"\n                    :step-strictly=\"true\"\n                />\n            </el-form-item>\n        </el-form>\n        <el-space wrap alignment=\"flex-start\">\n            <el-card\n                v-for=\"(marco, i) in chunkedActions\"\n                :class=\"\n                    genOptions.oneclickCopy ? 'box-card-oneclick' : 'box-card'\n                \"\n                shadow=\"hover\"\n                @click=\"\n                    genOptions.oneclickCopy ? copyChunk(i, marco) : undefined\n                \"\n            >\n                <code class=\"box-body\">\n                    {{ marco.join('\\n') }}\n                </code>\n            </el-card>\n        </el-space>\n        <el-divider id=\"divider\" content-position=\"left\">\n            {{ $t('export-json') }}\n        </el-divider>\n        <el-card\n            v-if=\"actions.length > 0\"\n            :class=\"genOptions.oneclickCopy ? 'box-card-oneclick' : 'box-card'\"\n            shadow=\"hover\"\n            style=\"width: 300px\"\n            @click=\"\n                genOptions.oneclickCopy\n                    ? copy(JSON.stringify(actions), $t('copied-json'))\n                    : undefined\n            \"\n        >\n            <code class=\"box-body\">\n                {{ JSON.stringify(actions, undefined, 4) }}\n            </code>\n        </el-card>\n    </div>\n</template>\n\n<style scoped>\n.text {\n    font-size: 14px;\n}\n\n.item {\n    margin-bottom: 18px;\n}\n\n.box-card {\n    user-select: text;\n}\n\n.box-card-oneclick {\n    cursor: copy;\n    user-select: none;\n}\n\n.box-body {\n    white-space: pre-wrap;\n}\n\n:deep(.el-divider__text) {\n    background-color: var(--tnze-main-bg-color);\n}\n</style>\n\n<fluent locale=\"zh-CN\">\nhas-notify = \nhas-notify-auto = \nhas-notify-true = \nhas-notify-false = \n\nhas-lock = \noneclick-copy = \n\nnotify-sound = \nrandom-sound = \nno-sound = \n\nsection-method = \navg-section = \ngreedy-section = \ndisable-section = \n\nwait-time-inc = \n\nexport-json =  JSON\ncopied-json =  JSON  \ncopied-marco =  #{ $id } \nmarco-finished = #{ $id } \ncopy-failed = { $err }\n</fluent>\n\n<fluent locale=\"zh-TW\">\nhas-notify = \nhas-notify-auto = \nhas-notify-true = \nhas-notify-false = \n\nhas-lock = \noneclick-copy = \n\nnotify-sound = \nrandom-sound = \nno-sound = \n\nsection-method = \navg-section = \ngreedy-section = \ndisable-section = \n\nwait-time-inc = \n\nexport-json =  JSON\ncopied-json =  JSON  \ncopied-marco =  #{ $id } \nmarco-finished = #{ $id } \ncopy-failed = { $err }\n</fluent>\n\n<fluent locale=\"en-US\">\nhas-notify = Notification\nhas-notify-auto = Auto\nhas-notify-true = Always\nhas-notify-false = Never\n\nhas-lock = Macro Lock\noneclick-copy = Oneclick Copy\n\nnotify-sound = Beep type\nrandom-sound = Random Sound\nno-sound = No Sound\n\nsection-method = Section method\navg-section = Average\ngreedy-section = Greedy\ndisable-section = Disable\n\nwait-time-inc = Increase waiting time\n\nexport-json = Export as JSON\ncopied-json = Copied JSON expression to system clipboard!\ncopied-marco = Copied M#{ $id } to system clipboard!\nmarco-finished = M#{ $id } is finished!\ncopy-failed = Copy failed: { $err }\n</fluent>\n","<!-- \n    This file is part of BestCraft.\n    Copyright (C) 2024  Tnze\n\n    BestCraft is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Affero General Public License as published\n    by the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    BestCraft is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Affero General Public License for more details.\n\n    You should have received a copy of the GNU Affero General Public License\n    along with this program.  If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<script setup lang=\"ts\">\nimport { Actions } from '@/libs/Craft';\nimport { clarityReport } from '@/libs/Utils';\nimport {\n    ElInput,\n    ElButton,\n    ElMessage,\n    ElCheckbox,\n    ElSpace,\n    ElSwitch,\n} from 'element-plus';\nimport { useFluent } from 'fluent-vue';\nimport { reactive, ref } from 'vue';\nimport useStore from '@/stores/designer';\n\nconst emits = defineEmits<{\n    onRecognized: [actions: Actions[]];\n}>();\nconst fluent = useFluent();\nconst store = useStore();\n\n// Create a map converts action names to std Action enum\nconst namesToAction: Map<string, Actions> = new Map();\nconst actionKeys = Object.values(Actions).filter(v => !v.endsWith('_fail'));\nfor (const bundle of fluent.bundles.value) {\n    for (const action of actionKeys) {\n        const msg = fluent.getMessage(bundle, action.replaceAll('_', '-'))!;\n        namesToAction.set(msg.value as string, action);\n    }\n}\n\n// Textarea input\nconst inputText = ref('');\nconst options = reactive(store.options.importOptions);\n\n// Start parcing user input text\nfunction confirm() {\n    const input = inputText.value;\n    let result: Actions[];\n\n    if (input.trimStart().charAt(0) == '[') {\n        try {\n            result = parseJson(JSON.parse(input));\n            clarityReport('importJsonSuccess');\n        } catch (err) {\n            clarityReport('importJsonError');\n            ElMessage({\n                type: 'error',\n                showClose: true,\n                message: fluent.$t('err-parse-json', { err: String(err) }),\n            });\n            return;\n        }\n    } else if (options.strictMode) {\n        try {\n            result = parseMacroStrict(input);\n            clarityReport('importMacroStrictSuccess');\n        } catch (err) {\n            ElMessage({\n                type: 'error',\n                showClose: true,\n                message: fluent.$t('err-parse-strict', { err: String(err) }),\n            });\n            return;\n        }\n    } else {\n        result = input\n            .split(/\\/[^\\s]+|<wait\\.\\d+>|\\n/)\n            .map(v => v.trim())\n            .filter(v => v.length > 0)\n            .map(v => namesToAction.get(trimQuotation(v)))\n            .filter(v => v != undefined);\n        if (result.length == 0) {\n            clarityReport('importMacroError');\n            ElMessage({\n                type: 'warning',\n                showClose: true,\n                message: fluent.$t('warn-action-not-found'),\n            });\n            return;\n        }\n        clarityReport('importMacroSuccess');\n    }\n\n    ElMessage({\n        type: 'success',\n        showClose: true,\n        message: fluent.$t('recognize-success', { n: result.length }),\n    });\n    emits('onRecognized', result);\n    inputText.value = '';\n}\n\n// Parse input as json\nfunction parseJson(result: any): Actions[] {\n    if (!Array.isArray(result)) {\n        throw fluent.$t('err-not-an-array');\n    }\n    const validActions = new Set(Object.values(Actions).map(v => v as string));\n\n    return result.map(v => {\n        if (typeof v != 'string') {\n            throw fluent.$t('err-not-a-string', { elem: String(v) });\n        }\n        if (validActions.has(v)) {\n            return v as Actions;\n        } else {\n            throw fluent.$t('err-invalid-action', { action: String(v) });\n        }\n    });\n}\n\nfunction parseMacroStrict(input: string): Actions[] {\n    return input\n        .split('\\n')\n        .flatMap(v => {\n            const matchResult = /^\\/(?:ac(?:tion)?|)\\s+(?<body>.*)$/g.exec(\n                v,\n            );\n            return matchResult ? matchResult.groups!['body'] : [];\n        })\n        .map((v, i) => {\n            const cmdBody = v.trim(); // \"ACTIONNAME <wait.n>\"\n            const matchResult =\n                /^(?<action>\"[^\"]+\"|\\S+)(?:\\s+<wait\\.\\d+>)?$/g.exec(cmdBody);\n            if (matchResult == null || matchResult.groups == undefined) {\n                throw fluent.$t('err-parse-line-error', { n: i + 1 });\n            }\n            const actionName = trimQuotation(matchResult.groups['action']);\n            const action = namesToAction.get(actionName);\n            if (action == undefined) {\n                throw fluent.$t('err-invalid-action', { action: actionName });\n            }\n            return action;\n        });\n}\n\n// '\"Reflect\"' => 'Reflect'\nfunction trimQuotation(v: string): string {\n    if (v.charAt(0) == '\"' && v.charAt(v.length - 1) == '\"') {\n        return v.substring(1, v.length - 1);\n    }\n    return v;\n}\n</script>\n\n<template>\n    <el-input\n        v-model=\"inputText\"\n        type=\"textarea\"\n        class=\"user-input\"\n        :autosize=\"{ minRows: 4 }\"\n        :placeholder=\"$t('auto-recognize')\"\n    />\n    <el-space>\n        <el-button\n            type=\"primary\"\n            @click=\"confirm\"\n            :disabled=\"inputText.length == 0\"\n        >\n            {{ $t('confirm') }}\n        </el-button>\n        <el-checkbox v-model=\"options.strictMode\" :label=\"$t('strict-mode')\" />\n        <el-switch v-model=\"options.strictMode\" />\n    </el-space>\n</template>\n\n<style scoped>\n.user-input {\n    margin-bottom: 10px;\n}\n</style>\n\n<fluent locale=\"zh-CN\">\nauto-recognize = \nconfirm = \nstrict-mode = \n\nerr-parse-json =  JSON { $err }\nerr-not-an-array =  JSON \nerr-not-a-string =  { $elem } \nerr-invalid-action = { $action }\n\nerr-parse-strict = { $err }\nerr-parse-line-error =  { $n } \n\nwarn-action-not-found = \nrecognize-success =  { $n } \n</fluent>\n\n<fluent locale=\"zh-TW\">\nauto-recognize = \nconfirm = \nstrict-mode = \n\nerr-parse-json =  JSON { $err }\nerr-not-an-array =  JSON \nerr-not-a-string =  { $elem } \nerr-invalid-action = { $action }\n\nerr-parse-strict = { $err }\nerr-parse-line-error =  { $n } \n\nwarn-action-not-found = \nrecognize-success =  { $n } \n</fluent>\n\n<fluent locale=\"en-US\">\nauto-recognize = Paste macros or JSON here\nconfirm = Confirm\nstrict-mode = Strict mode\n\nerr-parse-json = Try parsing JSON failed: { $err }\nerr-not-an-array = Input JSON is not an array\nerr-not-a-string = Element { $elem } is not a string\nerr-invalid-action = Invalid action: { $action }\n\nerr-parse-strict = Try parsing in strict mode failed: { $err }\nerr-parse-line-error = Parsing line { $n } failed\n\nwarn-action-not-found = No action is found\nrecognize-success = Recognize successed, { $n ->\n    [one] one action is\n    *[other] {$n} actions are\n} imported\n</fluent>\n","// This file is part of BestCraft.\n// Copyright (C) 2024 Tnze\n//\n// BestCraft is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published\n// by the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// BestCraft is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <https://www.gnu.org/licenses/>.\n\nimport { Actions } from '@/libs/Craft';\n\nexport interface Slot {\n    id: number;\n    action: Actions;\n}\n\n// \n// id\n// maxidid\nexport interface Sequence {\n    slots: Slot[];\n    maxid: number;\n    source?: SequenceSource;\n    itemName?: string;\n}\n\nexport enum SequenceSource {\n    AutoSave = 'auto-save',\n    Manual = 'manual',\n    Solver = 'solver',\n    DPSolver = 'dp-solver',\n    RaphaelSolver = 'raphael-solver',\n    DFSSolver = 'dfs-solver',\n    BFSSolver = 'bfs-solver',\n    TnzeVerRikaSolver = 'tnzever-rika-solver',\n}\n","<!-- \n    This file is part of BestCraft.\n    Copyright (C) 2025  Tnze\n\n    BestCraft is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Affero General Public License as published\n    by the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    BestCraft is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Affero General Public License for more details.\n\n    You should have received a copy of the GNU Affero General Public License\n    along with this program.  If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<script setup lang=\"ts\">\nimport { Ref, reactive, ref } from 'vue';\nimport {\n    ElAlert,\n    ElSpace,\n    ElDialog,\n    ElCard,\n    ElButton,\n    ElCheckbox,\n    ElTable,\n    ElTableColumn,\n    ElMessage,\n    ElSegmented,\n} from 'element-plus';\nimport { create_solver, destroy_solver, reflect_solve } from '@/libs/Solver';\nimport { ChatSquare } from '@element-plus/icons-vue';\nimport { Actions, Status } from '@/libs/Craft';\nimport { useFluent } from 'fluent-vue';\nimport { SequenceSource } from '../types';\nimport { formatDuration } from '@/libs/Utils';\nimport { isTauri } from '@/libs/Consts';\n\nconst { $t } = useFluent();\n\nexport interface Solver {\n    initStatus: Status;\n    name: string;\n    status: 'solving' | 'prepared' | 'destroying';\n}\n\nconst props = defineProps<{\n    initStatus: Status;\n    recipeName: string;\n}>();\n\nconst emits = defineEmits<{\n    (event: 'solverLoad', solver: Solver): void;\n    (\n        event: 'runSimpleSolver',\n        solverId: SequenceSource,\n        solvingRunningState: Ref<boolean>,\n        solver: (initStatus: Status) => Promise<Actions[]>,\n        fromState: 'initial' | 'current',\n    ): void;\n}>();\n\nconst dialogVisible = ref(false);\nconst useManipulation = ref(false);\nconst useWasteNot = ref(false);\nconst useMuscleMemory = ref(false);\nconst useObserve = ref(true);\nconst solvers = ref<Solver[]>([]);\nconst fromState = ref<'initial' | 'current'>('initial');\nconst fromStateOptions = ['initial', 'current'];\n\nconst reflectSolveIsSolving = ref(false);\nfunction runReflectSolver() {\n    emits(\n        'runSimpleSolver',\n        SequenceSource.DPSolver,\n        reflectSolveIsSolving,\n        initStatus =>\n            reflect_solve(\n                initStatus,\n                useManipulation.value,\n                useWasteNot.value ? 8 : 0,\n                useObserve.value,\n            ),\n        fromState.value,\n    );\n}\n\nconst createSolver = async () => {\n    const msg1 = ElMessage({\n        showClose: true,\n        duration: 0,\n        type: 'info',\n        message: $t('solving-info', { solverName: $t('dp-solver') }),\n    });\n    let solver = reactive(<Solver>{\n        initStatus: {\n            ...props.initStatus!,\n            quality: 0, // bypass the solver bug that we can't handle the initial quality\n        },\n        name: props.recipeName,\n        status: 'solving',\n    });\n    try {\n        solvers.value.push(solver);\n        const startTime = new Date().getTime();\n        await create_solver(\n            solver.initStatus,\n            useMuscleMemory.value,\n            useManipulation.value,\n            useObserve.value,\n        );\n        const stopTime = new Date().getTime();\n        ElMessage({\n            showClose: true,\n            type: 'success',\n            message: $t('solver-created', {\n                solveTime: formatDuration(stopTime - startTime),\n            }),\n        });\n        solver.status = 'prepared';\n        emits('solverLoad', solver);\n    } catch (err) {\n        solvers.value.splice(solvers.value.indexOf(solver), 1);\n        ElMessage({\n            type: 'error',\n            message: $t('error-with', { err: $t(err as string) }),\n        });\n        console.error(err);\n    } finally {\n        msg1.close();\n    }\n};\n\nconst destroySolver = async (s: Solver) => {\n    try {\n        s.status = 'destroying';\n        await destroy_solver(s.initStatus);\n        solvers.value.splice(solvers.value.indexOf(s), 1);\n    } catch (err) {\n        ElMessage({\n            type: 'error',\n            message: `${err}`,\n        });\n        console.error(err);\n    }\n};\n</script>\n\n<template>\n    <el-dialog v-model=\"dialogVisible\" :title=\"$t('dp-solver-info-title')\">\n        <i18n path=\"dp-solver-info\" tag=\"span\" class=\"solver-info\">\n            <template #usageBlock=\"{ muscleMemoryMsg }\"> </template>\n            <template #infoBlock=\"{ infoMsg }\">\n                <el-alert\n                    type=\"info\"\n                    :title=\"infoMsg\"\n                    show-icon\n                    :closable=\"false\"\n                    style=\"white-space: normal\"\n                />\n            </template>\n            <template #calcCard=\"{ calcMsg }\">\n                <el-card shadow=\"never\">{{ calcMsg }}</el-card>\n            </template>\n        </i18n>\n    </el-dialog>\n    <el-space direction=\"vertical\" alignment=\"normal\">\n        <el-segmented v-model=\"fromState\" :options=\"fromStateOptions\">\n            <template #default=\"scope\">\n                {{ $t('from-' + scope.item) }}\n            </template>\n        </el-segmented>\n        <el-checkbox\n            v-model=\"useMuscleMemory\"\n            :label=\"$t('enable-action', { action: $t('muscle-memory') })\"\n            :disabled=\"!isTauri\"\n        />\n        <el-checkbox\n            v-model=\"useManipulation\"\n            :label=\"$t('enable-action', { action: $t('manipulation') })\"\n            :disabled=\"!isTauri\"\n        />\n        <el-checkbox\n            v-model=\"useWasteNot\"\n            :label=\"$t('enable-action', { action: $t('waste-not') })\"\n            :disabled=\"!isTauri\"\n        />\n        <el-checkbox\n            v-model=\"useObserve\"\n            :label=\"$t('enable-action', { action: $t('observe') })\"\n        />\n    </el-space>\n    <el-alert\n        v-if=\"useMuscleMemory\"\n        type=\"warning\"\n        :title=\"$t('muscle-memory-msg')\"\n        show-icon\n        :closable=\"false\"\n    />\n    <div style=\"margin-top: 10px\">\n        <el-button\n            v-if=\"useMuscleMemory\"\n            type=\"primary\"\n            :disabled=\"initStatus == undefined\"\n            @click=\"createSolver\"\n        >\n            {{ $t('create-solver') }}\n        </el-button>\n        <el-button\n            v-else\n            @click=\"runReflectSolver\"\n            type=\"primary\"\n            :loading=\"reflectSolveIsSolving\"\n        >\n            {{\n                reflectSolveIsSolving\n                    ? $t('simple-solver-solving')\n                    : $t('solver-start')\n            }}\n        </el-button>\n        <el-button :icon=\"ChatSquare\" circle @click=\"dialogVisible = true\" />\n    </div>\n    <el-table\n        v-if=\"useMuscleMemory\"\n        :data=\"solvers\"\n        :empty-text=\"$t('dp-solver-empty-text')\"\n        style=\"width: 100%\"\n    >\n        <el-table-column>\n            <template #default=\"scope\">\n                {{ scope.row.name }}\n            </template>\n        </el-table-column>\n        <el-table-column align=\"right\">\n            <template #default=\"scope\">\n                <el-button\n                    size=\"small\"\n                    type=\"danger\"\n                    @click=\"destroySolver(scope.row)\"\n                    :disabled=\"scope.row.status != 'prepared'\"\n                    :loading=\"scope.row.status != 'prepared'\"\n                >\n                    {{ $t('release-solver') }}\n                </el-button>\n            </template>\n        </el-table-column>\n    </el-table>\n</template>\n\n<style scoped>\n.solver-info {\n    white-space: pre-line;\n}\n</style>\n\n<fluent locale=\"zh-CN\">\nfrom-initial = \nfrom-current = \n\nsolver-start = \nsimple-solver-solving = \ncreate-solver = \nsolver-created = ({ $solveTime })\nrelease-solver = \nerror-with = { $err }\nenable-action = { $action }\n\ndp-solver-info-title = \ndp-solver-info =\n    \n\n    DFS\n\n    \n\n    \n     \n     \n     0~5\n     0~10\n     0~8\n     0~8\n     0~4\n     0~4\n     0~3\n     0~3\n     0~1\n    \n     \n     \n    13\n\n    \n    70500\n    {$calcCard}\n    \n    1. \n    2. \n\n    PB\n    \n    1. \n    2. \n\n    \n\n    \n    1. StateValue\n    2. \n\n    \n    1. {delicate-synthesis}\n    2. Buff\n    3. \n\n    \n    \n\n    \n\n    \n\n    1. {start-solver}\n       \n\n    2. \n       {basic-synthesis}100{careful-synthesis}180\n\n    3. Buff\n       Loading\n\n    4. 1\n\n    .calc-msg =\n        70  500  6  11  9  9  5  5  4  4  2\n        = 149,688,000,000\n        = 146,179,687.5 Ki\n         142,753.6 Mi\n         139.4 Gi\nmuscle-memory-msg = \ndp-solver-empty-text = \n\n</fluent>\n\n<fluent locale=\"zh-TW\">\nfrom-initial = \nfrom-current = \n\nsolver-start = \nsimple-solver-solving = \ncreate-solver = \nsolver-created = ({ $solveTime })\nrelease-solver = \nerror-with = { $err }\nenable-action = { $action }\n\ndp-solver-info-title = \ndp-solver-info =\n    \n\n    DFS\n\n    \n\n    \n     \n     CP\n     0~5\n     0~10\n     0~8\n     0~8\n     0~4\n     0~4\n     0~3\n     0~3\n     0~1\n    \n     \n     \n    13\n\n    \n    70500CP\n    {$calcCard}\n    \n    1. \n    2. \n\n    PB\n    \n    1. \n    2. \n\n    \n\n    \n    1. StateValue\n    2. \n\n    \n    1. {delicate-synthesis}\n    2. CPBuff\n    3. \n\n    \n    \n\n    \n\n    \n\n    1. {start-solver}\n       \n\n    2. \n       {basic-synthesis}100{careful-synthesis}180\n\n    3. Buff\n       Loading\n\n    4. 1\n\n    .calc-msg =\n        70  500  6  11  9  9  5  5  4  4  2\n        = 149,688,000,000\n        = 146,179,687.5 Ki\n         142,753.6 Mi\n         139.4 Gi\nmuscle-memory-msg = \ndp-solver-empty-text = \n\n</fluent>\n\n<fluent locale=\"en-US\">\nfrom-initial = From initial\nfrom-current = From current\n\nsolver-start = Start\nsimple-solver-solving = Solving\ncreate-solver = Create solver\nsolver-created = Solver successfully created({ $solveTime })\nrelease-solver = Release\nerror-with = Error: { $err }\nenable-action = Enable { $action }\n\ndp-solver-info-title = Dynamic programming algorithm based on Memoization Search.\ndp-solver-info =\n    This algorithm can be understood as a carefully optimized exhaustive method.\n\n    It exhausts all states, not all actions. Therefore, the exponential time complexity of DFS has been reduced to polynomial time complexity. Make the previously infeasible things feasible.\n\n    However, even if the polynomial time complexity is much better, there are still many state dimensions in the crafting. If all states are considered, the algorithm will occupy a large amount of memory and still take a long time to solve.\n\n    The state dimensions include\n     Current {durability}\n     Residue {craft-point}\n     Residue {muscle-memory} (0~5)\n     Current Inner Quiet (0~10)\n     Residue {waste-not} (0~8)\n     Residue {manipulation} (0~8)\n     Residue {veneration} (0~4)\n     Residue {innovation} (0~4)\n     Residue {great-strides} (0~3)\n     Touch Combos State (0~3)\n     Is Observed (0~1)\n    And most importantly:\n     Current {progress}\n     Current {quality}\n    13 dimensions in total\n\n    To calculate the size of the complete state space, we multiply the sizes of each dimension.\n    Estimated at 70 {durability} and 500 {craft-point}: (We will not consider current {progress} and {quality} for now)\n    {$calcCard}\n    And record these for each state\n    1. Score of current state \n    2. The best action to next state\n\n    It is not difficult to find that without further optimization, running this algorithm will require space in PB and the cost will be too high. (Don't forget that we haven't considered {progress} and {quality} yet)\n    Therefore, it is necessary to make the following two necessary compromises:\n    1. Regardless of current {quality} and {progress} in state space\n    2. Split quality phase and progress phase into two processes and conduct two dynamic programming.\n\n    (The specific solution is difficult to describe in language, and if you cannot understand it, you can refer to the source code of this software.)\n\n    This results in two benefits:\n    1. Do not treat progress as a State, but as a Value. And avoid the polynomial to be multiplied by an exaggerated number of thousands.\n    2. By splitting a large DP into two small DPs, the quality related states and the progress related states can be separated, reducing spatial complexity.\n\n    But there are also some minor drawbacks:\n    1. There is no need to consider both processing and production interweaving ({delicate-synthesis} has been specially treated), but mathematically, it is no longer guaranteed that the exhaustive result is the optimal solution.\n    2. The connection between the two dynamic programming only considers the combination of various {durability} and {craft-point}, and the quality stage does not intentionally leave Buff resources for the progress stage.\n    3. Difficulty in handling {muscle-memory}: progress needs to be promoted first, quality needs to be promoted, and finally the progress needs to be promoted again for completing the crafting.\n\n    In addition, in order to reduce spatial complexity, only the next optimal action was recorded, without recording the state score.\n    Actual testing shows that there was no significant increase of solving time.\n\n    Due to the algorithm's difficulty in handling {muscle-memory}, which is an absolute advantage in the current version. Therefore, this software provides a last-minute solution:\n\n    The user manually specifies the {muscle-memory} starting action. The specific working method of this plan is as follows:\n\n    1. The user sets all the parameters of the recipe and then clicks the {start-solver} button. Create a solver object for the current recipe and equipment attributes.\n       The solver object will allocate memory to store the next optimal action for all states.\n    2. The user enters a {muscle-memory} and some other actions in the workspace pushs the progress to a state which left only one step away from completing the crafting,\n       which is specifically defined as a state that can be completed through one of \"{basic-synthesis} (efficiency 1.0)\" or \"{delicate-synthesis} (efficiency 1.8)\".\n    3. After the algorithm recognizes the situation that can be processed, it needs to allocate resources for the final step and run the DP to drive quality based on the current Buffs state.\n       At this point, you can see a rotating Loading icon in the workspace. After a few minutes, the solving results will be displayed after the actions inputed by the user.\n    4. The user can adjust the inputs, try different starting actions, and preview the solving results in real-time. The adjustment results can generally be completed in less than 1 second.\n\n    .calc-msg =\n        70  500  6  11  9  9  5  5  4  4  2\n        = 149,688,000,000\n        = 146,179,687.5 Ki\n         142,753.6 Mi\n         139.4 Gi\nmuscle-memory-msg = \n    The usage for {muscle-memory} mode is a little bit different from other solvers. \n    Please discretionary explore, or read the instructions below before using it.\ndp-solver-empty-text = None of solver is loaded\n\n</fluent>\n","<!-- \n    This file is part of BestCraft.\n    Copyright (C) 2025  Tnze\n\n    BestCraft is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Affero General Public License as published\n    by the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    BestCraft is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Affero General Public License for more details.\n\n    You should have received a copy of the GNU Affero General Public License\n    along with this program.  If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<script setup lang=\"ts\">\nimport { Actions, Status } from '@/libs/Craft';\nimport {\n    ElAlert,\n    ElButton,\n    ElCheckbox,\n    ElLink,\n    ElSlider,\n    ElDialog,\n    ElSpace,\n    ElText,\n    ElSegmented,\n} from 'element-plus';\nimport { useFluent } from 'fluent-vue';\nimport { Ref, ref, watch } from 'vue';\nimport { nq_solve, dfs_solve } from '@/libs/Solver';\nimport { ChatSquare } from '@element-plus/icons-vue';\nimport { SequenceSource } from '../types';\nimport { isTauri } from '@/libs/Consts';\n\nconst { $t } = useFluent();\n\nconst props = defineProps<{\n    canHq: boolean;\n}>();\n\nconst emits = defineEmits<{\n    (\n        event: 'runSimpleSolver',\n        solverId: SequenceSource,\n        solvingRunningState: Ref<boolean>,\n        solver: (initStatus: Status) => Promise<Actions[]>,\n        fromState: 'initial' | 'current',\n    ): void;\n}>();\n\n// dfs\nconst warningDepth = isTauri ? 6 : 4;\n\nconst dialogVisible = ref(false);\nconst maxDepth = ref(warningDepth);\nconst useSpecialist = ref(false);\nconst doNotTouch = ref(false);\nconst dfsSolving = ref(false);\nconst fromState = ref<'initial' | 'current'>('initial');\nconst fromStateOptions = ['initial', 'current'];\n\nwatch(\n    () => props.canHq,\n    v => {\n        // single way update\n        doNotTouch.value = !v;\n    },\n);\n\nfunction dfsFormatTooltip(value: number): string {\n    let str = String(value);\n    if (value > warningDepth) str = '' + str;\n    return str;\n}\n\nfunction runDfsSolver() {\n    emits(\n        'runSimpleSolver',\n        SequenceSource.DFSSolver,\n        dfsSolving,\n        initStatus => {\n            const solver = doNotTouch.value ? nq_solve : dfs_solve;\n            return solver(initStatus, maxDepth.value, useSpecialist.value);\n        },\n        fromState.value,\n    );\n}\n</script>\n\n<template>\n    <el-dialog v-model=\"dialogVisible\" :title=\"$t('dfs-solver-info-title')\">\n        <i18n path=\"dfs-solver-info\" tag=\"span\" class=\"solver-info\">\n            <template #ffxivCraftingAlgo=\"{ commandLineTool }\">\n                <el-link\n                    type=\"primary\"\n                    href=\"https://github.com/Tnze/ffxiv-crafting-algo\"\n                    target=\"_blank\"\n                >\n                    {{ commandLineTool }}\n                </el-link>\n            </template>\n        </i18n>\n    </el-dialog>\n    <el-space direction=\"vertical\" alignment=\"normal\">\n        <div style=\"min-width: 300px; display: flex; align-items: center\">\n            <el-text style=\"flex: none\">\n                {{ $t('dfs-max-depth') }}\n            </el-text>\n            <el-slider\n                v-model=\"maxDepth\"\n                style=\"margin-left: 30px\"\n                :min=\"1\"\n                :max=\"10\"\n                :format-tooltip=\"dfsFormatTooltip\"\n                :aria-label=\"$t('dfs-max-depth')\"\n                :disabled=\"dfsSolving\"\n            />\n        </div>\n        <el-alert\n            v-if=\"maxDepth > warningDepth\"\n            type=\"warning\"\n            :title=\"$t('dfs-too-depth')\"\n            show-icon\n            :closable=\"false\"\n        />\n        <el-checkbox\n            v-model=\"doNotTouch\"\n            :label=\"$t('do-not-touch')\"\n            :disabled=\"dfsSolving\"\n        />\n        <el-checkbox\n            v-model=\"useSpecialist\"\n            :label=\"$t('specialist')\"\n            :disabled=\"dfsSolving\"\n        />\n        <el-space>\n            <el-button\n                type=\"primary\"\n                @click=\"runDfsSolver\"\n                :loading=\"dfsSolving\"\n            >\n                {{\n                    dfsSolving\n                        ? $t('simple-solver-solving')\n                        : $t('solver-start')\n                }}\n            </el-button>\n            <el-button\n                :icon=\"ChatSquare\"\n                circle\n                @click=\"dialogVisible = true\"\n            />\n            <el-segmented v-model=\"fromState\" :options=\"fromStateOptions\">\n                <template #default=\"scope\">\n                    {{ $t('from-' + scope.item) }}\n                </template>\n            </el-segmented>\n        </el-space>\n    </el-space>\n</template>\n\n<style scoped>\n.solver-info {\n    white-space: pre-line;\n}\n</style>\n\n<fluent locale=\"zh-CN\">\nfrom-initial = \nfrom-current = \ndo-not-touch = \ndfs-max-depth = \nsolver-start = \nsimple-solver-solving = \ndfs-solver-info-title = \ndfs-solver-info =\n     Tnze { $ffxivCraftingAlgo }\n\n    6\n    v2\n\n    10\n    .command-line-tool = \ndfs-too-depth = \n</fluent>\n\n<fluent locale=\"zh-TW\">\nfrom-initial = \nfrom-current = \ndo-not-touch = \ndfs-max-depth = \nsolver-start = \nsimple-solver-solving = \ndfs-solver-info-title = \ndfs-solver-info =\n     Tnze { $ffxivCraftingAlgo }\n\n    6\n    v2\n\n    10\n    .command-line-tool = \ndfs-too-depth = \n</fluent>\n\n<fluent locale=\"en-US\">\nfrom-initial = From initial\nfrom-current = From current\ndo-not-touch = Do not \"touching\"\ndfs-max-depth = Depth\nsolver-start = Start\nsimple-solver-solving = Solving\ndfs-solver-info-title = Depth First Search\ndfs-solver-info =\n    This solver is based on an early development of the { $ffxivCraftingAlgo } by Tnze, originally usedto search for the shortest steps to create the .\n\n    The algorithm adopts naive search, which increases exponentially in time with the depth of the searching. \n    It is recommended to limit the search depth to 6. \n    After updating to v2, adopt multi threaded acceleration.\n\n    This solver is usually suitable for recipes that are 10-level lower than the player or above.\n    .command-line-tool = Command line tool\ndfs-too-depth = The depth is too big. Solving time could be very long.\n</fluent>\n","<!-- \n    This file is part of BestCraft.\n    Copyright (C) 2025  Tnze\n\n    BestCraft is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Affero General Public License as published\n    by the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    BestCraft is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Affero General Public License for more details.\n\n    You should have received a copy of the GNU Affero General Public License\n    along with this program.  If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<script setup lang=\"ts\">\nimport { computed, Ref, ref } from 'vue';\nimport {\n    ElSpace,\n    ElDialog,\n    ElButton,\n    ElCheckbox,\n    ElLink,\n    ElTag,\n    ElText,\n    ElInputNumber,\n    ElSegmented,\n} from 'element-plus';\nimport { raphael_solve } from '@/libs/Solver';\nimport { ChatSquare } from '@element-plus/icons-vue';\nimport { Actions, CollectablesShopRefine, Status } from '@/libs/Craft';\nimport { useFluent } from 'fluent-vue';\nimport { SequenceSource } from '../types';\n\nconst { $t } = useFluent();\n\nconst props = defineProps<{\n    initStatus: Status;\n    recipeName: string;\n    collectableShopRefine?: CollectablesShopRefine;\n}>();\n\nconst emits = defineEmits<{\n    (\n        event: 'runSimpleSolver',\n        solverId: SequenceSource,\n        solvingRunningState: Ref<boolean>,\n        solver: (initStatus: Status) => Promise<Actions[]>,\n        fromState: 'initial' | 'current',\n    ): void;\n}>();\n\n// UI states\nconst dialogVisible = ref(false);\nconst raphaelSolveIsSolving = ref(false);\nconst solverTarget = ref<TargetQuality>('full');\nconst solverTargetSegmented = computed({\n    get: () => {\n        const v = solverTarget.value;\n        return typeof v == 'number' ? 'custom' : v;\n    },\n    set: v => {\n        if (v == 'custom')\n            console.warn(\n                \"cannot set solverTarget to 'custom' by clicking segmented controller\",\n            );\n        else solverTarget.value = v;\n    },\n});\nconst fromState = ref<'initial' | 'current'>('initial');\nconst fromStateOptions = ['initial', 'current'];\n\ntype TargetQuality = 'full' | '1st' | '2nd' | '3rd' | number;\ntype TargetQualityOption = {\n    label: string;\n    value: TargetQuality | 'custom';\n    disabled?: boolean;\n};\nconst targetQualityOptions = computed(() => {\n    const options: TargetQualityOption[] = [];\n    options.push({ label: 'custom-target', value: 'custom', disabled: true });\n    const v = props.collectableShopRefine;\n    if (v != undefined) {\n        if (v.low_collectability > 0)\n            options.push({ label: 'first-stage', value: '1st' });\n        if (v.mid_collectability > 0)\n            options.push({ label: 'second-stage', value: '2nd' });\n        if (v.high_collectability > 0)\n            options.push({ label: 'third-stage', value: '3rd' });\n    }\n    options.push({ label: 'maximum-target', value: 'full' });\n    return options;\n});\n\n// Solver options\nconst targetQuality = computed({\n    get: () => {\n        const v = solverTarget.value;\n        if (props.collectableShopRefine != undefined) {\n            const c = props.collectableShopRefine;\n            if (v === '1st') return c.low_collectability * 10;\n            if (v === '2nd') return c.mid_collectability * 10;\n            if (v === '3rd') return c.high_collectability * 10;\n        }\n        if (typeof v == 'number') return v;\n        /* if (v == 'full') */ return props.initStatus.recipe.quality;\n    },\n    set: (x: number | null) => {\n        let v: TargetQuality = x ?? 0;\n        if (props.collectableShopRefine != undefined) {\n            const c = props.collectableShopRefine;\n            if (x == c.low_collectability * 10) v = '1st';\n            if (x == c.mid_collectability * 10) v = '2nd';\n            if (x == c.high_collectability * 10) v = '3rd';\n        }\n        if (x == props.initStatus.recipe.quality) v = 'full';\n        solverTarget.value = v;\n    },\n});\nconst useManipulation = ref(false);\nconst useHeartAndSoul = ref(false);\nconst useQuickInnovation = ref(false);\nconst useTrainedEye = ref(true);\nconst backloadProgress = ref(false);\nconst adversarial = ref(false);\n\nfunction runRaphaelSolver() {\n    emits(\n        'runSimpleSolver',\n        SequenceSource.RaphaelSolver,\n        raphaelSolveIsSolving,\n        initStatus =>\n            raphael_solve(\n                initStatus,\n                targetQuality.value,\n                useManipulation.value,\n                useHeartAndSoul.value,\n                useQuickInnovation.value,\n                useTrainedEye.value,\n                backloadProgress.value,\n                adversarial.value,\n            ).catch(e => {\n                const err = String(e);\n                if (err == 'RuntimeError: unreachable')\n                    throw $t('error-probably-out-of-memory', { err });\n                else throw e;\n            }),\n        fromState.value,\n    );\n}\n</script>\n\n<template>\n    <el-dialog v-model=\"dialogVisible\" :title=\"$t('solver-info-title')\">\n        <i18n path=\"solver-info\" tag=\"span\" class=\"solver-info\">\n            <template #origin>\n                <el-link href=\"https://www.raphael-xiv.com/\" target=\"_blank\"\n                    >https://www.raphael-xiv.com/</el-link\n                >\n            </template>\n            <template #source>\n                <el-link\n                    href=\"https://github.com/KonaeAkira/raphael-rs/\"\n                    target=\"_blank\"\n                >\n                    https://github.com/KonaeAkira/raphael-rs/\n                </el-link>\n            </template>\n        </i18n>\n    </el-dialog>\n    <el-space direction=\"vertical\" alignment=\"normal\">\n        <el-space style=\"margin-bottom: 10px\">\n            <el-button\n                @click=\"runRaphaelSolver\"\n                type=\"primary\"\n                :loading=\"raphaelSolveIsSolving\"\n            >\n                {{\n                    raphaelSolveIsSolving\n                        ? $t('simple-solver-solving')\n                        : $t('solver-start')\n                }}\n            </el-button>\n            <el-button\n                :icon=\"ChatSquare\"\n                circle\n                @click=\"dialogVisible = true\"\n            />\n            <el-segmented\n                v-model=\"fromState\"\n                :options=\"fromStateOptions\"\n                :disabled=\"true\"\n            >\n                <template #default=\"scope\">\n                    {{ $t('from-' + scope.item) }}\n                </template>\n            </el-segmented>\n        </el-space>\n        <el-space>\n            <el-text style=\"flex: none\">\n                {{ $t('target-quality') }}\n            </el-text>\n            <el-input-number\n                v-model=\"targetQuality\"\n                :min=\"0\"\n                :max=\"initStatus.recipe.quality\"\n                :step=\"1\"\n                step-strictly\n            />\n            <el-segmented\n                v-model=\"solverTargetSegmented\"\n                :options=\"targetQualityOptions\"\n            >\n                <template #default=\"scope\">\n                    {{ $t((scope.item as TargetQualityOption).label) }}\n                </template>\n            </el-segmented>\n        </el-space>\n        <el-checkbox\n            v-model=\"useTrainedEye\"\n            :label=\"$t('enable-action', { action: $t('trained-eye') })\"\n        />\n        <el-space>\n            <el-checkbox\n                v-model=\"useManipulation\"\n                :label=\"$t('enable-action', { action: $t('manipulation') })\"\n            />\n            <el-tag v-if=\"useManipulation\" type=\"warning\">\n                {{ $t('need-learn-manipulation') }}\n            </el-tag>\n        </el-space>\n        <el-space>\n            <el-checkbox\n                v-model=\"useHeartAndSoul\"\n                :label=\"$t('enable-action', { action: $t('heart-and-soul') })\"\n            />\n            <el-tag v-if=\"useHeartAndSoul\" type=\"warning\">\n                {{ $t('consume-crafters-delineation') }}\n            </el-tag>\n        </el-space>\n        <el-space>\n            <el-checkbox\n                v-model=\"useQuickInnovation\"\n                :label=\"$t('enable-action', { action: $t('quick-innovation') })\"\n            />\n            <el-tag v-if=\"useQuickInnovation\" type=\"warning\">\n                {{ $t('consume-crafters-delineation') }}\n            </el-tag>\n        </el-space>\n        <el-space>\n            <el-checkbox\n                v-model=\"backloadProgress\"\n                :label=\"$t('backload-progress')\"\n            />\n            <el-tag v-if=\"backloadProgress\" type=\"success\">\n                {{ $t('speed-up') }}\n            </el-tag>\n            <el-tag v-if=\"backloadProgress\" type=\"danger\">\n                {{ $t('quality-down') }}\n            </el-tag>\n            <el-tag v-if=\"backloadProgress\" type=\"danger\">\n                {{ $t('increase-duration') }}\n            </el-tag>\n        </el-space>\n        <el-space>\n            <el-checkbox v-model=\"adversarial\" :label=\"$t('adversarial')\" />\n            <el-tag v-if=\"adversarial\" type=\"danger\">\n                {{ $t('quality-down') }}\n            </el-tag>\n            <el-tag v-if=\"adversarial\" type=\"danger\">\n                {{ $t('increase-duration') }}\n            </el-tag>\n        </el-space>\n    </el-space>\n</template>\n\n<style scoped>\n.solver-info {\n    white-space: pre-line;\n}\n</style>\n\n<fluent locale=\"zh-CN\">\nsolver-start = \nsimple-solver-solving = \nerror-probably-out-of-memory = { $err }\n\nfrom-initial = \nfrom-current = \n\nfirst-stage = \nsecond-stage = \nthird-stage = \nmaximum-target = \ncustom-target = \n\ntarget-quality = \nenable-action = { $action }\nbackload-progress = \nminimize-steps = \nadversarial =  100% \n\nspeed-up = \nspeed-down = \nquality-down = \nincrease-duration = \nneed-learn-manipulation = \nconsume-crafters-delineation = \n\nsolver-info-title = Raphael \nsolver-info =\n    { $origin }\n\n    { $source }\n\n    Apache-2.0\n\n    \n     100%\n     \n        - \n        - \n        - \n\n    \n</fluent>\n\n<fluent locale=\"zh-TW\">\nsolver-start = \nsimple-solver-solving = \nerror-probably-out-of-memory = { $err }\n\nfrom-initial = \nfrom-current = \n\nfirst-stage = \nsecond-stage = \nthird-stage = \nmaximum-target = \ncustom-target = \n\ntarget-quality = \nenable-action = { $action }\nbackload-progress = \nminimize-steps = \nadversarial =  100% \n\nspeed-up = \nspeed-down = \nquality-down = \nincrease-duration = \nneed-learn-manipulation = \nconsume-crafters-delineation = \n\nsolver-info-title = Raphael \nsolver-info =\n    { $origin }\n\n    { $source }\n\n    Apache-2.0\n\n    \n     100%\n     \n        - \n        - \n        - \n\n    \n</fluent>\n\n<fluent locale=\"en-US\">\nsolver-start = Start\nsimple-solver-solving = Solving\nerror-probably-out-of-memory = { $err } (Probably out of memory, please use the desktop edition)\n\nfrom-initial = From initial\nfrom-current = From current\n\nfirst-stage = 1st\nsecond-stage = 2nd\nthird-stage = 3rd\nmaximum-target = Maximum\ncustom-target = Custom\n\ntarget-quality = Target quality\nenable-action = Enable { $action }\nbackload-progress = Backload progress (Quick solve)\nminimize-steps = Minimize Steps\nadversarial = Ensure 100% reliability\n\nspeed-up = speed up\nspeed-down = speed down\nquality-down = quality decline\nincrease-duration = increase macro duration\nneed-learn-manipulation = need manipulation\nconsume-crafters-delineation = consume crafter's delineation\n\nsolver-info-title = Raphael FFXIV Crafting Solver\nsolver-info =\n    Origin: { $origin }\n\n    Source: { $source }\n\n    License: Apache-2.0\n\n    Optimal macro selection:\n    - The generated macro must be able to finish the synthesis, i.e. reach 100% progress.\n    - Valid macros are then ranked based on these criteria, in order:\n        - Quality reached, capped at the target quality defined in the solver configuration. (Higher is better)\n        - Number of macro steps. (Lower is better)\n        - Total macro duration, in seconds. (Lower is better)\n\n    How does it work: Branch-and-bound, best-first-search, dynamic programming, Pareto optimization.\n</fluent>\n","<!-- \n    This file is part of BestCraft.\n    Copyright (C) 2025  Tnze\n\n    BestCraft is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Affero General Public License as published\n    by the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    BestCraft is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Affero General Public License for more details.\n\n    You should have received a copy of the GNU Affero General Public License\n    along with this program.  If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<script setup lang=\"ts\">\nimport { Ref, ref } from 'vue';\nimport {\n    ElAlert,\n    ElScrollbar,\n    ElButton,\n    ElLink,\n    ElMessage,\n    ElMessageBox,\n    ElTabs,\n    ElTabPane,\n} from 'element-plus';\nimport { Actions, CollectablesShopRefine, Status } from '@/libs/Craft';\nimport {\n    supported as solverSupported,\n    rika_solve,\n    rika_solve_tnzever,\n} from '@/libs/Solver';\nimport { formatDuration } from '@/libs/Utils';\nimport { useFluent } from 'fluent-vue';\nimport { Solver } from './DpSolver.vue';\nimport DpSolver from './DpSolver.vue';\nimport DfsSolver from './DfsSolver.vue';\nimport RaphaelSolver from './RaphaelSolver.vue';\nimport { SequenceSource } from '../types';\n\nconst { $t } = useFluent();\n\nconst props = defineProps<{\n    initStatus: Status;\n    currentStatus: Status;\n    recipeName: string;\n    canHq: boolean;\n    collectableShopRefine?: CollectablesShopRefine;\n}>();\n\nconst emits = defineEmits<{\n    (event: 'solverLoad', solver: Solver): void;\n    (\n        event: 'solverResult',\n        result: Actions[],\n        solverName: SequenceSource,\n        additional: boolean,\n    ): void;\n}>();\n\nconst activeNames = ref<string>('raphael');\n\nasync function runSimpleSolver(\n    solverId: SequenceSource,\n    solvingRunningState: Ref<boolean>,\n    solver: (initStatus: Status) => Promise<Actions[]>,\n    fromState: 'initial' | 'current' = 'initial',\n) {\n    const msg1 = ElMessage({\n        showClose: true,\n        duration: 0,\n        type: 'info',\n        message: $t('solving-info', { solverName: $t(solverId) }),\n    });\n    try {\n        solvingRunningState.value = true;\n        const startTime = new Date().getTime();\n        const initStatus =\n            fromState == 'current' ? props.currentStatus : props.initStatus;\n        const result = await solver(initStatus);\n        const stopTime = new Date().getTime();\n\n        const msgArgs = {\n            solveTime: formatDuration(stopTime - startTime),\n            solverName: $t(solverId),\n        };\n        if (result.length > 0) {\n            ElMessage({\n                type: 'success',\n                message: $t('simple-solver-finished', msgArgs),\n            });\n            emits('solverResult', result, solverId, fromState == 'current');\n        } else {\n            ElMessage({\n                showClose: true,\n                duration: 0,\n                type: 'error',\n                message: $t('simple-solver-finished-no-result', msgArgs),\n            });\n        }\n    } catch (err) {\n        ElMessage({\n            showClose: true,\n            duration: 0,\n            type: 'error',\n            message: $t('error-with', { err: $t(String(err)) }),\n        });\n        console.error(err);\n    } finally {\n        solvingRunningState.value = false;\n        msg1.close();\n    }\n}\n\nconst rikaIsSolving = ref(false);\n\nasync function runRikaSolver() {\n    if (\n        props.initStatus.recipe.rlv.id < 560 ||\n        props.initStatus.recipe.difficulty < 70\n    ) {\n        try {\n            await ElMessageBox.confirm(\n                $t('rika-solver-warning'),\n                $t('warning'),\n                {\n                    type: 'warning',\n                },\n            );\n        } catch (_err) {\n            return;\n        }\n    }\n    await runSimpleSolver(SequenceSource.BFSSolver, rikaIsSolving, rika_solve);\n}\n\nconst tnzeVerRikaIsSolving = ref(false);\nconst tnzeVerRikaUseManipulation = ref(true);\nconst tnzeVerRikaUseObserve = ref(true);\nconst tnzeVerRikaReduceSteps = ref(true);\n\nasync function runTnzeVerRikaSolver() {\n    await runSimpleSolver(\n        SequenceSource.TnzeVerRikaSolver,\n        tnzeVerRikaIsSolving,\n        initStatus =>\n            rika_solve_tnzever(\n                initStatus,\n                tnzeVerRikaUseManipulation.value,\n                8,\n                tnzeVerRikaUseObserve.value,\n                tnzeVerRikaReduceSteps.value,\n            ),\n    );\n}\n</script>\n\n<template>\n    <el-scrollbar class=\"container\">\n        <template v-if=\"!solverSupported\">\n            <el-alert\n                type=\"error\"\n                :title=\"$t('web-worker-not-avaliable')\"\n                show-icon\n                :closable=\"false\"\n            />\n            <br />\n        </template>\n        <el-tabs v-model=\"activeNames\">\n            <el-tab-pane :label=\"$t('raphael-solver')\" name=\"raphael\">\n                <RaphaelSolver\n                    :init-status=\"initStatus\"\n                    :recipe-name=\"recipeName\"\n                    @run-simple-solver=\"runSimpleSolver\"\n                    :collectable-shop-refine=\"collectableShopRefine\"\n                />\n            </el-tab-pane>\n            <el-tab-pane :label=\"$t('dp-solver')\" name=\"dp\">\n                <DpSolver\n                    :init-status=\"initStatus\"\n                    :recipe-name=\"recipeName\"\n                    @run-simple-solver=\"runSimpleSolver\"\n                />\n            </el-tab-pane>\n            <el-tab-pane\n                :label=\"$t('dfs-solver')\"\n                name=\"dfs\"\n                style=\"flex: auto\"\n            >\n                <DfsSolver\n                    :can-hq=\"canHq\"\n                    @run-simple-solver=\"runSimpleSolver\"\n                />\n            </el-tab-pane>\n            <el-tab-pane :label=\"$t('bfs-solver')\" name=\"bfs\">\n                <i18n path=\"rika-solver-info\" tag=\"span\" class=\"solver-info\">\n                    <template #rikaRepoLink=\"{ designByRika }\">\n                        <el-link\n                            type=\"primary\"\n                            href=\"https://github.com/RikaKagurasaka/xiv_craft_solver\"\n                            target=\"_blank\"\n                        >\n                            {{ designByRika }}\n                        </el-link>\n                    </template>\n                    <template #startButton>\n                        <el-button\n                            type=\"primary\"\n                            @click=\"runRikaSolver\"\n                            :loading=\"rikaIsSolving\"\n                        >\n                            {{\n                                rikaIsSolving\n                                    ? $t('simple-solver-solving')\n                                    : $t('solver-start')\n                            }}\n                        </el-button>\n                    </template>\n                    <template #rikaSaidLine=\"{ rikaSaid }\">\n                        {{ rikaSaid }}\n                    </template>\n                </i18n>\n            </el-tab-pane>\n        </el-tabs>\n    </el-scrollbar>\n</template>\n\n<style scoped>\n.sum-info {\n    display: block;\n    margin-bottom: 7px;\n}\n\n.container {\n    display: flex;\n    flex-direction: column;\n}\n\n.solver-info {\n    white-space: pre-line;\n}\n\n.el-button {\n    margin-top: 7px;\n}\n\n.el-slider {\n    margin-right: 40px;\n}\n\nspan {\n    font-size: var(--el-font-size-base);\n    color: var(--el-text-color-regular);\n}\n</style>\n\n<fluent locale=\"zh-CN\">\nweb-worker-not-avaliable =  Web Worker \n\ndo-not-touch = \nreduce-steps-info = \n\nsolving-info = { $solverName }\nerror-with = { $err }\n\nwarning = \nsolver-start = \nrika-solver-warning =  Rika \nsimple-solver-solving = \nsimple-solver-finished ={ $solverName }({ $solveTime })\nsimple-solver-finished-no-result = { $solverName }({ $solveTime })\n\nsum-info = {solver-start}\n\nrika-solver-info =\n    {$rikaRepoLink}\n    \n    \n\n    {$startButton}\n\n    {$rikaSaidLine}\n    .design-by-rika = Rika\n    .rika-said =56070 Rika\n\ntnzever-rika-solver-info =\n     Rika  Tnze \n\n    {$startButton}\n\n     Rika  Phase 1 Phase 2  Tnze \n     Rika \n\n    \n     Gitee  Github  issue \n\n</fluent>\n\n<fluent locale=\"zh-TW\">\nweb-worker-not-avaliable =  Web Worker \n\ndo-not-touch = \nreduce-steps-info = \n\nsolving-info = { $solverName }\nerror-with = { $err }\n\nwarning = \nsolver-start = \nrika-solver-warning =  Rika \nsimple-solver-solving = \nsimple-solver-finished ={ $solverName }({ $solveTime })\nsimple-solver-finished-no-result = { $solverName }({ $solveTime })\n\nsum-info = {solver-start}\n\nrika-solver-info =\n    {$rikaRepoLink}\n    \n    \n\n    {$startButton}\n\n    {$rikaSaidLine}\n    .design-by-rika = Rika\n    .rika-said =56070 Rika\n\ntnzever-rika-solver-info =\n     Rika  Tnze \n\n    {$startButton}\n\n     Rika  Phase 1 Phase 2  Tnze \n     Rika \n\n    \n     Gitee  Github  issue \n\n</fluent>\n\n<fluent locale=\"en-US\">\nweb-worker-not-avaliable = Your browser doesn't support Web Worker, which is required to running solvers.\n\ndo-not-touch = Do not \"touching\"\nreduce-steps-info = Minimum resource\n\nsolving-info = Solving, please wait patiently\nerror-with = Error: { $err }\n\nwarning = Warning\nsolver-start = Start\nrika-solver-warning = The current recipe does not meet the usage conditions of the Rika's solver. Do you want to force it to run?\nsimple-solver-solving = Solving\nsimple-solver-finished = Solver \"{ $solverName }\" finished. ({ $solveTime })\nsimple-solver-finished-no-result = \"{ $solverName }\" is finished. None of result is returned. ({ $solveTime })\n\nsum-info = Warning: The following content contains many fragmented ideas that are not helpful to you. To use the solvers, please click on the '{solver-start}' button directly.\n\nrika-solver-info =\n    {$rikaRepoLink}. Transplant with the consent of the author.\n    P.S: The algorithm uses radical pruning strategy for solving,\n    The pruning strategy is manually specified by the author based on experience,\n    and is applicable to specific versions of the recipe.\n\n    {$startButton}\n\n    {$rikaSaidLine}\n    .design-by-rika = Designed by Rika\n    .rika-said =56070 Rika\n\ntnzever-rika-solver-info =\n    This solver is a Tnze improved version of the Rika's Breadth First Search.\n\n    {$startButton}\n\n    Retained Phase 1 of Rika algorithm and entrusted Phase 2 to Tnze's carefully crafted Dynamic Programing algorithm implementation.\n    This method can not only take advantage of the excellent characteristics of dynamic programming that can calculate the optimal solution, \n    but also take full advantage of the advantage of Rika algorithm that can handle the \"conviction\" starting.\n    \n    Note: Similar to the \"Breadth First Search\" solver, this version of the algorithm may only be applicable to specific some of recipes.\n    If you believe that you have encountered an abnormal situation, please submit an issue on Gitee or Github.\n\n</fluent>\n<fluent locale=\"ja-JP\">\n</fluent>\n","<!-- \n    This file is part of BestCraft.\n    Copyright (C) 2025  Tnze\n\n    BestCraft is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Affero General Public License as published\n    by the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    BestCraft is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Affero General Public License for more details.\n\n    You should have received a copy of the GNU Affero General Public License\n    along with this program.  If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<script setup lang=\"ts\">\nimport {\n    ElDropdown,\n    ElDropdownMenu,\n    ElDropdownItem,\n    ElSwitch,\n    ElForm,\n    ElFormItem,\n    ElButton,\n    ElDivider,\n    ElDescriptions,\n    ElDescriptionsItem,\n    ElDrawer,\n    ElTable,\n    ElTableColumn,\n    ElScrollbar,\n} from 'element-plus';\nimport {\n    Statistics,\n    CollectableStatistics,\n    rand_simulation,\n    rand_collectables_simulation,\n    calc_attributes_scope,\n    Scope,\n} from '@/libs/Analyzer';\nimport {\n    Actions,\n    Buffs as BuffsType,\n    CollectablesShopRefine,\n    simulateDetail,\n    Status,\n} from '@/libs/Craft';\nimport Buffs from '../Buffs.vue';\nimport * as d3 from 'd3';\nimport { ref, computed, watch, reactive } from 'vue';\nimport useStore from '@/stores/designer';\nimport Action from '../Action.vue';\n\nconst props = defineProps<{\n    initStatus: Status;\n    actions: Actions[];\n    collectableShopRefine?: CollectablesShopRefine;\n}>();\nconst store = useStore();\nconst defaultSimulationCounts = 1000;\nconst maximiumSimulatonPow = 5;\n\nconst simulationResult = ref<Statistics | CollectableStatistics>();\nconst simulationButtonDisabled = ref(false);\nconst options = reactive(store.options.analyzerOptions);\n\nconst attributesScope = ref<Scope>();\n\nconst showCheckSimulateDetail = ref(false);\nconst simulateDetailResult = ref<SimulateDetailRow[]>([]);\n\ninterface SimulateDetailRow {\n    step: number;\n    action?: Actions;\n    progress: number;\n    quality: number;\n    craft_points: number;\n    durability: number;\n    buffs?: BuffsType;\n    error?: string; // When `error` exists, other field no longer display\n}\n\nasync function runBatchSimulatios(n: number) {\n    simulationResult.value = undefined;\n    simulationButtonDisabled.value = true;\n    try {\n        if (props.collectableShopRefine == undefined) {\n            simulationResult.value = await rand_simulation(\n                props.initStatus,\n                props.actions,\n                n,\n                options.ignoreErrors,\n            );\n        } else {\n            simulationResult.value = await rand_collectables_simulation(\n                props.initStatus,\n                props.actions,\n                n,\n                options.ignoreErrors,\n                props.collectableShopRefine,\n            );\n        }\n    } finally {\n        simulationButtonDisabled.value = false;\n    }\n}\n\nasync function calcScope() {\n    try {\n        attributesScope.value = await calc_attributes_scope(\n            props.initStatus,\n            props.actions,\n        );\n    } catch {}\n}\n\nasync function runSimulateDetail() {\n    const result = await simulateDetail(props.initStatus, props.actions);\n    const details: SimulateDetailRow[] = [\n        {\n            step: props.initStatus.step,\n            progress: props.initStatus.progress,\n            quality: props.initStatus.quality,\n            craft_points: props.initStatus.craft_points,\n            durability: props.initStatus.durability,\n            buffs: props.initStatus.buffs,\n        },\n    ];\n    for (const i in props.actions) {\n        if ('Err' in result[i]) {\n            const error: string = result[i].Err;\n            details.push({\n                step: NaN,\n                action: props.actions[i],\n                progress: NaN,\n                quality: NaN,\n                craft_points: NaN,\n                durability: NaN,\n                error,\n            });\n        } else if ('Ok' in result[i]) {\n            const s: Status = result[i].Ok;\n            details.push({\n                step: s.step,\n                action: props.actions[i],\n                progress: s.progress,\n                quality: s.quality,\n                craft_points: s.craft_points,\n                durability: s.durability,\n                buffs: s.buffs,\n            });\n        }\n    }\n    simulateDetailResult.value = details;\n    showCheckSimulateDetail.value = true;\n}\n\nfunction simulateDetailSpanMethod(data: {\n    row: SimulateDetailRow;\n    rowIndex: number;\n    columnIndex: number;\n}): [number, number] | undefined {\n    if (data.row.error !== undefined) {\n        if (data.columnIndex == 2) return [1, 5];\n        else if (data.columnIndex > 2) return [0, 0];\n    }\n    return undefined;\n}\n\nlet autoRunTimeout: any = null;\nwatch(\n    () => [props.actions, props.initStatus],\n    () => {\n        if (autoRunTimeout !== null) {\n            clearTimeout(autoRunTimeout);\n        }\n        const thisTimeout = setTimeout(async () => {\n            await runBatchSimulatios(defaultSimulationCounts);\n            await calcScope();\n            if (autoRunTimeout == thisTimeout) {\n                autoRunTimeout = null;\n            }\n        }, 200);\n        autoRunTimeout = thisTimeout;\n    },\n);\n\nconst arc = d3\n    .arc<d3.PieArcDatum<[string, number]>>()\n    .innerRadius(50)\n    .outerRadius(200 / 2 - 1);\n\nconst pie = d3\n    .pie<[string, number]>()\n    .sort(null)\n    .value(d => d[1]);\n\nconst color = d3\n    .scaleOrdinal()\n    .domain([\n        'errors',\n        'unfinished',\n        'fails',\n        'normal',\n        'highqual',\n        'no_collectability',\n        'low_collectability',\n        'middle_collectability',\n        'high_collectability',\n    ])\n    .range(d3.schemeSpectral[9])\n    .unknown('#ccc');\n\nconst arcs = computed(() => {\n    const statistics = simulationResult.value;\n    if (statistics == undefined) return undefined;\n    const data: [string, number][] = Object.entries(statistics).filter(\n        d => d[1] > 0,\n    );\n    return pie(data);\n});\n\nconst labelRadius = (200 / 2 - 1) * 0.75;\nconst arcLabel = d3\n    .arc<d3.PieArcDatum<[string, number]>>()\n    .innerRadius(labelRadius)\n    .outerRadius(labelRadius);\n</script>\n\n<template>\n    <el-form>\n        <el-form-item :label=\"$t('ignore-errors')\">\n            <el-switch v-model=\"options.ignoreErrors\" />\n        </el-form-item>\n        <el-form-item>\n            <el-dropdown\n                split-button\n                type=\"default\"\n                @click=\"runBatchSimulatios(defaultSimulationCounts)\"\n                @command=\"(n: number) => runBatchSimulatios(n)\"\n                :disabled=\"simulationButtonDisabled\"\n            >\n                {{ $t('run-simulations') }}\n                <template #dropdown>\n                    <el-dropdown-menu>\n                        <el-dropdown-item\n                            v-for=\"i in maximiumSimulatonPow\"\n                            :command=\"10 ** i\"\n                        >\n                            {{ $t('run-n-times', { n: 10 ** i }) }}\n                        </el-dropdown-item>\n                    </el-dropdown-menu>\n                </template>\n            </el-dropdown>\n        </el-form-item>\n        <Transition>\n            <el-form-item v-if=\"simulationResult\">\n                <svg\n                    width=\"200\"\n                    height=\"200\"\n                    viewBox=\"-100 -100 200 200\"\n                    style=\"\n                        max-width: 100%;\n                        height: auto;\n                        font: 10px sans-serif;\n                        margin: 15px;\n                    \"\n                >\n                    <g>\n                        <path\n                            v-for=\"d in arcs\"\n                            :d=\"arc(d) ?? undefined\"\n                            :fill=\"color(d.data[0]) as string\"\n                            stroke=\"white\"\n                        >\n                            <title>{{ $t(d.data[0]) + '' + d.data[1] }}</title>\n                        </path>\n                    </g>\n                    <g text-anchor=\"middle\">\n                        <text\n                            v-for=\"d in arcs\"\n                            :transform=\"`translate(${arcLabel.centroid(d)})`\"\n                        >\n                            <tspan font-weight=\"bold\" y=\"-0.4em\">\n                                {{ $t(d.data[0]) }}\n                            </tspan>\n                            <tspan\n                                v-if=\"d.endAngle - d.startAngle > 0.1\"\n                                x=\"0\"\n                                y=\"0.7em\"\n                                fill-opacity=\"0.7\"\n                            >\n                                {{ d.data[1] }}\n                            </tspan>\n                        </text>\n                    </g>\n                </svg>\n                <el-descriptions v-if=\"simulationResult\" :column=\"1\" border>\n                    <el-descriptions-item\n                        v-for=\"[key, val] in Object.entries(\n                            simulationResult,\n                        ).sort((a, b) => b[1] - a[1])\"\n                        :label=\"$t(key)\"\n                    >\n                        {{ val }}\n                    </el-descriptions-item>\n                </el-descriptions>\n            </el-form-item>\n        </Transition>\n        <el-divider />\n        <el-form-item>\n            <el-button @click=\"calcScope\">{{ $t('calc-scope') }}</el-button>\n        </el-form-item>\n        <Transition>\n            <el-form-item\n                :label=\"$t('craftsmanship-range')\"\n                v-if=\"attributesScope?.craftsmanship_range\"\n            >\n                {{ attributesScope.craftsmanship_range[0] ?? '' }} ~\n                {{ attributesScope.craftsmanship_range[1] ?? '' }}\n            </el-form-item>\n        </Transition>\n        <Transition>\n            <el-form-item\n                :label=\"$t('control-range')\"\n                v-if=\"attributesScope?.control_range\"\n            >\n                {{ attributesScope.control_range }} ~\n            </el-form-item>\n        </Transition>\n        <el-divider />\n        <el-form-item>\n            <el-button @click=\"runSimulateDetail\">\n                {{ $t('check-simulate-detail') }}\n            </el-button>\n            <el-drawer\n                v-model=\"showCheckSimulateDetail\"\n                direction=\"btt\"\n                size=\"80%\"\n                :title=\"$t('check-simulate-detail')\"\n            >\n                <el-scrollbar>\n                    <el-table\n                        :data=\"simulateDetailResult\"\n                        :span-method=\"simulateDetailSpanMethod\"\n                    >\n                        <el-table-column\n                            :label=\"$t('steps')\"\n                            prop=\"step\"\n                            width=\"80px\"\n                            align=\"center\"\n                        />\n                        <el-table-column\n                            :label=\"$t('action')\"\n                            prop=\"action\"\n                            width=\"100px\"\n                            align=\"center\"\n                        >\n                            <template #default=\"{ row }\">\n                                <Action\n                                    style=\"transform: scale(0.7)\"\n                                    v-if=\"row.action !== undefined\"\n                                    :action=\"row.action\"\n                                    :effect=\"row.error ? 'black' : 'normal'\"\n                                    noHover\n                                    disabled\n                                />\n                            </template>\n                        </el-table-column>\n                        <el-table-column\n                            :label=\"$t('durability')\"\n                            prop=\"durability\"\n                        >\n                            <template #default=\"{ row }\">\n                                <template v-if=\"row.error === undefined\">\n                                    {{ row.durability }}\n                                </template>\n                                <template v-else>\n                                    {{ $t(row.error) }}\n                                </template>\n                            </template>\n                        </el-table-column>\n                        <el-table-column\n                            :label=\"$t('craft-point')\"\n                            prop=\"craft_points\"\n                        />\n                        <el-table-column\n                            :label=\"$t('progress')\"\n                            prop=\"progress\"\n                        />\n                        <el-table-column\n                            :label=\"$t('quality')\"\n                            prop=\"quality\"\n                        />\n                        <el-table-column :label=\"$t('buffs')\" prop=\"buffs\">\n                            <template #default=\"{ row }\">\n                                <Buffs\n                                    v-if=\"row.buffs !== undefined\"\n                                    :buffs=\"row.buffs\"\n                                />\n                            </template>\n                        </el-table-column>\n                    </el-table>\n                </el-scrollbar>\n            </el-drawer>\n        </el-form-item>\n    </el-form>\n</template>\n\n<style scoped>\n.action-queue {\n    margin-left: 0;\n    line-height: 14px;\n}\n\n.v-enter-active,\n.v-leave-active {\n    transition: all 0.5s ease;\n}\n\n.v-enter-from,\n.v-leave-to {\n    opacity: 0;\n}\n</style>\n\n<fluent locale=\"zh-CN\">\nrun-simulations = \nrun-n-times =  { $n } \naction-queue = \nignore-errors = \n\nempty = \n\nerrors = \nunfinished = \nfails = \nnormal = \nhighqual = \n\nno_collectability = \nlow_collectability = \nmiddle_collectability = \nhigh_collectability = \n\ncalc-scope = \ncraftsmanship-range = { craftsmanship }\ncontrol-range = { control }\n\ncheck-simulate-detail = \naction = \nbuffs = \n</fluent>\n\n<fluent locale=\"zh-TW\">\nrun-simulations = \nrun-n-times =  { $n } \naction-queue = \nignore-errors = \n\nempty = \n\nerrors = \nunfinished = \nfails = \nnormal = \nhighqual = \n\nno_collectability = \nlow_collectability = \nmiddle_collectability = \nhigh_collectability = \n\ncalc-scope = \ncraftsmanship-range = { craftsmanship }\ncontrol-range = { control }\n\ncheck-simulate-detail = \naction = \nbuffs = \n</fluent>\n\n<fluent locale=\"en-US\">\nrun-simulations = Run simulations\nrun-n-times = Run simulation { $n } times\naction-queue = Action Queue\nignore-errors = Ignore errors\n\nempty = Empty\n\nerrors = Errors\nunfinished = Unfinished\nfails = Fails\nnormal = Normal\nhighqual = High-quality\n\nno_collectability = No Collectability\nlow_collectability = Low Collectability\nmiddle_collectability = Middle Collectability\nhigh_collectability = High Collectability\n\ncalc-scope = Calculate the range of adaptive gearsets\ncraftsmanship-range = { craftsmanship } range\ncontrol-range = { control } range\n\ncheck-simulate-detail = Check simulate detail\naction = Action\nbuffs = Buffs\n</fluent>\n","<!-- \n    This file is part of BestCraft.\n    Copyright (C) 2025  Tnze\n\n    BestCraft is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Affero General Public License as published\n    by the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    BestCraft is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Affero General Public License for more details.\n\n    You should have received a copy of the GNU Affero General Public License\n    along with this program.  If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<script setup lang=\"ts\">\nimport { ElTag, ElSpace } from 'element-plus';\nimport { calcPostCastTime, calcWaitTime, Status } from '@/libs/Craft';\nimport { computed } from 'vue';\nimport { formatDuration } from '@/libs/Utils';\nimport { Sequence } from './types';\n\nconst props = defineProps<{\n    seq: Sequence;\n    status: Status;\n}>();\n\nconst lengthTagType = computed<\n    'success' | 'warning' | 'info' | 'danger' | undefined\n>(() => {\n    const length = props.seq.slots.length;\n    if (length <= 15) return 'success';\n    else if (length <= 30) return 'warning';\n    else return 'danger';\n});\n\nconst waitTime = computed(() => {\n    const actions = props.seq.slots.map(v => v.action);\n    return {\n        macro: calcWaitTime(...actions),\n        manual: calcPostCastTime(...actions),\n    };\n});\n</script>\n\n<template>\n    <el-space>\n        <el-tag round :type=\"lengthTagType\">\n            {{ $t('macro-length-tag', { length: props.seq.slots.length }) }}\n        </el-tag>\n        <el-tag round type=\"info\">\n            {{ $t('steps-tag', { steps: props.status.step }) }}\n        </el-tag>\n        <el-tag round type=\"info\">\n            {{\n                $t('macro-duration-tag', {\n                    duration: formatDuration(waitTime.macro * 1e3, 0),\n                })\n            }}\n        </el-tag>\n        <el-tag round type=\"info\">\n            {{\n                $t('manual-duration-tag', {\n                    duration: formatDuration(waitTime.manual * 1e3, 1),\n                })\n            }}\n        </el-tag>\n    </el-space>\n</template>\n\n<fluent locale=\"zh-CN\">\nmacro-length-tag = { $length }\nsteps-tag = { steps }{ $steps }\nmacro-duration-tag = { $duration }\nmanual-duration-tag = { $duration }\n</fluent>\n\n<fluent locale=\"zh-TW\">\nmacro-length-tag = { $length }\nsteps-tag = { steps }{ $steps }\nmacro-duration-tag = { $duration }\nmanual-duration-tag = { $duration }\n</fluent>\n\n<fluent locale=\"en-US\">\nmacro-length-tag = Macro Length: { $length }\nsteps-tag = { steps }: { $steps }\nmacro-duration-tag = Macro Duration: { $duration }\nmanual-duration-tag = Manual Duration: { $duration }\n</fluent>\n","<!-- \n    This file is part of BestCraft.\n    Copyright (C) 2025  Tnze\n\n    BestCraft is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Affero General Public License as published\n    by the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    BestCraft is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Affero General Public License for more details.\n\n    You should have received a copy of the GNU Affero General Public License\n    along with this program.  If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<script setup lang=\"ts\">\nimport {\n    Ref,\n    computed,\n    inject,\n    markRaw,\n    provide,\n    reactive,\n    ref,\n    watch,\n} from 'vue';\nimport { ElScrollbar, ElAlert, ElTabs, ElTabPane } from 'element-plus';\nimport { useMediaQuery, useElementSize } from '@vueuse/core';\n\nimport {\n    Attributes,\n    Actions,\n    simulate,\n    Status,\n    newStatus,\n    Recipe,\n    Jobs,\n    Item,\n    RecipeRequirements,\n    SimulateResult,\n    CollectablesShopRefine,\n} from '@/libs/Craft';\nimport { read_solver } from '@/libs/Solver';\nimport { calculateEnhancedAttributsAbs, Enhancer } from '@/libs/Enhancer';\nimport { GearsetsRow } from '@/libs/Gearsets';\nimport useDesignerStore from '@/stores/designer';\nimport useGearsetsStore from '@/stores/gearsets';\n\nimport AttrEnhSelector from './tabs/AttrEnhSelector.vue';\nimport InitialQualitySetting from './tabs/InitialQualitySetting.vue';\nimport MacroExporter from './tabs/MacroExporter.vue';\nimport MacroImporter from './tabs/MacroImporter.vue';\n\nimport ActionPanel from './ActionPanel.vue';\nimport ActionQueue from './ActionQueue.vue';\nimport StatusBar from './StatusBar.vue';\nimport SolverList from './solvers/List.vue';\nimport { useFluent } from 'fluent-vue';\nimport Analyzers from './tabs/Analyzers.vue';\nimport { activeSeqKey, displayJobKey } from './injectionkeys';\nimport { Slot, Sequence, SequenceSource } from './types';\nimport MarcoInfo from './MarcoInfo.vue';\n\nconst props = defineProps<{\n    recipe: Recipe;\n    recipeId?: number;\n    requirements: RecipeRequirements;\n    collectableShopRefine?: CollectablesShopRefine;\n    item: Item;\n    materialQualityFactor: number;\n    isCustomRecipe: boolean;\n}>();\n\nconst store = useDesignerStore();\nconst gearsetsStore = useGearsetsStore();\nconst { $t } = useFluent();\nconst displayJob = inject(displayJobKey) as Ref<Jobs>;\nconst foldMultiFunctionArea = useMediaQuery('screen and (max-width: 480px)');\nwatch(foldMultiFunctionArea, fold => {\n    if (!fold && activeTab.value == 'action-panel') {\n        activeTab.value = DEFAULT_TAB;\n    }\n});\n\nconst actionQueueElem = ref();\nconst { height: actionQueueHeight } = useElementSize(actionQueueElem);\n\n// \nconst gearsetId = ref(0);\nconst selectedGearsetRow = computed<GearsetsRow | undefined>(() => {\n    return gearsetsStore.gearsets.find(v => v.id == gearsetId.value);\n});\nconst attributes = computed<Attributes>(\n    () => (selectedGearsetRow.value ?? gearsetsStore.default).value,\n);\n// Gearsets changed\ngearsetsStore.$subscribe((_, state) => {\n    selectDefaultGearset();\n});\n// Recipe changed\nwatch(\n    [displayJob, () => props.isCustomRecipe],\n    ([displayJob, isCustomRecipe], old) => {\n        const currentGearset = selectedGearsetRow.value;\n        if (\n            currentGearset == undefined ||\n            currentGearset.id == 0 ||\n            (!isCustomRecipe &&\n                !currentGearset.compatibleJobs.includes(displayJob))\n        ) {\n            // Current selected gearset doesn't fit current recipe\n            selectDefaultGearset();\n        }\n    },\n    { immediate: true },\n);\n\nfunction selectDefaultGearset() {\n    if (props.isCustomRecipe) {\n        gearsetId.value = 0;\n        return;\n    }\n    const job = displayJob.value;\n    const newGearset = gearsetsStore.gearsets.find(\n        (v, i) => i != 0 && v.compatibleJobs.includes(job),\n    );\n    gearsetId.value = newGearset?.id ?? 0;\n}\n\n// \nconst attributesEnhancers = ref<Enhancer[]>([]);\nconst enhancedAttributes = computed<Attributes>(() =>\n    calculateEnhancedAttributsAbs(\n        attributes.value,\n        ...attributesEnhancers.value,\n    ),\n);\n\n// Attribution Alert\nvar attributionAlert = computed(() => {\n    let { required_craftsmanship, required_control } = props.requirements;\n    let { craftsmanship, control } = enhancedAttributes.value;\n    let notMeet = [] as string[];\n    if (required_craftsmanship > craftsmanship) {\n        notMeet.push($t('craftsmanship'));\n    }\n    if (required_control > control) {\n        notMeet.push($t('control'));\n    }\n    let num = notMeet.length;\n    if (num > 0) {\n        let attribute = notMeet[0];\n        if (num > 1) {\n            attribute = $t('and', { a: notMeet[0], b: notMeet[1] });\n        }\n        return {\n            title: $t('attributes-do-not-meet-the-requirements', {\n                num,\n                attribute,\n            }),\n            descryption: $t('attributes-requirements', {\n                craftsmanship: required_craftsmanship,\n                control: required_control,\n            }),\n        };\n    }\n    return;\n});\n// UI States\nconst DEFAULT_TAB = 'solver-list';\nconst isReadingSolver = ref(0);\nconst isReadingSolverDisplay = ref(false); // This is basicly (isReadingSolver != 0), with a 500ms delay on rising edge\nconst previewSolver = ref(false);\nconst activeTab = ref(DEFAULT_TAB);\n\nlet isReadingSolverDisplayStopTimer: NodeJS.Timeout | null = null;\nwatch(isReadingSolver, (irs, irsPrev) => {\n    if (irs > 0) {\n        if (irsPrev == 0)\n            isReadingSolverDisplayStopTimer = setTimeout(() => {\n                isReadingSolverDisplay.value = true;\n            }, 500);\n    } else if (irsPrev > 0) {\n        if (isReadingSolverDisplayStopTimer)\n            clearTimeout(isReadingSolverDisplayStopTimer);\n        isReadingSolverDisplay.value = false;\n    }\n});\n\n// Simulation Input\nconst initQuality = ref(0);\nconst initStatus = ref<Status>({\n    ...(await newStatus(enhancedAttributes.value, props.recipe)),\n    quality: initQuality.value,\n});\nwatch([props, enhancedAttributes, initQuality], async ([p, ea, iq]) => {\n    initStatus.value = {\n        ...(await newStatus(ea, p.recipe)),\n        quality: iq,\n    };\n});\n\n// Active Sequence\nconst activeSeq = reactive<Sequence>({\n    slots: [],\n    maxid: 0,\n});\nconst activeRst = ref<SimulateResult>();\nsimulate(initStatus.value, []).then(v => (activeRst.value = v));\n\nprovide(activeSeqKey, ref(activeSeq));\nconst actions = computed(() => activeSeq.slots.map(slot => slot.action));\nconst displayActions = computed(() => {\n    return previewSolver.value && solverResult.slots.length > 0\n        ? solverResult.slots.map(v => v.action)\n        : activeSeq.slots.map(v => v.action);\n});\nfunction pushAction(action: Actions) {\n    activeSeq.slots.push(markRaw({ id: activeSeq.maxid++, action }));\n}\nfunction loadSeq(seq: Sequence) {\n    const length = activeSeq.slots.length;\n    activeSeq.slots.splice(0, length, ...seq.slots);\n    activeSeq.maxid = seq.maxid;\n}\nfunction userImport(actions: Actions[]) {\n    const slots = actions.map((action, id) => <Slot>{ id, action });\n    loadSeq(<Sequence>{ slots, maxid: slots.length });\n}\n\n// Solver result\nconst solverResult = reactive<Sequence>({\n    slots: [],\n    maxid: 0,\n});\nconst solverResultRst = ref<SimulateResult>();\nwatch(initStatus, readSolver);\n\n// Saved Sequence\nwatch(initStatus, async newInitStatus => {\n    // re-simulate activeSeq\n    activeRst.value = await simulate(newInitStatus, actions.value);\n});\nwatch(actions, async a => {\n    activeRst.value = await simulate(initStatus.value, a);\n});\n\nconst displayedStatus = computed(() => {\n    return previewSolver.value &&\n        !isReadingSolverDisplay.value &&\n        solverResult.slots.length > 0\n        ? (solverResultRst.value?.status ??\n              activeRst.value?.status ??\n              initStatus.value)\n        : (activeRst.value?.status ?? initStatus.value);\n});\n\nasync function readSolver() {\n    try {\n        const s = activeRst.value?.status;\n        if (!s) return;\n        isReadingSolver.value++;\n        const newSolverResult = actions.value.concat(await read_solver(s));\n        let display = [];\n        let oldID = new Map<Actions, number[]>();\n        for (const slot of solverResult.slots) {\n            if (oldID.get(slot.action)?.push(slot.id) == undefined)\n                oldID.set(slot.action, [slot.id]);\n        }\n        for (const action of newSolverResult) {\n            const i = oldID.get(action)?.shift() || solverResult.maxid++;\n            display.push({ id: i, action: action });\n        }\n        solverResult.slots = display;\n\n        solverResultRst.value = await simulate(\n            initStatus.value,\n            newSolverResult,\n        );\n    } catch (err) {\n        solverResult.slots = [];\n    } finally {\n        isReadingSolver.value--;\n    }\n}\n\nasync function handleSolverResult(\n    actions: Actions[],\n    solverName: SequenceSource,\n    additional: boolean,\n) {\n    if (additional) {\n        for (const i in actions) pushAction(actions[i]);\n    } else {\n        const seq = {\n            slots: actions.map((action, id) => ({ action, id })),\n            maxid: actions.length,\n            source: solverName,\n            itemName: store.content?.item.name,\n        };\n        loadSeq(seq);\n    }\n}\n</script>\n\n<template>\n    <div class=\"main-page\">\n        <div class=\"crafting-alerts\">\n            <el-alert\n                v-if=\"attributionAlert != undefined\"\n                :title=\"attributionAlert.title\"\n                :description=\"attributionAlert.descryption\"\n                type=\"warning\"\n                show-icon\n                center\n                :closable=\"false\"\n            />\n        </div>\n        <StatusBar\n            class=\"status-bar\"\n            :attributes=\"enhancedAttributes\"\n            :status=\"displayedStatus\"\n            :show-condition=\"false\"\n            :collectable-shop-refine=\"collectableShopRefine\"\n        />\n        <div class=\"above-panel\">\n            <el-scrollbar\n                v-if=\"!foldMultiFunctionArea\"\n                class=\"above-left-panel\"\n            >\n                <ActionPanel\n                    @clicked-action=\"pushAction\"\n                    :job=\"displayJob\"\n                    :status=\"activeRst?.status\"\n                    #lower\n                />\n            </el-scrollbar>\n\n            <div class=\"above-right-panel\" style=\"overflow: hidden\">\n                <div ref=\"actionQueueElem\" class=\"action-queue\">\n                    <ActionQueue\n                        :job=\"displayJob\"\n                        v-model:list=\"activeSeq.slots\"\n                        :solver-result=\"solverResult.slots\"\n                        :preview-solver=\"previewSolver\"\n                        :err-list=\"activeRst?.errors\"\n                        :loading-solver-result=\"isReadingSolverDisplay\"\n                        clearable\n                    />\n                    <MarcoInfo\n                        style=\"margin-left: 9px\"\n                        :seq=\"activeSeq\"\n                        :status=\"displayedStatus\"\n                    />\n                </div>\n                <el-tabs\n                    class=\"above-tabs\"\n                    v-model=\"activeTab\"\n                    tab-position=\"top\"\n                    :style=\"`height: calc(100% - ${actionQueueHeight + 10}px)`\"\n                >\n                    <el-tab-pane\n                        v-if=\"foldMultiFunctionArea\"\n                        :label=\"$t('action-panel')\"\n                        name=\"action-panel\"\n                        class=\"multi-function-area\"\n                    >\n                        <ActionPanel\n                            @clicked-action=\"pushAction\"\n                            :status=\"activeRst?.status\"\n                        />\n                    </el-tab-pane>\n                    <el-tab-pane\n                        :label=\"$t('init-quality')\"\n                        name=\"init-quality\"\n                        class=\"multi-function-area\"\n                    >\n                        <el-scrollbar style=\"flex: auto; padding-left: 30px\">\n                            <InitialQualitySetting\n                                v-model=\"initQuality\"\n                                :item=\"item\"\n                                :recipe=\"recipe\"\n                                :recipe-id=\"recipeId\"\n                                :material-quality-factor=\"materialQualityFactor\"\n                            />\n                        </el-scrollbar>\n                    </el-tab-pane>\n                    <el-tab-pane\n                        :label=\"$t('attributes-enhance')\"\n                        name=\"attributes-enhance\"\n                        class=\"multi-function-area\"\n                    >\n                        <el-scrollbar style=\"flex: auto; padding-left: 30px\">\n                            <AttrEnhSelector\n                                v-model=\"attributesEnhancers\"\n                                v-model:gearset-id=\"gearsetId\"\n                                :job=\"isCustomRecipe ? undefined : displayJob\"\n                                :attributes=\"attributes\"\n                            />\n                        </el-scrollbar>\n                    </el-tab-pane>\n                    <el-tab-pane\n                        :label=\"$t('export-macro')\"\n                        name=\"export-macro\"\n                        class=\"multi-function-area\"\n                    >\n                        <el-scrollbar style=\"flex: auto\">\n                            <MacroExporter :actions=\"displayActions\" />\n                        </el-scrollbar>\n                    </el-tab-pane>\n                    <el-tab-pane\n                        :label=\"$t('import-macro')\"\n                        name=\"import-macro\"\n                        class=\"multi-function-area\"\n                    >\n                        <el-scrollbar style=\"flex: auto\">\n                            <MacroImporter @on-recognized=\"userImport\" />\n                        </el-scrollbar>\n                    </el-tab-pane>\n                    <el-tab-pane\n                        :label=\"$t('solvers')\"\n                        name=\"solver-list\"\n                        class=\"multi-function-area\"\n                    >\n                        <el-scrollbar style=\"flex: auto\">\n                            <SolverList\n                                :init-status=\"initStatus\"\n                                :current-status=\"displayedStatus\"\n                                :recipe-name=\"item.name\"\n                                :can-hq=\"item.can_be_hq\"\n                                @solver-load=\"readSolver()\"\n                                @solver-result=\"handleSolverResult\"\n                                :collectable-shop-refine=\"collectableShopRefine\"\n                            />\n                        </el-scrollbar>\n                    </el-tab-pane>\n                    <el-tab-pane\n                        :label=\"$t('analyzer')\"\n                        name=\"analyzer\"\n                        class=\"multi-function-area\"\n                    >\n                        <el-scrollbar style=\"flex: auto\">\n                            <Analyzers\n                                :init-status=\"initStatus\"\n                                :actions=\"displayActions\"\n                                :collectable-shop-refine=\"collectableShopRefine\"\n                            />\n                        </el-scrollbar>\n                    </el-tab-pane>\n                </el-tabs>\n            </div>\n        </div>\n    </div>\n</template>\n\n<style scoped>\n.el-card {\n    --el-card-padding: 4px 5px;\n    --el-card-border-radius: 15px;\n    margin: 15px;\n}\n\n.above-tabs {\n    /* height: 100%; */\n    user-select: none;\n}\n\n.main-page {\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n}\n\n.crafting-alerts {\n    margin: 5px 15px;\n}\n\n.status-bar {\n    flex: none;\n}\n\n.above-panel {\n    display: flex;\n    flex: auto;\n    overflow: hidden;\n    flex-direction: row;\n}\n\n.above-panel :deep(.el-tabs__content) {\n    display: flex;\n    flex: auto;\n}\n\n.above-left-panel {\n    flex: 0 0 270px;\n    min-width: 140px;\n    height: auto;\n}\n\n.above-right-panel {\n    display: flex;\n    flex-direction: column;\n    flex: 1 1 auto;\n    margin-left: 5px;\n    height: 100%;\n}\n\n@media screen and (max-width: 480px) {\n    .above-panel {\n        flex-direction: column;\n    }\n\n    .above-left-panel {\n        order: 1;\n        flex: 1 1 auto;\n    }\n\n    .above-right-panel {\n        flex: 0 0 auto;\n        height: inherit;\n    }\n}\n\n.multi-function-area {\n    height: 100%;\n    width: 100%;\n    overflow: hidden;\n}\n\n.action-queue {\n    border-left: 5px solid var(--el-border-color);\n    margin-bottom: 5px;\n}\n</style>\n\n<fluent locale=\"zh-CN\">\nsolvers = \nexport-macro = \nimport-macro = \nattributes-enhance = &\ninit-quality = \nstore = \nanalyzer = \naction-panel = \n\nwaring = \n\nmacro-file-type-name = BestCraft\nsave-file = \nsave-success = \nsave-fail = { $reason }\nopen-file = \nread-n-macros =  { $n } \nread-fail = { $reason }\n\nedit = \ndelete = \n\nand = { $a }{ $b }\nattributes-do-not-meet-the-requirements = { $attribute }\nattributes-requirements =   { $craftsmanship }    { $control }\n</fluent>\n\n<fluent locale=\"zh-TW\">\nsolvers = \nexport-macro = \nimport-macro = \nattributes-enhance = &\ninit-quality = \nstore = \nanalyzer = \naction-panel = \n\nwaring = \n\nmacro-file-type-name = BestCraft\nsave-file = \nsave-success = \nsave-fail = { $reason }\nopen-file = \nread-n-macros =  { $n } \nread-fail = { $reason }\n\nedit = \ndelete = \n\nand = { $a }{ $b }\nattributes-do-not-meet-the-requirements = { $attribute }\nattributes-requirements =   { $craftsmanship }    { $control }\n</fluent>\n\n<fluent locale=\"en-US\">\nsolvers = Solvers\nexport-macro = Export\nimport-macro = Import\nattributes-enhance = Medicines & Meals\ninit-quality = Quality\nstore = Store\nanalyzer = Analyzer\naction-panel = Action Panel\n\nwaring = Warning\n\nmacro-file-type-name = BestCraft saved macros file\nsave-file = Save file\nsave-success = Saving successed\nsave-fail = Saving failed: { $reason }\nopen-file = Open file\nread-n-macros = Read { $n -> \n    [one] one macro\n    *[other] { $n } macros\n}\nread-fail = Reading failed: { $reason }\n\nedit = Edit\ndelete = Delete\n\nand = { $a } and { $b }\nattributes-do-not-meet-the-requirements = \n    { $attribute }\n    { $num ->\n        [one] does\n        *[other] do\n    }\n    not meet the requirements.\nattributes-requirements = Require: craftsmanship  { $craftsmanship } and control  { $control }\n</fluent>\n\n<fluent locale=\"ja-JP\">\nattributes-enhance = \ninit-quality = \nand = { $a }{ $b }\nattributes-do-not-meet-the-requirements = { $attribute }\nattributes-requirements = { craftsmanship }{ $craftsmanship}  { control }{ $control }\n</fluent>\n"],"file":"Designer-BKbLwf-X.js"}