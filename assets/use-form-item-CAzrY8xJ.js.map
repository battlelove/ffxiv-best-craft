{"version":3,"file":"use-form-item-CAzrY8xJ.js","sources":["../../node_modules/.pnpm/element-plus@2.11.8_vue@3.5.24_typescript@5.9.3_/node_modules/element-plus/es/components/form/src/hooks/use-form-item.mjs"],"sourcesContent":["import { inject, ref, getCurrentInstance, computed, onMounted, watch, toRef, onUnmounted } from 'vue';\nimport { useId } from '../../../../hooks/use-id/index.mjs';\nimport { formContextKey, formItemContextKey } from '../constants.mjs';\n\nconst useFormItem = () => {\n  const form = inject(formContextKey, void 0);\n  const formItem = inject(formItemContextKey, void 0);\n  return {\n    form,\n    formItem\n  };\n};\nconst useFormItemInputId = (props, {\n  formItemContext,\n  disableIdGeneration,\n  disableIdManagement\n}) => {\n  if (!disableIdGeneration) {\n    disableIdGeneration = ref(false);\n  }\n  if (!disableIdManagement) {\n    disableIdManagement = ref(false);\n  }\n  const instance = getCurrentInstance();\n  const inLabel = () => {\n    let parent = instance == null ? void 0 : instance.parent;\n    while (parent) {\n      if (parent.type.name === \"ElFormItem\") {\n        return false;\n      }\n      if (parent.type.name === \"ElLabelWrap\") {\n        return true;\n      }\n      parent = parent.parent;\n    }\n    return false;\n  };\n  const inputId = ref();\n  let idUnwatch = void 0;\n  const isLabeledByFormItem = computed(() => {\n    var _a;\n    return !!(!(props.label || props.ariaLabel) && formItemContext && formItemContext.inputIds && ((_a = formItemContext.inputIds) == null ? void 0 : _a.length) <= 1);\n  });\n  onMounted(() => {\n    idUnwatch = watch([toRef(props, \"id\"), disableIdGeneration], ([id, disableIdGeneration2]) => {\n      const newId = id != null ? id : !disableIdGeneration2 ? useId().value : void 0;\n      if (newId !== inputId.value) {\n        if ((formItemContext == null ? void 0 : formItemContext.removeInputId) && !inLabel()) {\n          inputId.value && formItemContext.removeInputId(inputId.value);\n          if (!(disableIdManagement == null ? void 0 : disableIdManagement.value) && !disableIdGeneration2 && newId) {\n            formItemContext.addInputId(newId);\n          }\n        }\n        inputId.value = newId;\n      }\n    }, { immediate: true });\n  });\n  onUnmounted(() => {\n    idUnwatch && idUnwatch();\n    if (formItemContext == null ? void 0 : formItemContext.removeInputId) {\n      inputId.value && formItemContext.removeInputId(inputId.value);\n    }\n  });\n  return {\n    isLabeledByFormItem,\n    inputId\n  };\n};\n\nexport { useFormItem, useFormItemInputId };\n//# sourceMappingURL=use-form-item.mjs.map\n"],"names":["useFormItem","form","inject","formContextKey","formItem","formItemContextKey","useFormItemInputId","props","formItemContext","disableIdGeneration","disableIdManagement","ref","instance","getCurrentInstance","inLabel","parent","inputId","idUnwatch","isLabeledByFormItem","computed","_a","onMounted","watch","toRef","id","disableIdGeneration2","newId","useId","onUnmounted"],"mappings":"8JAIK,MAACA,EAAc,IAAM,CACxB,MAAMC,EAAOC,EAAOC,EAAgB,MAAM,EACpCC,EAAWF,EAAOG,EAAoB,MAAM,EAClD,MAAO,CACL,KAAAJ,EACA,SAAAG,CACJ,CACA,EACME,EAAqB,CAACC,EAAO,CACjC,gBAAAC,EACA,oBAAAC,EACA,oBAAAC,CACF,IAAM,CACCD,IACHA,EAAsBE,EAAI,EAAK,GAE5BD,IACHA,EAAsBC,EAAI,EAAK,GAEjC,MAAMC,EAAWC,EAAkB,EAC7BC,EAAU,IAAM,CACpB,IAAIC,EAAqCH,GAAS,OAClD,KAAOG,GAAQ,CACb,GAAIA,EAAO,KAAK,OAAS,aACvB,MAAO,GAET,GAAIA,EAAO,KAAK,OAAS,cACvB,MAAO,GAETA,EAASA,EAAO,MAClB,CACA,MAAO,EACT,EACMC,EAAUL,EAAG,EACnB,IAAIM,EACJ,MAAMC,EAAsBC,EAAS,IAAM,CACzC,IAAIC,EACJ,MAAO,CAAC,EAAE,EAAEb,EAAM,OAASA,EAAM,YAAcC,GAAmBA,EAAgB,YAAcY,EAAKZ,EAAgB,WAAa,KAAO,OAASY,EAAG,SAAW,EAClK,CAAC,EACD,OAAAC,EAAU,IAAM,CACdJ,EAAYK,EAAM,CAACC,EAAMhB,EAAO,IAAI,EAAGE,CAAmB,EAAG,CAAC,CAACe,EAAIC,CAAoB,IAAM,CAC3F,MAAMC,EAAQF,IAAmBC,EAAuC,OAAhBE,IAAQ,OAC5DD,IAAUV,EAAQ,QACoBR,GAAgB,eAAkB,CAACM,MACzEE,EAAQ,OAASR,EAAgB,cAAcQ,EAAQ,KAAK,EACxD,CAAyCN,GAAoB,OAAU,CAACe,GAAwBC,GAClGlB,EAAgB,WAAWkB,CAAK,GAGpCV,EAAQ,MAAQU,EAEpB,EAAG,CAAE,UAAW,GAAM,CACxB,CAAC,EACDE,EAAY,IAAM,CAChBX,GAAaA,EAAS,EACiBT,GAAgB,eACrDQ,EAAQ,OAASR,EAAgB,cAAcQ,EAAQ,KAAK,CAEhE,CAAC,EACM,CACL,oBAAAE,EACA,QAAAF,CACJ,CACA","x_google_ignoreList":[0]}