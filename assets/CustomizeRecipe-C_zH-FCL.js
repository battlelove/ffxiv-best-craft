import"./web-source-CLWFJSWP.js";import{k as I}from"./main-CuW7cZ7r.js";import{a as s}from"./el-input-number-DnFOrkl8.js";import{a as C,E as r}from"./el-form-item-D7WeuNod.js";import{E as O}from"./el-switch-B48mHU6Y.js";import{E as $,a as A}from"./el-checkbox-BdvWVDV9.js";/* empty css                           */import{E as D}from"./el-scrollbar-CZKsYA5y.js";import{y as M,am as P,ap as G,aA as J,r as c,k as K,w as W,M as w,C as b,P as i,K as t,a7 as H,u as e,B as Q,J as X,a8 as Y,aa as y,a1 as V,O as Z,an as U,ax as h}from"./_plugin-vue_export-helper-BFa5o2E7.js";import{s as ee}from"./common-BQelzqVe.js";import{C as E}from"./gearsets--erWGMI9.js";import{E as x}from"./index-C-S4NhjY.js";import"./use-form-item-BvI-dC5F.js";import"./index-Cp9QasH9.js";import"./_initCloneObject-BOvqA-K9.js";import"./_baseSlice-F8doVSIJ.js";const g=M({__name:"CustomizeRecipe",emits:["setTitle"],setup(d,{emit:n}){const R=P(),{$t:u}=G(),N=I(),z=n;J(()=>z("setTitle","custom-recipe"));const m=c(!1),_=c(!1),k={id:720,class_job_level:100,stars:0,suggested_craftsmanship:4780,suggested_control:null,difficulty:8050,quality:17600,progress_divider:170,quality_divider:150,progress_modifier:90,quality_modifier:75,durability:70,conditions_flag:15},T={rlv:k,job_level:100,difficulty:8050,quality:17600,durability:70,conditions_flag:15},q=c(k.id),o=c({...T,rlv:{...k}}),S=K({get:()=>{const f=o.value.conditions_flag;return Object.values(E).filter((a,l)=>(f&1<<l)!=0)},set:f=>{const a=Object.values(E).map((l,v)=>f.indexOf(l)>=0?1<<v:0).reduce((l,v)=>l|v,0);o.value.conditions_flag=a}});let p=null;W([m,N.getDataSource,q],async([f,a,l])=>{if(f)try{_.value=!0,p!=null&&await p,p=(await a).recipeLevelTable(l),o.value.rlv=await p,p=null}catch{m.value=!1}finally{_.value=!1}});function j(f){const a={id:-1,name:u("custom-recipe"),level:o.value.job_level,can_be_hq:!0},l={required_craftsmanship:0,required_control:0};ee(o.value,void 0,0,l,void 0,a,"",f),R.push({name:"designer"})}return(f,a)=>(b(),w(e(D),{class:"container"},{default:i(()=>[t(e(C),{inline:!0,"label-position":"right","label-width":"100px"},{default:i(()=>[t(e(r),{label:e(u)("class-job-level")},{default:i(()=>[t(e(s),{modelValue:o.value.job_level,"onUpdate:modelValue":a[0]||(a[0]=l=>o.value.job_level=l),min:1},null,8,["modelValue"])]),_:1},8,["label"]),t(e(r),{label:e(u)("difficulty")},{default:i(()=>[t(e(s),{modelValue:o.value.difficulty,"onUpdate:modelValue":a[1]||(a[1]=l=>o.value.difficulty=l),min:1},null,8,["modelValue"])]),_:1},8,["label"]),t(e(r),{label:e(u)("quality")},{default:i(()=>[t(e(s),{modelValue:o.value.quality,"onUpdate:modelValue":a[2]||(a[2]=l=>o.value.quality=l),min:1},null,8,["modelValue"])]),_:1},8,["label"]),t(e(r),{label:e(u)("durability")},{default:i(()=>[t(e(s),{modelValue:o.value.durability,"onUpdate:modelValue":a[3]||(a[3]=l=>o.value.durability=l),min:1},null,8,["modelValue"])]),_:1},8,["label"]),t(e(r),{label:e(u)("conditions")},{default:i(()=>[t(e($),{modelValue:S.value,"onUpdate:modelValue":a[4]||(a[4]=l=>S.value=l),size:"small"},{default:i(()=>[(b(!0),Q(X,null,Y(e(E),l=>(b(),w(e(A),{key:l,value:l},{default:i(()=>[y(V(e(u)(l.toLowerCase())),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1}),t(e(C),{inline:!0,"label-position":"right","label-width":"100px"},{default:i(()=>[t(e(r),{label:e(u)("recipe-level")},{default:i(()=>[t(e(s),{modelValue:q.value,"onUpdate:modelValue":a[5]||(a[5]=l=>q.value=l),min:1},null,8,["modelValue"])]),_:1},8,["label"]),t(e(r),{label:e(u)("auto-load")},{default:i(()=>[t(e(O),{modelValue:m.value,"onUpdate:modelValue":a[6]||(a[6]=l=>m.value=l),loading:_.value},null,8,["modelValue","loading"])]),_:1},8,["label"])]),_:1}),t(e(C),{inline:!0,"label-position":"right","label-width":"100px"},{default:i(()=>[t(e(r),{label:e(u)("progress-divider")},{default:i(()=>[t(e(s),{disabled:m.value,modelValue:o.value.rlv.progress_divider,"onUpdate:modelValue":a[7]||(a[7]=l=>o.value.rlv.progress_divider=l)},null,8,["disabled","modelValue"])]),_:1},8,["label"]),t(e(r),{label:e(u)("progress-modifier")},{default:i(()=>[t(e(s),{disabled:m.value,modelValue:o.value.rlv.progress_modifier,"onUpdate:modelValue":a[8]||(a[8]=l=>o.value.rlv.progress_modifier=l)},null,8,["disabled","modelValue"])]),_:1},8,["label"]),t(e(r),{label:e(u)("quality-divider")},{default:i(()=>[t(e(s),{disabled:m.value,modelValue:o.value.rlv.quality_divider,"onUpdate:modelValue":a[9]||(a[9]=l=>o.value.rlv.quality_divider=l)},null,8,["disabled","modelValue"])]),_:1},8,["label"]),t(e(r),{label:e(u)("quality-modifier")},{default:i(()=>[t(e(s),{disabled:m.value,modelValue:o.value.rlv.quality_modifier,"onUpdate:modelValue":a[10]||(a[10]=l=>o.value.rlv.quality_modifier=l)},null,8,["disabled","modelValue"])]),_:1},8,["label"])]),_:1}),H("span",null,[t(e(x),{type:"default",onClick:a[11]||(a[11]=l=>e(R).back())},{default:i(()=>[y(V(e(u)("back")),1)]),_:1}),t(e(x),{type:"primary",onClick:a[12]||(a[12]=l=>j(!1))},{default:i(()=>[y(V(e(u)("confirm")),1)]),_:1}),o.value.conditions_flag!=15?(b(),w(e(x),{key:0,type:"primary",onClick:a[13]||(a[13]=l=>j(!0))},{default:i(()=>[y(V(e(u)("simulator-mode")),1)]),_:1})):Z("",!0)])]),_:1}))}});function B(d){const n=d.options||d;n.fluent=n.fluent||{},n.fluent["zh-CN"]=new U(`back = 返回
custom-recipe = 自定义配方
auto-load = 自动填充

cancel = 取消
confirm = 确认
simulator-mode = 模拟器模式`)}function L(d){const n=d.options||d;n.fluent=n.fluent||{},n.fluent["zh-TW"]=new U(`back = 返回
custom-recipe = 自定義配方
auto-load = 自動填充

cancel = 取消
confirm = 確認
simulator-mode = 模擬器模式`)}function F(d){const n=d.options||d;n.fluent=n.fluent||{},n.fluent["en-US"]=new U(`back = Back
custom-recipe = Custom Recipe
auto-load = Auto Fill

cancel = Cancel
confirm = Confirm
simulator-mode = Simulator Mode`)}typeof B=="function"&&B(g);typeof L=="function"&&L(g);typeof F=="function"&&F(g);const ye=h(g,[["__scopeId","data-v-be854396"]]);export{ye as default};
//# sourceMappingURL=CustomizeRecipe-C_zH-FCL.js.map
