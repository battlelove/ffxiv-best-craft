import{h as Y,j as X,_ as ye,u as Z,P as ne,I as H,ad as Me,O as Ie,o as Le,f as Ue,a5 as We,A as pe,E as De,H as Ke}from"./web-source-DZ1KEQTE.js";import{a6 as He,r as se,X as ce,Z as le,a7 as je,a8 as Xe,a9 as he,M as oe,P as A,U as Ne}from"./main-Bla8NsPw.js";import{u as qe}from"./use-wheel-PaXRJVU9.js";import{a as F,c as Ye}from"./strings-DkH76Y51.js";import{V as re,y as L,a6 as Ze,b3 as j,L as _e,a2 as Ge,m as ue,r as _,w as W,R as q,A as Ce,B as Te,C as we,D as Je,E as Ee,u as O,k as R,aR as Qe,K as p,U as et,z as ie,l as Se,x as tt,a9 as at,af as nt,b4 as st,F as lt,O as ot,_ as rt}from"./_plugin-vue_export-helper-Dh6l7_xc.js";import{o as it}from"./el-scrollbar-DQXrPIwP.js";const ct=(e,c,u)=>He(e.subTree).filter(r=>{var C;return Ge(r)&&((C=r.type)==null?void 0:C.name)===c&&!!r.component}).map(r=>r.component.uid).map(r=>u[r]).filter(r=>!!r),ut=(e,c)=>{const u=re({}),h=re([]),a=new WeakMap,r=m=>{u.value[m.uid]=m,j(u),_e(()=>{const d=m.getVnode().el,t=d.parentNode;if(!a.has(t)){a.set(t,[]);const i=t.insertBefore.bind(t);t.insertBefore=(N,s)=>(a.get(t).some(T=>N===T||s===T)&&j(u),i(N,s))}a.get(t).push(d)})},C=m=>{delete u.value[m.uid],j(u);const d=m.getVnode().el,t=d.parentNode,i=a.get(t),N=i.indexOf(d);i.splice(N,1)},f=()=>{h.value=ct(e,c,u.value)},y=m=>m.render(),g=L({setup(m,{slots:d}){return()=>(f(),d.default?Ze(y,{render:d.default}):null)}});return{children:h,addChild:r,removeChild:C,ChildrenSorter:g}},G=Symbol("tabsRootContextKey"),dt=Y({tabs:{type:X(Array),default:()=>se([])},tabRefs:{type:X(Object),default:()=>se({})}}),Pe="ElTabBar",vt=L({name:Pe}),bt=L({...vt,props:dt,setup(e,{expose:c}){const u=e,h=ue(G);h||ce(Pe,"<el-tabs><el-tab-bar /></el-tabs>");const a=Z("tabs"),r=_(),C=_(),f=()=>{let t=0,i=0;const N=["top","bottom"].includes(h.props.tabPosition)?"width":"height",s=N==="width"?"x":"y",B=s==="x"?"left":"top";return u.tabs.every(T=>{if(ne(T.paneName))return!1;const w=u.tabRefs[T.paneName];if(!w)return!1;if(!T.active)return!0;t=w[`offset${F(B)}`],i=w[`client${F(N)}`];const n=window.getComputedStyle(w);return N==="width"&&(i-=Number.parseFloat(n.paddingLeft)+Number.parseFloat(n.paddingRight),t+=Number.parseFloat(n.paddingLeft)),!1}),{[N]:`${i}px`,transform:`translate${F(s)}(${t}px)`}},y=()=>C.value=f(),g=[],m=()=>{g.forEach(t=>t.stop()),g.length=0,Object.values(u.tabRefs).forEach(t=>{g.push(le(t,y))})};W(()=>u.tabs,async()=>{await q(),y(),m()},{immediate:!0});const d=le(r,()=>y());return Ce(()=>{g.forEach(t=>t.stop()),g.length=0,d.stop()}),c({ref:r,update:y}),(t,i)=>(we(),Te("div",{ref_key:"barRef",ref:r,class:Ee([O(a).e("active-bar"),O(a).is(O(h).props.tabPosition)]),style:Je(C.value)},null,6))}});var ft=ye(bt,[["__file","tab-bar.vue"]]);const mt=Y({panes:{type:X(Array),default:()=>se([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean,tabindex:{type:[String,Number],default:void 0}}),pt={tabClick:(e,c,u)=>u instanceof Event,tabRemove:(e,c)=>c instanceof Event},ge="ElTabNav",ht=L({name:ge,props:mt,emits:pt,setup(e,{expose:c,emit:u}){const h=ue(G);h||ce(ge,"<el-tabs><tab-nav /></el-tabs>");const a=Z("tabs"),r=je(),C=Xe(),f=_(),y=_(),g=_(),m=_({}),d=_(),t=_(!1),i=_(0),N=_(!1),s=_(!0),B=re(),T=R(()=>["top","bottom"].includes(h.props.tabPosition)),w=R(()=>T.value?"width":"height"),n=R(()=>({transform:`translate${w.value==="width"?"X":"Y"}(-${i.value}px)`})),{width:E,height:P}=he(f),{width:V,height:U}=he(y,{width:0,height:0},{box:"border-box"}),D=R(()=>T.value?E.value:P.value),M=R(()=>T.value?V.value:U.value),{onWheel:I}=qe({atStartEdge:R(()=>i.value<=0),atEndEdge:R(()=>M.value-i.value<=D.value),layout:R(()=>T.value?"horizontal":"vertical")},l=>{i.value=Ye(i.value+l,0,M.value-D.value)}),J=()=>{if(!f.value)return;const l=f.value[`offset${F(w.value)}`],b=i.value;if(!b)return;const o=b>l?b-l:0;i.value=o},$e=()=>{if(!f.value||!y.value)return;const l=y.value[`offset${F(w.value)}`],b=f.value[`offset${F(w.value)}`],o=i.value;if(l-o<=b)return;const v=l-o>b*2?o+b:l-b;i.value=v},de=async()=>{const l=y.value;if(!t.value||!g.value||!f.value||!l)return;await q();const b=m.value[e.currentName];if(!b)return;const o=f.value,v=b.getBoundingClientRect(),S=o.getBoundingClientRect(),x=T.value?l.offsetWidth-S.width:l.offsetHeight-S.height,k=i.value;let $=k;T.value?(v.left<S.left&&($=k-(S.left-v.left)),v.right>S.right&&($=k+v.right-S.right)):(v.top<S.top&&($=k-(S.top-v.top)),v.bottom>S.bottom&&($=k+(v.bottom-S.bottom))),$=Math.max($,0),i.value=Math.min($,x)},ve=()=>{var l;if(!y.value||!f.value)return;e.stretch&&((l=d.value)==null||l.update());const b=y.value[`offset${F(w.value)}`],o=f.value[`offset${F(w.value)}`],v=i.value;o<b?(t.value=t.value||{},t.value.prev=v,t.value.next=v+o<b,b-v<o&&(i.value=b-o)):(t.value=!1,v>0&&(i.value=0))},Be=l=>{const b=oe(l);let o=0;switch(b){case A.left:case A.up:o=-1;break;case A.right:case A.down:o=1;break;default:return}const v=Array.from(l.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let x=v.indexOf(l.target)+o;x<0?x=v.length-1:x>=v.length&&(x=0),v[x].focus({preventScroll:!0}),v[x].click(),be()},be=()=>{s.value&&(N.value=!0)},Q=()=>N.value=!1,Oe=(l,b)=>{m.value[b]=l},ke=async()=>{await q();const l=m.value[e.currentName];l?.focus({preventScroll:!0})};return W(r,l=>{l==="hidden"?s.value=!1:l==="visible"&&setTimeout(()=>s.value=!0,50)}),W(C,l=>{l?setTimeout(()=>s.value=!0,50):s.value=!1}),le(g,ve),_e(()=>setTimeout(()=>de(),0)),Qe(()=>ve()),c({scrollToActiveTab:de,removeFocus:Q,focusActiveTab:ke,tabListRef:y,tabBarRef:d,scheduleRender:()=>j(B)}),()=>{const l=t.value?[p("span",{class:[a.e("nav-prev"),a.is("disabled",!t.value.prev)],onClick:J},[p(H,null,{default:()=>[p(Me,null,null)]})]),p("span",{class:[a.e("nav-next"),a.is("disabled",!t.value.next)],onClick:$e},[p(H,null,{default:()=>[p(Ie,null,null)]})])]:null,b=e.panes.map((o,v)=>{var S,x,k,$,fe;const ze=o.uid,ee=o.props.disabled,K=(x=(S=o.props.name)!=null?S:o.index)!=null?x:`${v}`,te=!ee&&(o.isClosable||o.props.closable!==!1&&e.editable);o.index=`${v}`;const Ae=te?p(H,{class:"is-icon-close",onClick:z=>u("tabRemove",o,z)},{default:()=>[p(Le,null,null)]}):null,Fe=(($=(k=o.slots).label)==null?void 0:$.call(k))||o.props.label,Ve=!ee&&o.active?(fe=e.tabindex)!=null?fe:h.props.tabindex:-1;return p("div",{ref:z=>Oe(z,K),class:[a.e("item"),a.is(h.props.tabPosition),a.is("active",o.active),a.is("disabled",ee),a.is("closable",te),a.is("focus",N.value)],id:`tab-${K}`,key:`tab-${ze}`,"aria-controls":`pane-${K}`,role:"tab","aria-selected":o.active,tabindex:Ve,onFocus:()=>be(),onBlur:()=>Q(),onClick:z=>{Q(),u("tabClick",o,K,z)},onKeydown:z=>{const me=oe(z);te&&(me===A.delete||me===A.backspace)&&u("tabRemove",o,z)}},[Fe,Ae])});return B.value,p("div",{ref:g,class:[a.e("nav-wrap"),a.is("scrollable",!!t.value),a.is(h.props.tabPosition)]},[l,p("div",{class:a.e("nav-scroll"),ref:f},[e.panes.length>0?p("div",{class:[a.e("nav"),a.is(h.props.tabPosition),a.is("stretch",e.stretch&&["top","bottom"].includes(h.props.tabPosition))],ref:y,style:n.value,role:"tablist",onKeydown:Be,onWheel:I},[e.type?null:p(ft,{ref:d,tabs:[...e.panes],tabRefs:m.value},null),b]):null])])}}}),gt=Y({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:X(Function),default:()=>!0},stretch:Boolean,tabindex:{type:[String,Number],default:0}}),ae=e=>et(e)||Ue(e),yt={[Ne]:e=>ae(e),tabClick:(e,c)=>c instanceof Event,tabChange:e=>ae(e),edit:(e,c)=>["remove","add"].includes(c),tabRemove:e=>ae(e),tabAdd:()=>!0},Nt=L({name:"ElTabs",props:gt,emits:yt,setup(e,{emit:c,slots:u,expose:h}){var a;const r=Z("tabs"),C=R(()=>["left","right"].includes(e.tabPosition)),{children:f,addChild:y,removeChild:g,ChildrenSorter:m}=ut(Se(),"ElTabPane"),d=_(),t=_((a=e.modelValue)!=null?a:"0"),i=async(n,E=!1)=>{var P,V,U,D;if(!(t.value===n||ne(n)))try{let M;if(e.beforeLeave){const I=e.beforeLeave(n,t.value);M=I instanceof Promise?await I:I}else M=!0;if(M!==!1){const I=(P=f.value.find(J=>J.paneName===t.value))==null?void 0:P.isFocusInsidePane();t.value=n,E&&(c(Ne,n),c("tabChange",n)),(U=(V=d.value)==null?void 0:V.removeFocus)==null||U.call(V),I&&((D=d.value)==null||D.focusActiveTab())}}catch{}},N=(n,E,P)=>{n.props.disabled||(c("tabClick",n,P),i(E,!0))},s=(n,E)=>{n.props.disabled||ne(n.props.name)||(E.stopPropagation(),c("edit",n.props.name,"remove"),c("tabRemove",n.props.name))},B=()=>{c("edit",void 0,"add"),c("tabAdd")},T=n=>{const E=oe(n);[A.enter,A.numpadEnter].includes(E)&&B()},w=n=>{const E=n.el.firstChild,P=["bottom","right"].includes(e.tabPosition)?n.children[0].el:n.children[1].el;E!==P&&E.before(P)};return W(()=>e.modelValue,n=>i(n)),W(t,async()=>{var n;await q(),(n=d.value)==null||n.scrollToActiveTab()}),tt(G,{props:e,currentName:t,registerPane:y,unregisterPane:g,nav$:d}),h({currentName:t,get tabNavRef(){return it(d.value,["scheduleRender"])}}),()=>{const n=u["add-icon"],E=e.editable||e.addable?p("div",{class:[r.e("new-tab"),C.value&&r.e("new-tab-vertical")],tabindex:e.tabindex,onClick:B,onKeydown:T},[n?ie(u,"add-icon"):p(H,{class:r.is("icon-plus")},{default:()=>[p(We,null,null)]})]):null,P=()=>p(ht,{ref:d,currentName:t.value,editable:e.editable,type:e.type,panes:f.value,stretch:e.stretch,onTabClick:N,onTabRemove:s},null),V=p("div",{class:[r.e("header"),C.value&&r.e("header-vertical"),r.is(e.tabPosition)]},[p(m,null,{default:P,$stable:!0}),E]),U=p("div",{class:r.e("content")},[ie(u,"default")]);return p("div",{class:[r.b(),r.m(e.tabPosition),{[r.m("card")]:e.type==="card",[r.m("border-card")]:e.type==="border-card"}],onVnodeMounted:w,onVnodeUpdated:w},[U,V])}}});var _t=Nt;const Ct=Y({label:{type:String,default:""},name:{type:[String,Number]},closable:{type:Boolean,default:void 0},disabled:Boolean,lazy:Boolean}),xe="ElTabPane",Tt=L({name:xe}),wt=L({...Tt,props:Ct,setup(e){const c=e,u=Se(),h=at(),a=ue(G);a||ce(xe,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const r=Z("tab-pane"),C=_(),f=_(),y=R(()=>{var s;return(s=c.closable)!=null?s:a.props.closable}),g=pe(()=>{var s;return a.currentName.value===((s=c.name)!=null?s:f.value)}),m=_(g.value),d=R(()=>{var s;return(s=c.name)!=null?s:f.value}),t=pe(()=>!c.lazy||m.value||g.value),i=()=>{var s;return(s=C.value)==null?void 0:s.contains(document.activeElement)};W(g,s=>{s&&(m.value=!0)});const N=nt({uid:u.uid,getVnode:()=>u.vnode,slots:h,props:c,paneName:d,active:g,index:f,isClosable:y,isFocusInsidePane:i});return a.registerPane(N),Ce(()=>{a.unregisterPane(N)}),st(()=>{var s;h.label&&((s=a.nav$.value)==null||s.scheduleRender())}),(s,B)=>O(t)?lt((we(),Te("div",{key:0,id:`pane-${O(d)}`,ref_key:"paneRef",ref:C,class:Ee(O(r).b()),role:"tabpanel","aria-hidden":!O(g),"aria-labelledby":`tab-${O(d)}`},[ie(s.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[rt,O(g)]]):ot("v-if",!0)}});var Re=ye(wt,[["__file","tab-pane.vue"]]);const Bt=De(_t,{TabPane:Re}),Ot=Ke(Re);export{Bt as E,Ot as a};
//# sourceMappingURL=el-tab-pane-C0sI9SW0.js.map
