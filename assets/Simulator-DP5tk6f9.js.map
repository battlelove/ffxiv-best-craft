{"version":3,"mappings":"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","names":["parseResponsiveProp","reponsiveProp","params","pairLiteral","prefix","value","parseResponsivePropValue","activeKeyOrSize","_a","classObj","i","key","activeValue","activeKey","keyAsNum","mousePositionRef","ref","clickHandler","target","left","top","width","height","usedCount","managable","useClickPosition","isBrowser","readonly","on","setup","hasInstance","onBeforeMount","onBeforeUnmount","off","clickedTimeRef","handleClick","useClicked","timeout","clickedRef","timerId","clearTimer","clickedHandler","defaultBreakpointOptions","createMediaQuery","screenWidth","mqlMap","useBreakpoints","screens","computed","breakpointStatusRef","breakpoints","updateBreakpoints","e","breakpointName","breakpointValue","mql","cbs","cb","breakpoint","isComposingRef","compositionStartHandler","compositionEndHandler","mountedCount","useIsComposing","lockCount","originalMarginRight","originalOverflow","originalOverflowX","originalOverflowY","lockHtmlScrollRightCompensationRef","useLockHtmlScroll","lockRef","el","watchStopHandle","activated","unlock","onMounted","watch","scrollbarWidth","lowBit","n","FinweckTree","l","min","ft","ret","threshold","r","m","sumM","maybeTouch","ensureMaybeTouch","wheelScale","ensureWheelScale","xScrollInjextionKey","setupXScroll","columnsRef","renderColRef","renderItemWithColsRef","listWidthRef","scrollLeftRef","xFinweckTreeRef","columns","column","index","startIndexRef","useMemo","xFinweckTree","getLeft","endIndexRef","provide","VirtualListRow","defineComponent","inject","startIndex","endIndex","renderCol","renderItemWithCols","item","items","styles","c","VVirtualList","props","ssrAdapter","useSsrAdapter","cssrAnchorMetaName","defaultScrollIndex","defaultScrollKey","scrollTo","isDeactivated","activateStateInitialized","onActivated","scrollTopRef","onDeactivated","totalWidthRef","keyIndexMapRef","map","keyField","toRef","listElRef","listHeightRef","keyToHeightOffset","finweckTreeRef","itemSize","heightOffset","finweckTreeUpdateTrigger","depx","viewportItemsRef","listHeight","viewportItems","options","y","scrollToPosition","position","behavior","debounce","scrollToIndex","toIndex","anchorIndex","anchorTimerId","targetTop","scrollTop","offsetHeight","handleItemResize","entry","_b","_c","isHideByVShow","previousHeight","delta","listEl","previousHeightSum","syncViewport","mayUseWheel","wheelCatched","handleListScroll","handleListWheel","beforeNextFrameOnce","handleListResize","onResize","cursor","itemResizable","pxfy","keyToIndex","visibleItemsTag","h","VResizeObserver","mergeProps","renderedCols","renderedItemWithCols","itemVNode","useOnResize","elRef","resizeObserverManager","_","oldEl","eventSet","markEventEffectPerformed","event","eventEffectNotPerformed","getTitleAttribute","getSlot","instance","slotName","fallback","slot","isNodeVShowFalse","vNode","showDir","dir","vShow","mergeEventHandlers","handlers","filteredHandlers","handler","FinishedIcon","EmptyIcon","ErrorIcon","replaceable","InfoIcon","SuccessIcon","WarningIcon","FocusDetector","style$c","cB","cE","emptyProps","useTheme","NEmpty","mergedClsPrefixRef","inlineThemeDisabled","mergedComponentPropsRef","useConfig","themeRef","style","emptyLight","localeRef","useLocale","mergedDescriptionRef","mergedRenderIconRef","cssVarsRef","size","cubicBezierEaseInOut","createKey","iconSize","fontSize","textColor","iconColor","extraTextColor","themeClassHandle","useThemeClass","hash","$slots","mergedClsPrefix","onRender","NBaseIcon","NSelectGroupHeader","renderLabelRef","renderOptionRef","labelFieldRef","nodePropsRef","internalSelectionMenuInjectionKey","clsPrefix","renderLabel","renderOption","nodeProps","rawNode","attrs","children","render","node","renderCheckMark","show","Transition","CheckmarkIcon","NSelectOption","valueRef","pendingTmNodeRef","multipleRef","valueSetRef","valueFieldRef","showCheckmarkRef","handleOptionClick","handleOptionMouseEnter","isPendingRef","pendingTmNode","tmNode","handleMouseEnter","handleMouseMove","isPending","parent","multiple","optionValue","valueSet","isSelected","isGrouped","showCheckmark","checkmark","style$b","cM","cNotM","fadeInScaleUpTransition","NInternalSelectMenu","mergedRtlRef","rtlEnabledRef","useRtl","internalSelectMenuLight","selfRef","virtualListRef","scrollbarRef","flattenedNodesRef","fIndexGetterRef","createIndexGetter","pendingNodeRef","initPendingNode","treeMate","defaultPendingNode","setPendingTmNode","clearPendingNodeIfInvalid","pendingNode","initPendingNodeWatchStopHandle","nextTick","scrollToPendingNode","itemSizeRef","paddingRef","getPadding","emptyRef","tmNodes","doToggle","onToggle","doScroll","onScroll","handleVirtualListScroll","handleVirtualListResize","getPendingTmNode","handleKeyUp","happensIn","handleKeyDown","handleMouseDown","next","prev","fIndex","handleFocusin","handleFocusout","internalSelectionMenuBodyInjectionKey","borderRadius","color","groupHeaderTextColor","actionDividerColor","optionTextColorPressed","optionTextColor","optionTextColorDisabled","optionTextColorActive","optionOpacityDisabled","optionCheckColor","actionTextColor","optionColorPending","optionColorActive","loadingColor","loadingSize","optionColorActivePending","optionHeight","optionPadding","exposedProps","virtualScroll","mergedTheme","themeClass","resolveWrappedSlot","NInternalLoading","resolveSlot","NScrollbar","VirtualList","NFocusDetector","self","vars","textColor2","primaryColorHover","primaryColorPressed","primaryColor","infoColor","successColor","warningColor","errorColor","baseColor","borderColor","opacityDisabled","tagColor","closeIconColor","closeIconColorHover","closeIconColorPressed","fontSizeMini","fontSizeTiny","fontSizeSmall","fontSizeMedium","heightMini","heightTiny","heightSmall","heightMedium","closeColorHover","closeColorPressed","buttonColor2Hover","buttonColor2Pressed","fontWeightStrong","commonVariables","changeColor","tagLight","commonLight","commonProps","style$a","tagProps","tagInjectionKey","createInjectionKey","NTag","contentRef","mergedBorderedRef","checked","onCheckedChange","onUpdateChecked","_onUpdateChecked","handleCloseClick","onClose","call","tagPublicMethods","textContent","type","padding","closeMargin","textColorCheckable","textColorHoverCheckable","textColorPressedCheckable","textColorChecked","colorCheckable","colorHoverCheckable","colorPressedCheckable","colorChecked","colorCheckedHover","colorCheckedPressed","closeBorderRadius","colorBordered","closeSize","closeIconSize","typedColor","typeTextColor","border","closeMarginDiscrete","getMargin","color2Class","rtlEnabled","closable","round","avatarNode","iconNode","NBaseClose","style$9","status","NInternalSelection","patternInputMirrorRef","patternInputRef","multipleElRef","singleElRef","patternInputWrapperRef","counterRef","counterWrapperRef","overflowRef","inputTagElRef","showTagsPopoverRef","patternInputFocusedRef","hoverRef","internalSelectionLight","mergedClearableRef","filterablePlaceholderRef","labelRef","option","selectedRef","syncMirrorWidth","patternInputMirrorEl","patternInputEl","hideInputTag","inputTagEl","showInputTag","doFocus","onFocus","doBlur","onBlur","doDeleteOption","onDeleteOption","doClear","onClear","doPatternInput","onPatternInput","handleClear","handleMouseLeave","handleDeleteOption","handlePatternKeyDown","selectedOptions","cachedInputEvent","handlePatternInputInput","inputText","handleCompositionStart","handleCompositionEnd","handlePatternInputFocus","handlePatternInputBlur","blur","multipleEl","singleEl","focus","focusInput","blurInput","updateCounter","count","getCounter","getTail","enterTimerId","clearEnterTimer","handleMouseEnterCounter","handleMouseLeaveCounter","onPopoverUpdateShow","watchEffect","patternInputWrapperEl","fontWeight","placeholderColor","paddingSingle","paddingMultiple","caretColor","colorDisabled","textColorDisabled","placeholderColorDisabled","colorActive","boxShadowFocus","boxShadowActive","boxShadowHover","borderFocus","borderHover","borderActive","arrowColor","arrowColorDisabled","colorActiveWarning","boxShadowFocusWarning","boxShadowActiveWarning","boxShadowHoverWarning","borderWarning","borderFocusWarning","borderHoverWarning","borderActiveWarning","colorActiveError","boxShadowFocusError","boxShadowActiveError","boxShadowHoverError","borderError","borderFocusError","borderHoverError","borderActiveError","clearColor","clearColorHover","clearColorPressed","clearSize","arrowSize","paddingSingleDiscrete","paddingMultipleDiscrete","disabled","filterable","maxTagCount","bordered","ellipsisTagPopoverProps","renderTag","maxTagCountResponsive","maxTagCountNumeric","useMaxTagCount","suffix","Wrapper","Suffix","body","labelField","createTag","createOriginalTagNodes","input","renderCounter","counter","rest","tags","VOverflow","renderPopover","popoverProps","placeholder","popoverTrigger","Fragment","NPopover","hasInput","showPlaceholder","showSelectedLabel","getIsGroup","getIgnored","patternMatched","pattern","createTmOptions","valueField","childrenField","filterOptions","originalOpts","filter","traverse","filteredOptions","createValOptMap","valOptMap","selectGroupOption","style$8","asModal","insideModal","insidePopover","cardBaseProps","cardBasePropKeys","keysOf","cardProps","NCard","cardLight","colorModal","colorTarget","titleTextColor","titleFontWeight","actionColor","lineHeight","boxShadow","colorPopover","colorEmbedded","colorEmbeddedModal","colorEmbeddedPopover","titleFontSize","paddingTop","paddingLeft","paddingBottom","segmented","hoverable","embedded","Component","mergedChildren","ensureValidVNode","title","content","checkboxGroupInjectionKey","renderLineMark","style$7","iconSwitchTransition","checkboxProps","NCheckbox","NCheckboxGroup","uncontrolledCheckedRef","controlledCheckedRef","mergedCheckedRef","useMergedState","renderedCheckedRef","groupValueSet","formItem","useFormItem","NFormItem","mergedSize","max","checkedCountRef","mergedDisabledRef","mergedSizeRef","checkboxLight","toggle","onChange","_onUpdateCheck","nTriggerFormInput","nTriggerFormChange","nextChecked","exposedMethods","colorTableHeader","colorTableHeaderModal","colorTableHeaderPopover","checkMarkColor","checkMarkColorDisabled","borderDisabled","borderChecked","checkMarkColorDisabledChecked","colorDisabledChecked","borderDisabledChecked","labelPadding","labelLineHeight","labelFontWeight","createId","renderedChecked","mergedDisabled","indeterminate","privateInsideTable","cssVars","labelId","label","focusable","labelNode","NIconSwitchTransition","style$6","selectProps","useAdjustedTo","NSelect","namespaceRef","selectLight","uncontrolledValueRef","controlledValueRef","mergedValueRef","focusedRef","patternRef","compitableOptionsRef","useCompitable","createdOptionsRef","beingCreatedOptionsRef","localOptionsRef","resolvedFilterRef","filteredOptionsRef","localOptions","treeMateRef","createTreeMate","valOptMapRef","uncontrolledShowRef","mergedShowRef","triggerRef","followerRef","menuRef","localizedPlaceholderRef","emptyArray","memoValOptMapRef","wrappedFallbackOptionRef","fallbackOption","getMergedOptions","values","remote","memoValOptMap","wrappedFallbackOption","selectedOptionsRef","selectedOptionRef","mergedValue","mergedStatusRef","doUpdateValue","_onUpdateValue","onUpdateValue","nTriggerFormBlur","showOnFocus","nTriggerFormFocus","openMenu","doSearch","onSearch","updateMemorizedOptions","doUpdateShow","onUpdateShow","_onUpdateShow","focusSelectionInput","closeMenu","handleMenuAfterLeave","activeWithoutMenuOpenRef","onTriggerInputFocus","onTriggerInputBlur","handleTriggerClick","handleTriggerBlur","handleTriggerFocus","handleMenuFocus","handleMenuBlur","handleMenuTabOut","handleMenuClickOutside","getPreciseEventTarget","createClearedMultipleSelectValue","v","handleToggleByTmNode","handleToggleByOption","tag","clearFilterAfterSelect","beingCreatedOptions","beingCreatedOption","createdOptions","changedValue","createdOptionIndex","getCreatedOptionIndex","focusSelection","createdOption","handlePatternInput","onCreate","optionBeingCreated","handleMenuMousedown","handleMenuScroll","handleKeydown","_d","_e","handleTriggerOrMenuResize","menuBoxShadow","useIsMounted","VBinder","VTarget","VFollower","withDirectives","clickoutside","dialogProviderInjectionKey","dialogProps","dialogPropKeys","style$5","iconRenderMap","NDialog","mergedIconPlacementRef","iconPlacement","handlePositiveClick","onPositiveClick","handleNegativeClick","onNegativeClick","dialogLight","actionSpace","contentMargin","iconMargin","iconMarginDiscrete","mergedIconPlacement","showIcon","action","negativeText","positiveText","positiveButtonProps","negativeButtonProps","loading","icon","actionNode","NButton","classNames","modalProviderInjectionKey","modalApiInjectionKey","modalReactiveListInjectionKey","DRAGGABLE_CLASS","useDragModal","draggablePropsRef","cleanup","draggableRef","draggableClassRef","boundsToWindowRef","draggableProps","startDrag","modal","header","maxMoveX","minMoveX","maxMoveY","minMoveY","prevMoveY","prevMoveX","mousedownEvent","x","right","bottom","downX","downY","moveX","moveY","handleMouseUp","stopDrag","onUnmounted","presetProps","presetPropsKeys","NModalBodyWrapper","bodyRef","displayedRef","transformOriginXRef","transformOriginYRef","NModal","modalInjectionKey","mousePosition","syncTransformOrigin","dialogTitleClassRef","normalizeClass","cardHeaderClassRef","styleTransformOrigin","transformOriginX","transformOriginY","offsetLeft","offsetTop","handleEnter","handleBeforeLeave","handleAfterEnter","element","handleAfterLeave","childNodeRef","modalBodyInjectionKey","drawerBodyInjectionKey","popoverBodyInjectionKey","$attrs","preset","childNode","getFirstSlotVNodeWithTypedProps","warn","cloneVNode","VFocusTrap","dirs","onClickoutside","keep","style$4","fadeInTransition","modalProps","containerRef","modalLight","clickedPositionRef","isMountedRef","NDialogProvider","NModalProvider","onHide","onBeforeLeave","onBeforeHide","onAfterLeave","onAfterHide","handleClickoutside","onMaskClick","handleEsc","mergedProvider","cubicBezierEaseOut","VLazyTeleport","showMask","zindexable","useLoadingBar","loadingBar","loadingBarApiInjectionKey","throwError","messageApiInjectionKey","messageProviderInjectionKey","messageProps","style$3","fadeInHeightExpandTransition","NMessage","messageProviderProps","messageLight","margin","maxWidth","iconColorInfo","iconColorSuccess","iconColorWarning","iconColorError","iconColorLoading","renderMessage","handleClose","createIconVNode","innerIcon","NBaseLoading","MessageEnvironment","showRef","setHideTimeout","duration","hide","handleMouseenter","handleMouseleave","onInternalAfterLeave","internalKey","deactivate","NFadeInExpandTransition","NMessageProvider","messageListRef","messageRefs","api","create","destroyAll","messageReactive","reactive","message","messageInstRef","Teleport","inst","omit","useMessage","NModalEnvironment","result","handleMaskClick","maskClosable","onEsc","handleUpdateShow","modalProviderProps","modalListRef","modalInstRefs","modalReactive","modalList","modalInstRef","style$2","dividerProps","NDivider","dividerLight","titlePlacement","vertical","dashed","commonVars","flexLight","flexProps","NFlex","gap","row","col","getGap","reverse","align","inline","justify","wrap","flatten","textColor3","switchLight","defaultSpan","gridInjectionKey","gridItemProps","NGi","isSsrRef","xGapRef","itemStyleRef","layoutShiftDisabledRef","getCurrentInstance","privateSpan","privateShow","privateColStart","privateOffset","xGap","mergedXGap","span","offset","defaultBreakpoints","defaultCols","SSR_ATTR_NAME","gridProps","NGrid","mergedBreakpointsRef","numRegex","widthRef","breakpointsRef","isResponsiveRef","responsiveQueryRef","responsiveColsRef","responsiveXGapRef","responsiveYGapRef","handleResize","handleResizeRaf","handleResizeRef","contentElRef","contentEl","renderContent","_f","_g","rawChildren","childrenAndRawSpan","collapsed","collapsedRows","responsiveCols","responsiveQuery","child","clonedNode","clonedChild","rawChildSpan","suffixSpan","maybeSuffixNode","suffixPropValue","spanCounter","done","childOffset","childSpan","remainder","iconMap","Circle","slots","gradientIdRef","base","fillColor","getPathStyles","percent","offsetDegree","strokeColor","gapDegree","viewBoxWidth","strokeWidth","radius","beginPositionX","beginPositionY","endPositionX","endPositionY","centerX","pathString","len","pathStyle","createGradientNode","isGradient","from","to","railColor","percentage","showIndicator","indicatorTextColor","unit","gapOffsetDegree","railPathString","railPathStyle","fillPathString","fillPathStyle","viewBoxSize","SuccessCircleIcon","ErrorCircleIcon","InfoCircleIcon","Line","styleHeightRef","formatLength","styleFillColorRef","styleRailBorderRadiusRef","styleFillBorderRadiusRef","indicatorPlacement","railStyle","processing","circlePath","sw","vw","MultipleCircle","strokeDasharrayRef","p","form","circleGap","style$1","progressProps","NProgress","mergedIndicatorPlacementRef","gapDeg","progressLight","fontSizeCircle","railHeight","iconSizeCircle","iconSizeLine","textColorCircle","textColorLineInner","textColorLineOuter","lineBgProcessing","fontWeightCircle","mergedIndicatorPlacement","fillBorderRadius","switchProps","supportCssMax","NSwitch","checkedRef","pressedRef","mergedRailStyleRef","handleFocus","handleBlur","handleKeyup","railColorActive","buttonBoxShadow","buttonColor","buttonHeight","buttonWidth","buttonWidthPressed","railWidth","railBorderRadius","buttonBorderRadius","mergedRailStyle","checkedSlot","uncheckedSlot","iconSlot","checkedIconSlot","uncheckedIconSlot","hasIcon","isSlotEmpty","checkedSlotChildren","uncheckedSlotChildren","checkedIcon","uncheckedIcon","useFcoSimulatorStore","defineStore","Jobs","useGearsetsStore","__props","emit","__emit","actions","Actions","usedActions","isActived","Conditions","LimitedActionState","cachedAllowedList","cachedCraftPointsList","allowedList","craftPointsList","_createElementBlock","_Fragment","_renderList","group","_openBlock","_hoisted_1","_createBlock","_unref","$t","_createVNode","Action","$event","_createTextVNode","_toDisplayString","dataSource","WebSource","YYYYGamesApiBase","enhancers","emits","loadMeals","handleUpdateValue","gearsetsStore","store","meal","medicine","attributes","craftsmanshipAddons","controlAddons","craftPointAddons","level","craftsmanship","control","craft_points","medecine","sum","curr","_cache","_createElementVNode","MealAndMedicinesSelect","hqRate","highQualityProbability","useFluent","j","selected","loadingRecipeList","lastResult","currentPage","currentQuery","recipeInfos","loadOptions","query","recipe","recipeInfo","handleScroll","currentTarget","setQuery","updateValue","recipeLevel","_info","newRecipe","JobSelect","defaultSimulationCounts","maximiumSimulatonPow","labelRadius","simulationResult","simulationButtonDisabled","ignoreErrors","attributesScope","simulationsDropdownOptions","runSimulatios","rand_simulation","calcScope","calc_attributes_scope","autoRunTimeout","thisTimeout","arc","d3.arc","pie","d3.pie","d","d3.scaleOrdinal","d3.schemeSpectral","arcs","statistics","data","arcLabel","NForm","NDropdown","_Transition","_hoisted_3","_hoisted_5","_hoisted_6","NTabs","NTabPane","genOptions","chunkedActions","macros","maxLinesPerChunk","minChunks","sec","section","start","lines","totalWaitTime","waitTime","calcWaitTime","actionName","copyChunk","macro","macroText","useClipboard","__vitePreload","formatDuration","line","_mutation","state","rotation","id","attributs","initStatus","simulateResult","editMode","solverModalShow","selectRecipe","newStatus","simulate","pushAction","markRaw","save","RecipeSelect","CraftingState","AttributesVue","Buffs","ActionQueue","SolveModal","ActionPanel","Analyzer","s","Macros"],"ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82],"sources":["../../node_modules/.pnpm/seemly@0.3.10/node_modules/seemly/es/css/responsive.js","../../node_modules/.pnpm/vooks@0.2.12_vue@3.5.24_typescript@5.9.3_/node_modules/vooks/es/use-click-position.js","../../node_modules/.pnpm/vooks@0.2.12_vue@3.5.24_typescript@5.9.3_/node_modules/vooks/es/use-clicked.js","../../node_modules/.pnpm/vooks@0.2.12_vue@3.5.24_typescript@5.9.3_/node_modules/vooks/es/use-breakpoints.js","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/_utils/composable/use-is-composing.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/_utils/composable/use-lock-html-scroll.mjs","../../node_modules/.pnpm/vueuc@0.4.65_vue@3.5.24_typescript@5.9.3_/node_modules/vueuc/es/shared/finweck-tree.js","../../node_modules/.pnpm/vueuc@0.4.65_vue@3.5.24_typescript@5.9.3_/node_modules/vueuc/es/virtual-list/src/config.js","../../node_modules/.pnpm/vueuc@0.4.65_vue@3.5.24_typescript@5.9.3_/node_modules/vueuc/es/virtual-list/src/context.js","../../node_modules/.pnpm/vueuc@0.4.65_vue@3.5.24_typescript@5.9.3_/node_modules/vueuc/es/virtual-list/src/xScroll.js","../../node_modules/.pnpm/vueuc@0.4.65_vue@3.5.24_typescript@5.9.3_/node_modules/vueuc/es/virtual-list/src/VirtualListRow.js","../../node_modules/.pnpm/vueuc@0.4.65_vue@3.5.24_typescript@5.9.3_/node_modules/vueuc/es/virtual-list/src/VirtualList.js","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/_utils/composable/use-resize.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/_utils/event/index.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/_utils/naive/attribute.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/_utils/vue/get-slot.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/_utils/vue/is-node-v-show-false.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/_utils/vue/merge-handlers.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/_internal/icons/Checkmark.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/_internal/icons/Empty.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/_internal/icons/Error.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/_internal/icons/Info.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/_internal/icons/Success.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/_internal/icons/Warning.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/_internal/focus-detector/src/FocusDetector.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/empty/src/styles/index.cssr.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/empty/src/Empty.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/_internal/select-menu/src/SelectGroupHeader.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/_internal/select-menu/src/SelectOption.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/_internal/select-menu/src/styles/index.cssr.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/_internal/select-menu/src/SelectMenu.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/tag/styles/light.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/tag/src/common-props.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/tag/src/styles/index.cssr.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/tag/src/Tag.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/_internal/selection/src/styles/index.cssr.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/_internal/selection/src/Selection.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/select/src/utils.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/card/src/styles/index.cssr.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/card/src/Card.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/checkbox/src/CheckboxGroup.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/checkbox/src/CheckMark.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/checkbox/src/LineMark.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/checkbox/src/styles/index.cssr.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/checkbox/src/Checkbox.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/select/src/styles/index.cssr.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/select/src/Select.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/dialog/src/context.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/dialog/src/dialogProps.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/dialog/src/styles/index.cssr.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/dialog/src/Dialog.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/modal/src/context.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/modal/src/composables.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/modal/src/presetProps.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/modal/src/BodyWrapper.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/modal/src/styles/index.cssr.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/modal/src/Modal.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/loading-bar/src/use-loading-bar.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/message/src/context.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/message/src/message-props.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/message/src/styles/index.cssr.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/message/src/Message.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/message/src/MessageEnvironment.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/message/src/MessageProvider.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/message/src/use-message.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/modal/src/ModalEnvironment.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/modal/src/ModalProvider.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/divider/src/styles/index.cssr.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/divider/src/Divider.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/flex/styles/light.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/flex/src/Flex.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/switch/styles/light.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/grid/src/config.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/grid/src/GridItem.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/config-provider/src/config.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/grid/src/Grid.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/progress/src/Circle.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/progress/src/Line.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/progress/src/MultipleCircle.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/progress/src/styles/index.cssr.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/progress/src/Progress.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/switch/src/styles/index.cssr.mjs","../../node_modules/.pnpm/naive-ui@2.43.2_vue@3.5.24_typescript@5.9.3_/node_modules/naive-ui/es/switch/src/Switch.mjs","../../src/fco/stores/simulator.ts","../../src/fco/components/ActionPanel.vue","../../src/fco/components/MealAndMedicinesSelect.vue","../../src/fco/components/Attributes.vue","../../src/fco/components/CraftingState.vue","../../src/fco/components/JobSelect.vue","../../src/fco/components/RecipeSelect.vue","../../src/fco/components/Analyzer.vue","../../src/fco/components/SolveModal.vue","../../src/fco/components/Macros.vue","../../src/fco/pages/Simulator.vue"],"sourcesContent":["export function parseResponsiveProp(reponsiveProp) {\n    if (typeof reponsiveProp === \"number\") {\n        return {\n            '': reponsiveProp.toString()\n        };\n    }\n    const params = {};\n    reponsiveProp.split(/ +/).forEach((pairLiteral) => {\n        if (pairLiteral === '')\n            return;\n        const [prefix, value] = pairLiteral.split(':');\n        if (value === undefined) {\n            params[''] = prefix;\n        }\n        else {\n            params[prefix] = value;\n        }\n    });\n    return params;\n}\nfunction parseResponsivePropValue(reponsiveProp, activeKeyOrSize) {\n    var _a;\n    if (reponsiveProp === undefined || reponsiveProp === null)\n        return undefined;\n    const classObj = parseResponsiveProp(reponsiveProp);\n    if (activeKeyOrSize === undefined)\n        return classObj[''];\n    if (typeof activeKeyOrSize === 'string') {\n        return (_a = classObj[activeKeyOrSize]) !== null && _a !== void 0 ? _a : classObj[''];\n    }\n    else if (Array.isArray(activeKeyOrSize)) {\n        for (let i = activeKeyOrSize.length - 1; i >= 0; --i) {\n            const key = activeKeyOrSize[i];\n            if (key in classObj)\n                return classObj[key];\n        }\n        return classObj[''];\n    }\n    else {\n        // Here we suppose all the keys are number formatted\n        let activeValue = undefined;\n        let activeKey = -1;\n        Object.keys(classObj).forEach((key) => {\n            const keyAsNum = Number(key);\n            if (!Number.isNaN(keyAsNum) &&\n                activeKeyOrSize >= keyAsNum &&\n                keyAsNum >= activeKey) {\n                activeKey = keyAsNum;\n                activeValue = classObj[key];\n            }\n        });\n        return activeValue;\n    }\n}\nexport { parseResponsivePropValue };\n","import { ref, readonly, onBeforeMount, onBeforeUnmount } from 'vue';\nimport { on, off } from 'evtd';\nimport { hasInstance, isBrowser } from './utils';\nconst mousePositionRef = ref(null);\nfunction clickHandler(e) {\n    if (e.clientX > 0 || e.clientY > 0) {\n        mousePositionRef.value = {\n            x: e.clientX,\n            y: e.clientY\n        };\n    }\n    else {\n        // x = 0 & y = 0\n        const { target } = e;\n        if (target instanceof Element) {\n            const { left, top, width, height } = target.getBoundingClientRect();\n            if (left > 0 || top > 0) {\n                // impossible to be triggered by real click\n                mousePositionRef.value = {\n                    x: left + width / 2,\n                    y: top + height / 2\n                };\n            }\n            else {\n                mousePositionRef.value = { x: 0, y: 0 };\n            }\n        }\n        else {\n            mousePositionRef.value = null;\n        }\n    }\n}\nlet usedCount = 0;\nlet managable = true;\nexport default function useClickPosition() {\n    if (!isBrowser)\n        return readonly(ref(null));\n    if (usedCount === 0)\n        on('click', document, clickHandler, true);\n    const setup = () => {\n        usedCount += 1;\n    };\n    if (managable && (managable = hasInstance())) {\n        onBeforeMount(setup);\n        onBeforeUnmount(() => {\n            usedCount -= 1;\n            if (usedCount === 0)\n                off('click', document, clickHandler, true);\n        });\n    }\n    else {\n        setup();\n    }\n    return readonly(mousePositionRef);\n}\n","import { onBeforeMount, onBeforeUnmount, ref, readonly } from 'vue';\nimport { on, off } from 'evtd';\nimport { hasInstance, isBrowser } from './utils';\nconst clickedTimeRef = ref(undefined);\nlet usedCount = 0;\nfunction handleClick() {\n    clickedTimeRef.value = Date.now();\n}\nlet managable = true;\nexport default function useClicked(timeout) {\n    if (!isBrowser)\n        return readonly(ref(false));\n    const clickedRef = ref(false);\n    let timerId = null;\n    function clearTimer() {\n        if (timerId !== null)\n            window.clearTimeout(timerId);\n    }\n    function clickedHandler() {\n        clearTimer();\n        clickedRef.value = true;\n        timerId = window.setTimeout(() => {\n            clickedRef.value = false;\n        }, timeout);\n    }\n    if (usedCount === 0) {\n        on('click', window, handleClick, true);\n    }\n    const setup = () => {\n        usedCount += 1;\n        on('click', window, clickedHandler, true);\n    };\n    if (managable && (managable = hasInstance())) {\n        onBeforeMount(setup);\n        onBeforeUnmount(() => {\n            usedCount -= 1;\n            if (usedCount === 0) {\n                off('click', window, handleClick, true);\n            }\n            off('click', window, clickedHandler, true);\n            clearTimer();\n        });\n    }\n    else {\n        setup();\n    }\n    return readonly(clickedRef);\n}\n","/* eslint-disable @typescript-eslint/consistent-type-assertions */\nimport { ref, computed, onBeforeUnmount } from 'vue';\nimport { isBrowser } from './utils';\nexport const defaultBreakpointOptions = {\n    // mobile\n    // 0 ~ 640 doesn't mean it should display well in all the range,\n    // but means you should treat it like a mobile phone.)\n    xs: 0,\n    s: 640,\n    m: 1024,\n    l: 1280,\n    xl: 1536,\n    '2xl': 1920 // normal desktop display\n};\nfunction createMediaQuery(screenWidth) {\n    return `(min-width: ${screenWidth}px)`;\n}\nconst mqlMap = {};\nfunction useBreakpoints(screens = defaultBreakpointOptions) {\n    if (!isBrowser)\n        return computed(() => []);\n    // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n    if (typeof window.matchMedia !== 'function')\n        return computed(() => []);\n    const breakpointStatusRef = ref({});\n    const breakpoints = Object.keys(screens);\n    const updateBreakpoints = (e, breakpointName) => {\n        if (e.matches)\n            breakpointStatusRef.value[breakpointName] = true;\n        else\n            breakpointStatusRef.value[breakpointName] = false;\n    };\n    breakpoints.forEach((key) => {\n        const breakpointValue = screens[key];\n        let mql;\n        let cbs;\n        if (mqlMap[breakpointValue] === undefined) {\n            mql = window.matchMedia(createMediaQuery(breakpointValue));\n            // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n            if (mql.addEventListener) {\n                mql.addEventListener('change', (e) => {\n                    cbs.forEach((cb) => {\n                        cb(e, key);\n                    });\n                });\n                // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n            }\n            else if (mql.addListener) {\n                mql.addListener((e) => {\n                    cbs.forEach((cb) => {\n                        cb(e, key);\n                    });\n                });\n            }\n            cbs = new Set();\n            mqlMap[breakpointValue] = {\n                mql,\n                cbs\n            };\n        }\n        else {\n            mql = mqlMap[breakpointValue].mql;\n            cbs = mqlMap[breakpointValue].cbs;\n        }\n        cbs.add(updateBreakpoints);\n        if (mql.matches) {\n            cbs.forEach((cb) => {\n                cb(mql, key);\n            });\n        }\n    });\n    onBeforeUnmount(() => {\n        breakpoints.forEach((breakpoint) => {\n            const { cbs } = mqlMap[screens[breakpoint]];\n            if (cbs.has(updateBreakpoints)) {\n                cbs.delete(updateBreakpoints);\n            }\n        });\n    });\n    return computed(() => {\n        const { value } = breakpointStatusRef;\n        return breakpoints.filter((key) => value[key]);\n    });\n}\nexport default useBreakpoints;\n","import { onBeforeMount, onBeforeUnmount, ref } from 'vue';\nimport { isBrowser } from \"../env/is-browser.mjs\";\nconst isComposingRef = ref(false);\nfunction compositionStartHandler() {\n  isComposingRef.value = true;\n}\nfunction compositionEndHandler() {\n  isComposingRef.value = false;\n}\nlet mountedCount = 0;\nexport function useIsComposing() {\n  if (isBrowser) {\n    onBeforeMount(() => {\n      if (!mountedCount) {\n        window.addEventListener('compositionstart', compositionStartHandler);\n        window.addEventListener('compositionend', compositionEndHandler);\n      }\n      mountedCount++;\n    });\n    onBeforeUnmount(() => {\n      if (mountedCount <= 1) {\n        window.removeEventListener('compositionstart', compositionStartHandler);\n        window.removeEventListener('compositionend', compositionEndHandler);\n        mountedCount = 0;\n      } else {\n        mountedCount--;\n      }\n    });\n  }\n  return isComposingRef;\n}","import { onBeforeUnmount, onMounted, ref, watch } from 'vue';\nlet lockCount = 0;\nlet originalMarginRight = '';\nlet originalOverflow = '';\nlet originalOverflowX = '';\nlet originalOverflowY = '';\nexport const lockHtmlScrollRightCompensationRef = ref('0px');\nexport function useLockHtmlScroll(lockRef) {\n  // not browser\n  if (typeof document === 'undefined') return;\n  const el = document.documentElement;\n  let watchStopHandle;\n  let activated = false;\n  const unlock = () => {\n    el.style.marginRight = originalMarginRight;\n    el.style.overflow = originalOverflow;\n    el.style.overflowX = originalOverflowX;\n    el.style.overflowY = originalOverflowY;\n    lockHtmlScrollRightCompensationRef.value = '0px';\n  };\n  onMounted(() => {\n    watchStopHandle = watch(lockRef, value => {\n      if (value) {\n        if (!lockCount) {\n          const scrollbarWidth = window.innerWidth - el.offsetWidth;\n          if (scrollbarWidth > 0) {\n            originalMarginRight = el.style.marginRight;\n            el.style.marginRight = `${scrollbarWidth}px`;\n            lockHtmlScrollRightCompensationRef.value = `${scrollbarWidth}px`;\n          }\n          originalOverflow = el.style.overflow;\n          originalOverflowX = el.style.overflowX;\n          originalOverflowY = el.style.overflowY;\n          el.style.overflow = 'hidden';\n          el.style.overflowX = 'hidden';\n          el.style.overflowY = 'hidden';\n        }\n        activated = true;\n        lockCount++;\n      } else {\n        lockCount--;\n        if (!lockCount) {\n          unlock();\n        }\n        activated = false;\n      }\n    }, {\n      immediate: true\n    });\n  });\n  onBeforeUnmount(() => {\n    watchStopHandle === null || watchStopHandle === void 0 ? void 0 : watchStopHandle();\n    if (activated) {\n      lockCount--;\n      if (!lockCount) {\n        unlock();\n      }\n      activated = false;\n    }\n  });\n}","function lowBit(n) {\n    return n & -n;\n}\nexport class FinweckTree {\n    /**\n     * @param l length of the array\n     * @param min min value of the array\n     */\n    constructor(l, min) {\n        this.l = l;\n        this.min = min;\n        const ft = new Array(l + 1);\n        for (let i = 0; i < l + 1; ++i) {\n            ft[i] = 0;\n        }\n        this.ft = ft;\n    }\n    /**\n     * Add arr[i] by n, start from 0\n     * @param i the index of the element to be added\n     * @param n the value to be added\n     */\n    add(i, n) {\n        if (n === 0)\n            return;\n        const { l, ft } = this;\n        i += 1;\n        while (i <= l) {\n            ft[i] += n;\n            i += lowBit(i);\n        }\n    }\n    /**\n     * Get the value of index i\n     * @param i index\n     * @returns value of the index\n     */\n    get(i) {\n        return this.sum(i + 1) - this.sum(i);\n    }\n    /**\n     * Get the sum of first i elements\n     * @param i count of head elements to be added\n     * @returns the sum of first i elements\n     */\n    sum(i) {\n        if (i === undefined)\n            i = this.l;\n        if (i <= 0)\n            return 0;\n        const { ft, min, l } = this;\n        if (i > l)\n            throw new Error('[FinweckTree.sum]: `i` is larger than length.');\n        let ret = i * min;\n        while (i > 0) {\n            ret += ft[i];\n            i -= lowBit(i);\n        }\n        return ret;\n    }\n    /**\n     * Get the largest count of head elements whose sum are <= threshold\n     * @param threshold\n     * @returns the largest count of head elements whose sum are <= threshold\n     */\n    getBound(threshold) {\n        let l = 0;\n        let r = this.l;\n        while (r > l) {\n            const m = Math.floor((l + r) / 2);\n            const sumM = this.sum(m);\n            if (sumM > threshold) {\n                r = m;\n                continue;\n            }\n            else if (sumM < threshold) {\n                if (l === m) {\n                    if (this.sum(l + 1) <= threshold)\n                        return l + 1;\n                    return m;\n                }\n                l = m;\n            }\n            else {\n                return m;\n            }\n        }\n        return l;\n    }\n}\n","let maybeTouch;\nexport function ensureMaybeTouch() {\n    if (typeof document === 'undefined')\n        return false;\n    if (maybeTouch === undefined) {\n        if ('matchMedia' in window) {\n            maybeTouch = window.matchMedia('(pointer:coarse)').matches;\n        }\n        else {\n            maybeTouch = false;\n        }\n    }\n    return maybeTouch;\n}\nlet wheelScale;\nexport function ensureWheelScale() {\n    if (typeof document === 'undefined')\n        return 1;\n    if (wheelScale === undefined) {\n        wheelScale = 'chrome' in window ? window.devicePixelRatio : 1;\n    }\n    return wheelScale;\n}\n","export const xScrollInjextionKey = 'VVirtualListXScroll';\n","import { computed, provide, ref } from 'vue';\nimport { useMemo } from 'vooks';\nimport { FinweckTree } from '../../shared';\nimport { xScrollInjextionKey } from './context';\nexport function setupXScroll({ columnsRef, renderColRef, renderItemWithColsRef }) {\n    const listWidthRef = ref(0);\n    const scrollLeftRef = ref(0);\n    const xFinweckTreeRef = computed(() => {\n        const columns = columnsRef.value;\n        if (columns.length === 0) {\n            return null;\n        }\n        const ft = new FinweckTree(columns.length, 0);\n        columns.forEach((column, index) => {\n            ft.add(index, column.width);\n        });\n        return ft;\n    });\n    const startIndexRef = useMemo(() => {\n        const xFinweckTree = xFinweckTreeRef.value;\n        if (xFinweckTree !== null) {\n            return Math.max(xFinweckTree.getBound(scrollLeftRef.value) - 1, 0);\n        }\n        else {\n            return 0;\n        }\n    });\n    const getLeft = (index) => {\n        const xFinweckTree = xFinweckTreeRef.value;\n        if (xFinweckTree !== null) {\n            return xFinweckTree.sum(index);\n        }\n        else {\n            return 0;\n        }\n    };\n    const endIndexRef = useMemo(() => {\n        const xFinweckTree = xFinweckTreeRef.value;\n        if (xFinweckTree !== null) {\n            return Math.min(xFinweckTree.getBound(scrollLeftRef.value + listWidthRef.value) + 1, columnsRef.value.length - 1);\n        }\n        else {\n            return 0;\n        }\n    });\n    provide(xScrollInjextionKey, {\n        startIndexRef,\n        endIndexRef,\n        columnsRef,\n        renderColRef,\n        renderItemWithColsRef,\n        getLeft\n    });\n    return {\n        listWidthRef,\n        scrollLeftRef\n    };\n}\n","import { defineComponent, inject } from 'vue';\nimport { xScrollInjextionKey } from './context';\nexport const VirtualListRow = defineComponent({\n    name: 'VirtualListRow',\n    props: {\n        index: { type: Number, required: true },\n        item: {\n            type: Object,\n            required: true\n        }\n    },\n    setup() {\n        const { startIndexRef, endIndexRef, columnsRef, getLeft, renderColRef, renderItemWithColsRef } = \n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        inject(xScrollInjextionKey);\n        return {\n            startIndex: startIndexRef,\n            endIndex: endIndexRef,\n            columns: columnsRef,\n            renderCol: renderColRef,\n            renderItemWithCols: renderItemWithColsRef,\n            getLeft\n        };\n    },\n    render() {\n        const { startIndex, endIndex, columns, renderCol, renderItemWithCols, getLeft, item } = this;\n        if (renderItemWithCols != null) {\n            return renderItemWithCols({\n                itemIndex: this.index,\n                startColIndex: startIndex,\n                endColIndex: endIndex,\n                allColumns: columns,\n                item,\n                getLeft\n            });\n        }\n        if (renderCol != null) {\n            const items = [];\n            for (let i = startIndex; i <= endIndex; ++i) {\n                const column = columns[i];\n                items.push(renderCol({ column, left: getLeft(i), item }));\n            }\n            return items;\n        }\n        return null;\n    }\n});\n","/* eslint-disable no-void */\n/* eslint-disable @typescript-eslint/restrict-plus-operands */\nimport { mergeProps, computed, defineComponent, ref, onMounted, h, onActivated, onDeactivated, toRef } from 'vue';\nimport { beforeNextFrameOnce, depx, pxfy } from 'seemly';\nimport { useMemo } from 'vooks';\nimport { useSsrAdapter } from '@css-render/vue3-ssr';\nimport VResizeObserver from '../../resize-observer/src/VResizeObserver';\nimport { c, cssrAnchorMetaName, FinweckTree } from '../../shared';\nimport { ensureMaybeTouch, ensureWheelScale } from './config';\nimport { setupXScroll } from './xScroll';\nimport { VirtualListRow } from './VirtualListRow';\nconst styles = c('.v-vl', {\n    maxHeight: 'inherit',\n    height: '100%',\n    overflow: 'auto',\n    minWidth: '1px' // a zero width container won't be scrollable\n}, [\n    c('&:not(.v-vl--show-scrollbar)', {\n        scrollbarWidth: 'none'\n    }, [\n        c('&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb', {\n            width: 0,\n            height: 0,\n            display: 'none'\n        })\n    ])\n]);\nexport default defineComponent({\n    name: 'VirtualList',\n    inheritAttrs: false,\n    props: {\n        showScrollbar: {\n            type: Boolean,\n            default: true\n        },\n        columns: {\n            type: Array,\n            default: () => []\n        },\n        renderCol: Function,\n        renderItemWithCols: Function,\n        items: {\n            type: Array,\n            default: () => []\n        },\n        // it is suppose to be the min height\n        itemSize: {\n            type: Number,\n            required: true\n        },\n        itemResizable: Boolean,\n        itemsStyle: [String, Object],\n        visibleItemsTag: {\n            type: [String, Object],\n            default: 'div'\n        },\n        visibleItemsProps: Object,\n        ignoreItemResize: Boolean,\n        onScroll: Function,\n        onWheel: Function,\n        onResize: Function,\n        defaultScrollKey: [Number, String],\n        defaultScrollIndex: Number,\n        keyField: {\n            type: String,\n            default: 'key'\n        },\n        // Whether it is a good API?\n        // ResizeObserver + footer & header is not enough.\n        // Too complex for simple case\n        paddingTop: {\n            type: [Number, String],\n            default: 0\n        },\n        paddingBottom: {\n            type: [Number, String],\n            default: 0\n        }\n    },\n    setup(props) {\n        const ssrAdapter = useSsrAdapter();\n        styles.mount({\n            id: 'vueuc/virtual-list',\n            head: true,\n            anchorMetaName: cssrAnchorMetaName,\n            ssr: ssrAdapter\n        });\n        onMounted(() => {\n            const { defaultScrollIndex, defaultScrollKey } = props;\n            if (defaultScrollIndex !== undefined && defaultScrollIndex !== null) {\n                scrollTo({ index: defaultScrollIndex });\n            }\n            else if (defaultScrollKey !== undefined && defaultScrollKey !== null) {\n                scrollTo({ key: defaultScrollKey });\n            }\n        });\n        let isDeactivated = false;\n        let activateStateInitialized = false;\n        onActivated(() => {\n            isDeactivated = false;\n            if (!activateStateInitialized) {\n                activateStateInitialized = true;\n                return;\n            }\n            // remount\n            scrollTo({ top: scrollTopRef.value, left: scrollLeftRef.value });\n        });\n        onDeactivated(() => {\n            isDeactivated = true;\n            if (!activateStateInitialized) {\n                activateStateInitialized = true;\n            }\n        });\n        const totalWidthRef = useMemo(() => {\n            if (props.renderCol == null && props.renderItemWithCols == null) {\n                return undefined;\n            }\n            if (props.columns.length === 0)\n                return undefined;\n            let width = 0;\n            props.columns.forEach((column) => {\n                width += column.width;\n            });\n            return width;\n        });\n        const keyIndexMapRef = computed(() => {\n            const map = new Map();\n            const { keyField } = props;\n            props.items.forEach((item, index) => {\n                map.set(item[keyField], index);\n            });\n            return map;\n        });\n        const { scrollLeftRef, listWidthRef } = setupXScroll({\n            columnsRef: toRef(props, 'columns'),\n            renderColRef: toRef(props, 'renderCol'),\n            renderItemWithColsRef: toRef(props, 'renderItemWithCols')\n        });\n        const listElRef = ref(null);\n        const listHeightRef = ref(undefined);\n        const keyToHeightOffset = new Map();\n        const finweckTreeRef = computed(() => {\n            const { items, itemSize, keyField } = props;\n            const ft = new FinweckTree(items.length, itemSize);\n            items.forEach((item, index) => {\n                const key = item[keyField];\n                const heightOffset = keyToHeightOffset.get(key);\n                if (heightOffset !== undefined) {\n                    ft.add(index, heightOffset);\n                }\n            });\n            return ft;\n        });\n        const finweckTreeUpdateTrigger = ref(0);\n        const scrollTopRef = ref(0);\n        const startIndexRef = useMemo(() => {\n            return Math.max(finweckTreeRef.value.getBound(scrollTopRef.value - depx(props.paddingTop)) - 1, 0);\n        });\n        const viewportItemsRef = computed(() => {\n            const { value: listHeight } = listHeightRef;\n            if (listHeight === undefined)\n                return [];\n            const { items, itemSize } = props;\n            const startIndex = startIndexRef.value;\n            const endIndex = Math.min(startIndex + Math.ceil(listHeight / itemSize + 1), items.length - 1);\n            const viewportItems = [];\n            for (let i = startIndex; i <= endIndex; ++i) {\n                viewportItems.push(items[i]);\n            }\n            return viewportItems;\n        });\n        const scrollTo = (options, y) => {\n            if (typeof options === 'number') {\n                scrollToPosition(options, y, 'auto');\n                return;\n            }\n            const { left, top, index, key, position, behavior, debounce = true } = options;\n            if (left !== undefined || top !== undefined) {\n                scrollToPosition(left, top, behavior);\n            }\n            else if (index !== undefined) {\n                scrollToIndex(index, behavior, debounce);\n            }\n            else if (key !== undefined) {\n                const toIndex = keyIndexMapRef.value.get(key);\n                if (toIndex !== undefined)\n                    scrollToIndex(toIndex, behavior, debounce);\n            }\n            else if (position === 'bottom') {\n                scrollToPosition(0, Number.MAX_SAFE_INTEGER, behavior);\n            }\n            else if (position === 'top') {\n                scrollToPosition(0, 0, behavior);\n            }\n        };\n        let anchorIndex;\n        let anchorTimerId = null;\n        function scrollToIndex(index, behavior, debounce) {\n            const { value: ft } = finweckTreeRef;\n            const targetTop = ft.sum(index) + depx(props.paddingTop);\n            if (!debounce) {\n                listElRef.value.scrollTo({\n                    left: 0,\n                    top: targetTop,\n                    behavior\n                });\n            }\n            else {\n                anchorIndex = index;\n                if (anchorTimerId !== null) {\n                    window.clearTimeout(anchorTimerId);\n                }\n                anchorTimerId = window.setTimeout(() => {\n                    anchorIndex = undefined;\n                    anchorTimerId = null;\n                }, 16); // use 0 ms may be ealier than resize callback...\n                const { scrollTop, offsetHeight } = listElRef.value;\n                if (targetTop > scrollTop) {\n                    const itemSize = ft.get(index);\n                    if (targetTop + itemSize <= scrollTop + offsetHeight) {\n                        // do nothing\n                    }\n                    else {\n                        listElRef.value.scrollTo({\n                            left: 0,\n                            top: targetTop + itemSize - offsetHeight,\n                            behavior\n                        });\n                    }\n                }\n                else {\n                    listElRef.value.scrollTo({\n                        left: 0,\n                        top: targetTop,\n                        behavior\n                    });\n                }\n            }\n        }\n        function scrollToPosition(left, top, behavior) {\n            listElRef.value.scrollTo({\n                left,\n                top,\n                behavior\n            });\n        }\n        function handleItemResize(key, entry) {\n            var _a, _b, _c;\n            if (isDeactivated)\n                return;\n            if (props.ignoreItemResize)\n                return;\n            if (isHideByVShow(entry.target))\n                return;\n            const { value: ft } = finweckTreeRef;\n            const index = keyIndexMapRef.value.get(key);\n            const previousHeight = ft.get(index);\n            const height = (_c = (_b = (_a = entry.borderBoxSize) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.blockSize) !== null && _c !== void 0 ? _c : entry.contentRect.height;\n            if (height === previousHeight)\n                return;\n            // height offset based on itemSize\n            // used when rebuild the finweck tree\n            const offset = height - props.itemSize;\n            if (offset === 0) {\n                keyToHeightOffset.delete(key);\n            }\n            else {\n                keyToHeightOffset.set(key, height - props.itemSize);\n            }\n            // delta height based on finweck tree data\n            const delta = height - previousHeight;\n            if (delta === 0)\n                return;\n            ft.add(index, delta);\n            const listEl = listElRef.value;\n            if (listEl != null) {\n                if (anchorIndex === undefined) {\n                    const previousHeightSum = ft.sum(index);\n                    if (listEl.scrollTop > previousHeightSum) {\n                        listEl.scrollBy(0, delta);\n                    }\n                }\n                else {\n                    if (index < anchorIndex) {\n                        listEl.scrollBy(0, delta);\n                    }\n                    else if (index === anchorIndex) {\n                        const previousHeightSum = ft.sum(index);\n                        if (height + previousHeightSum >\n                            // Note, listEl shouldn't have border, nor offsetHeight won't be\n                            // correct\n                            listEl.scrollTop + listEl.offsetHeight) {\n                            listEl.scrollBy(0, delta);\n                        }\n                    }\n                }\n                syncViewport();\n            }\n            finweckTreeUpdateTrigger.value++;\n        }\n        const mayUseWheel = !ensureMaybeTouch();\n        let wheelCatched = false;\n        function handleListScroll(e) {\n            var _a;\n            (_a = props.onScroll) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            if (!mayUseWheel || !wheelCatched) {\n                syncViewport();\n            }\n        }\n        function handleListWheel(e) {\n            var _a;\n            (_a = props.onWheel) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            if (mayUseWheel) {\n                const listEl = listElRef.value;\n                if (listEl != null) {\n                    if (e.deltaX === 0) {\n                        if (listEl.scrollTop === 0 && e.deltaY <= 0) {\n                            return;\n                        }\n                        if (listEl.scrollTop + listEl.offsetHeight >= listEl.scrollHeight &&\n                            e.deltaY >= 0) {\n                            return;\n                        }\n                    }\n                    e.preventDefault();\n                    listEl.scrollTop += e.deltaY / ensureWheelScale();\n                    listEl.scrollLeft += e.deltaX / ensureWheelScale();\n                    syncViewport();\n                    wheelCatched = true;\n                    beforeNextFrameOnce(() => {\n                        wheelCatched = false;\n                    });\n                }\n            }\n        }\n        function handleListResize(entry) {\n            if (isDeactivated)\n                return;\n            // List is HTMLElement\n            if (isHideByVShow(entry.target))\n                return;\n            // If height is same, return\n            if (props.renderCol == null && props.renderItemWithCols == null) {\n                if (entry.contentRect.height === listHeightRef.value)\n                    return;\n            }\n            else {\n                if (entry.contentRect.height === listHeightRef.value &&\n                    entry.contentRect.width === listWidthRef.value) {\n                    return;\n                }\n            }\n            listHeightRef.value = entry.contentRect.height;\n            listWidthRef.value = entry.contentRect.width;\n            const { onResize } = props;\n            if (onResize !== undefined)\n                onResize(entry);\n        }\n        function syncViewport() {\n            const { value: listEl } = listElRef;\n            // sometime ref el can be null\n            // https://github.com/TuSimple/naive-ui/issues/811\n            if (listEl == null)\n                return;\n            scrollTopRef.value = listEl.scrollTop;\n            scrollLeftRef.value = listEl.scrollLeft;\n        }\n        function isHideByVShow(el) {\n            let cursor = el;\n            while (cursor !== null) {\n                if (cursor.style.display === 'none')\n                    return true;\n                cursor = cursor.parentElement;\n            }\n            return false;\n        }\n        return {\n            listHeight: listHeightRef,\n            listStyle: {\n                overflow: 'auto'\n            },\n            keyToIndex: keyIndexMapRef,\n            itemsStyle: computed(() => {\n                const { itemResizable } = props;\n                const height = pxfy(finweckTreeRef.value.sum());\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                finweckTreeUpdateTrigger.value;\n                return [\n                    props.itemsStyle,\n                    {\n                        boxSizing: 'content-box',\n                        width: pxfy(totalWidthRef.value),\n                        height: itemResizable ? '' : height,\n                        minHeight: itemResizable ? height : '',\n                        paddingTop: pxfy(props.paddingTop),\n                        paddingBottom: pxfy(props.paddingBottom)\n                    }\n                ];\n            }),\n            visibleItemsStyle: computed(() => {\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                finweckTreeUpdateTrigger.value;\n                return {\n                    transform: `translateY(${pxfy(finweckTreeRef.value.sum(startIndexRef.value))})`\n                };\n            }),\n            viewportItems: viewportItemsRef,\n            listElRef,\n            itemsElRef: ref(null),\n            scrollTo,\n            handleListResize,\n            handleListScroll,\n            handleListWheel,\n            handleItemResize\n        };\n    },\n    render() {\n        const { itemResizable, keyField, keyToIndex, visibleItemsTag } = this;\n        return h(VResizeObserver, {\n            onResize: this.handleListResize\n        }, {\n            default: () => {\n                var _a, _b;\n                return h('div', mergeProps(this.$attrs, {\n                    class: ['v-vl', this.showScrollbar && 'v-vl--show-scrollbar'],\n                    onScroll: this.handleListScroll,\n                    onWheel: this.handleListWheel,\n                    ref: 'listElRef'\n                }), [\n                    this.items.length !== 0\n                        ? h('div', {\n                            ref: 'itemsElRef',\n                            class: 'v-vl-items',\n                            style: this.itemsStyle\n                        }, [\n                            h(visibleItemsTag, Object.assign({\n                                class: 'v-vl-visible-items',\n                                style: this.visibleItemsStyle\n                            }, this.visibleItemsProps), {\n                                default: () => {\n                                    const { renderCol, renderItemWithCols } = this;\n                                    return this.viewportItems.map((item) => {\n                                        const key = item[keyField];\n                                        const index = keyToIndex.get(key);\n                                        const renderedCols = renderCol != null\n                                            ? h(VirtualListRow, {\n                                                index,\n                                                item\n                                            })\n                                            : undefined;\n                                        const renderedItemWithCols = renderItemWithCols != null\n                                            ? h(VirtualListRow, {\n                                                index,\n                                                item\n                                            })\n                                            : undefined;\n                                        const itemVNode = this.$slots.default({\n                                            item,\n                                            renderedCols,\n                                            renderedItemWithCols,\n                                            index\n                                        })[0];\n                                        if (itemResizable) {\n                                            return h(VResizeObserver, {\n                                                key,\n                                                onResize: (entry) => this.handleItemResize(key, entry)\n                                            }, {\n                                                default: () => itemVNode\n                                            });\n                                        }\n                                        itemVNode.key = key;\n                                        return itemVNode;\n                                    });\n                                }\n                            })\n                        ])\n                        : (_b = (_a = this.$slots).empty) === null || _b === void 0 ? void 0 : _b.call(_a)\n                ]);\n            }\n        });\n    }\n});\n","import { onBeforeUnmount, onMounted, watch } from 'vue';\nimport { resizeObserverManager } from 'vueuc';\nexport function useOnResize(elRef, onResize) {\n  // it needn't be reactive since it's for internal usage\n  if (onResize) {\n    onMounted(() => {\n      const {\n        value: el\n      } = elRef;\n      if (el) {\n        resizeObserverManager.registerHandler(el, onResize);\n      }\n    });\n    // avoid memory leak\n    watch(elRef, (_, oldEl) => {\n      if (oldEl) {\n        resizeObserverManager.unregisterHandler(oldEl);\n      }\n    }, {\n      deep: false\n    });\n    onBeforeUnmount(() => {\n      const {\n        value: el\n      } = elRef;\n      if (el) {\n        resizeObserverManager.unregisterHandler(el);\n      }\n    });\n  }\n}","const eventSet = new WeakSet();\nexport function markEventEffectPerformed(event) {\n  eventSet.add(event);\n}\nexport function eventEffectNotPerformed(event) {\n  return !eventSet.has(event);\n}","export function getTitleAttribute(value) {\n  switch (typeof value) {\n    case 'string':\n      // The empty string should also be reset to undefined.\n      return value || undefined;\n    case 'number':\n      return String(value);\n    default:\n      return undefined;\n  }\n}","export function getSlot(instance, slotName = 'default', fallback = []) {\n  const slots = instance.$slots;\n  const slot = slots[slotName];\n  if (slot === undefined) return fallback;\n  return slot();\n}","import { vShow } from 'vue';\nexport function isNodeVShowFalse(vNode) {\n  var _a;\n  const showDir = (_a = vNode.dirs) === null || _a === void 0 ? void 0 : _a.find(({\n    dir\n  }) => dir === vShow);\n  return !!(showDir && showDir.value === false);\n}","export function mergeEventHandlers(handlers) {\n  const filteredHandlers = handlers.filter(handler => handler !== undefined);\n  if (filteredHandlers.length === 0) return undefined;\n  if (filteredHandlers.length === 1) return filteredHandlers[0];\n  return e => {\n    handlers.forEach(handler => {\n      if (handler) {\n        handler(e);\n      }\n    });\n  };\n}","import { defineComponent, h } from 'vue';\nexport default defineComponent({\n  name: 'Checkmark',\n  render() {\n    return h(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 16 16\"\n    }, h(\"g\", {\n      fill: \"none\"\n    }, h(\"path\", {\n      d: \"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z\",\n      fill: \"currentColor\"\n    })));\n  }\n});","import { defineComponent, h } from 'vue';\nexport default defineComponent({\n  name: 'Empty',\n  render() {\n    return h(\"svg\", {\n      viewBox: \"0 0 28 28\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\"\n    }, h(\"path\", {\n      d: \"M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z\",\n      fill: \"currentColor\"\n    }), h(\"path\", {\n      d: \"M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z\",\n      fill: \"currentColor\"\n    }));\n  }\n});","import { h } from 'vue';\nimport { replaceable } from \"./replaceable.mjs\";\nexport default replaceable('error', () => h(\"svg\", {\n  viewBox: \"0 0 48 48\",\n  version: \"1.1\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, h(\"g\", {\n  stroke: \"none\",\n  \"stroke-width\": \"1\",\n  \"fill-rule\": \"evenodd\"\n}, h(\"g\", {\n  \"fill-rule\": \"nonzero\"\n}, h(\"path\", {\n  d: \"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M17.8838835,16.1161165 L17.7823881,16.0249942 C17.3266086,15.6583353 16.6733914,15.6583353 16.2176119,16.0249942 L16.1161165,16.1161165 L16.0249942,16.2176119 C15.6583353,16.6733914 15.6583353,17.3266086 16.0249942,17.7823881 L16.1161165,17.8838835 L22.233,24 L16.1161165,30.1161165 L16.0249942,30.2176119 C15.6583353,30.6733914 15.6583353,31.3266086 16.0249942,31.7823881 L16.1161165,31.8838835 L16.2176119,31.9750058 C16.6733914,32.3416647 17.3266086,32.3416647 17.7823881,31.9750058 L17.8838835,31.8838835 L24,25.767 L30.1161165,31.8838835 L30.2176119,31.9750058 C30.6733914,32.3416647 31.3266086,32.3416647 31.7823881,31.9750058 L31.8838835,31.8838835 L31.9750058,31.7823881 C32.3416647,31.3266086 32.3416647,30.6733914 31.9750058,30.2176119 L31.8838835,30.1161165 L25.767,24 L31.8838835,17.8838835 L31.9750058,17.7823881 C32.3416647,17.3266086 32.3416647,16.6733914 31.9750058,16.2176119 L31.8838835,16.1161165 L31.7823881,16.0249942 C31.3266086,15.6583353 30.6733914,15.6583353 30.2176119,16.0249942 L30.1161165,16.1161165 L24,22.233 L17.8838835,16.1161165 L17.7823881,16.0249942 L17.8838835,16.1161165 Z\"\n})))));","import { h } from 'vue';\nimport { replaceable } from \"./replaceable.mjs\";\nexport default replaceable('info', () => h(\"svg\", {\n  viewBox: \"0 0 28 28\",\n  version: \"1.1\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, h(\"g\", {\n  stroke: \"none\",\n  \"stroke-width\": \"1\",\n  \"fill-rule\": \"evenodd\"\n}, h(\"g\", {\n  \"fill-rule\": \"nonzero\"\n}, h(\"path\", {\n  d: \"M14,2 C20.6274,2 26,7.37258 26,14 C26,20.6274 20.6274,26 14,26 C7.37258,26 2,20.6274 2,14 C2,7.37258 7.37258,2 14,2 Z M14,11 C13.4477,11 13,11.4477 13,12 L13,12 L13,20 C13,20.5523 13.4477,21 14,21 C14.5523,21 15,20.5523 15,20 L15,20 L15,12 C15,11.4477 14.5523,11 14,11 Z M14,6.75 C13.3096,6.75 12.75,7.30964 12.75,8 C12.75,8.69036 13.3096,9.25 14,9.25 C14.6904,9.25 15.25,8.69036 15.25,8 C15.25,7.30964 14.6904,6.75 14,6.75 Z\"\n})))));","import { h } from 'vue';\nimport { replaceable } from \"./replaceable.mjs\";\nexport default replaceable('success', () => h(\"svg\", {\n  viewBox: \"0 0 48 48\",\n  version: \"1.1\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, h(\"g\", {\n  stroke: \"none\",\n  \"stroke-width\": \"1\",\n  \"fill-rule\": \"evenodd\"\n}, h(\"g\", {\n  \"fill-rule\": \"nonzero\"\n}, h(\"path\", {\n  d: \"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M32.6338835,17.6161165 C32.1782718,17.1605048 31.4584514,17.1301307 30.9676119,17.5249942 L30.8661165,17.6161165 L20.75,27.732233 L17.1338835,24.1161165 C16.6457281,23.6279612 15.8542719,23.6279612 15.3661165,24.1161165 C14.9105048,24.5717282 14.8801307,25.2915486 15.2749942,25.7823881 L15.3661165,25.8838835 L19.8661165,30.3838835 C20.3217282,30.8394952 21.0415486,30.8698693 21.5323881,30.4750058 L21.6338835,30.3838835 L32.6338835,19.3838835 C33.1220388,18.8957281 33.1220388,18.1042719 32.6338835,17.6161165 Z\"\n})))));","import { h } from 'vue';\nimport { replaceable } from \"./replaceable.mjs\";\nexport default replaceable('warning', () => h(\"svg\", {\n  viewBox: \"0 0 24 24\",\n  version: \"1.1\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, h(\"g\", {\n  stroke: \"none\",\n  \"stroke-width\": \"1\",\n  \"fill-rule\": \"evenodd\"\n}, h(\"g\", {\n  \"fill-rule\": \"nonzero\"\n}, h(\"path\", {\n  d: \"M12,2 C17.523,2 22,6.478 22,12 C22,17.522 17.523,22 12,22 C6.477,22 2,17.522 2,12 C2,6.478 6.477,2 12,2 Z M12.0018002,15.0037242 C11.450254,15.0037242 11.0031376,15.4508407 11.0031376,16.0023869 C11.0031376,16.553933 11.450254,17.0010495 12.0018002,17.0010495 C12.5533463,17.0010495 13.0004628,16.553933 13.0004628,16.0023869 C13.0004628,15.4508407 12.5533463,15.0037242 12.0018002,15.0037242 Z M11.99964,7 C11.4868042,7.00018474 11.0642719,7.38637706 11.0066858,7.8837365 L11,8.00036004 L11.0018003,13.0012393 L11.00857,13.117858 C11.0665141,13.6151758 11.4893244,14.0010638 12.0021602,14.0008793 C12.514996,14.0006946 12.9375283,13.6145023 12.9951144,13.1171428 L13.0018002,13.0005193 L13,7.99964009 L12.9932303,7.8830214 C12.9352861,7.38570354 12.5124758,6.99981552 11.99964,7 Z\"\n})))));","import { defineComponent, h } from 'vue';\nexport default defineComponent({\n  props: {\n    onFocus: Function,\n    onBlur: Function\n  },\n  setup(props) {\n    return () => h(\"div\", {\n      style: \"width: 0; height: 0\",\n      tabindex: 0,\n      onFocus: props.onFocus,\n      onBlur: props.onBlur\n    });\n  }\n});","import { c, cB, cE } from \"../../../_utils/cssr/index.mjs\";\n// vars:\n// --n-font-size\n// --n-icon-size\n// --n-icon-color\n// --n-bezier\n// --n-text-color\n// --n-extra-text-color\nexport default cB('empty', `\n display: flex;\n flex-direction: column;\n align-items: center;\n font-size: var(--n-font-size);\n`, [cE('icon', `\n width: var(--n-icon-size);\n height: var(--n-icon-size);\n font-size: var(--n-icon-size);\n line-height: var(--n-icon-size);\n color: var(--n-icon-color);\n transition:\n color .3s var(--n-bezier);\n `, [c('+', [cE('description', `\n margin-top: 8px;\n `)])]), cE('description', `\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n `), cE('extra', `\n text-align: center;\n transition: color .3s var(--n-bezier);\n margin-top: 12px;\n color: var(--n-extra-text-color);\n `)]);","import { computed, defineComponent, h } from 'vue';\nimport { NBaseIcon } from \"../../_internal/icon/index.mjs\";\nimport { EmptyIcon } from \"../../_internal/icons/index.mjs\";\nimport { useConfig, useLocale, useTheme, useThemeClass } from \"../../_mixins/index.mjs\";\nimport { createKey } from \"../../_utils/index.mjs\";\nimport { emptyLight } from \"../styles/index.mjs\";\nimport style from \"./styles/index.cssr.mjs\";\nexport const emptyProps = Object.assign(Object.assign({}, useTheme.props), {\n  description: String,\n  showDescription: {\n    type: Boolean,\n    default: true\n  },\n  showIcon: {\n    type: Boolean,\n    default: true\n  },\n  size: {\n    type: String,\n    default: 'medium'\n  },\n  renderIcon: Function\n});\nexport default defineComponent({\n  name: 'Empty',\n  props: emptyProps,\n  slots: Object,\n  setup(props) {\n    const {\n      mergedClsPrefixRef,\n      inlineThemeDisabled,\n      mergedComponentPropsRef\n    } = useConfig(props);\n    const themeRef = useTheme('Empty', '-empty', style, emptyLight, props, mergedClsPrefixRef);\n    const {\n      localeRef\n    } = useLocale('Empty');\n    const mergedDescriptionRef = computed(() => {\n      var _a, _b, _c;\n      return (_a = props.description) !== null && _a !== void 0 ? _a : (_c = (_b = mergedComponentPropsRef === null || mergedComponentPropsRef === void 0 ? void 0 : mergedComponentPropsRef.value) === null || _b === void 0 ? void 0 : _b.Empty) === null || _c === void 0 ? void 0 : _c.description;\n    });\n    const mergedRenderIconRef = computed(() => {\n      var _a, _b;\n      return ((_b = (_a = mergedComponentPropsRef === null || mergedComponentPropsRef === void 0 ? void 0 : mergedComponentPropsRef.value) === null || _a === void 0 ? void 0 : _a.Empty) === null || _b === void 0 ? void 0 : _b.renderIcon) || (() => h(EmptyIcon, null));\n    });\n    const cssVarsRef = computed(() => {\n      const {\n        size\n      } = props;\n      const {\n        common: {\n          cubicBezierEaseInOut\n        },\n        self: {\n          [createKey('iconSize', size)]: iconSize,\n          [createKey('fontSize', size)]: fontSize,\n          textColor,\n          iconColor,\n          extraTextColor\n        }\n      } = themeRef.value;\n      return {\n        '--n-icon-size': iconSize,\n        '--n-font-size': fontSize,\n        '--n-bezier': cubicBezierEaseInOut,\n        '--n-text-color': textColor,\n        '--n-icon-color': iconColor,\n        '--n-extra-text-color': extraTextColor\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('empty', computed(() => {\n      let hash = '';\n      const {\n        size\n      } = props;\n      hash += size[0];\n      return hash;\n    }), cssVarsRef, props) : undefined;\n    return {\n      mergedClsPrefix: mergedClsPrefixRef,\n      mergedRenderIcon: mergedRenderIconRef,\n      localizedDescription: computed(() => {\n        return mergedDescriptionRef.value || localeRef.value.description;\n      }),\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    };\n  },\n  render() {\n    const {\n      $slots,\n      mergedClsPrefix,\n      onRender\n    } = this;\n    onRender === null || onRender === void 0 ? void 0 : onRender();\n    return h(\"div\", {\n      class: [`${mergedClsPrefix}-empty`, this.themeClass],\n      style: this.cssVars\n    }, this.showIcon ? h(\"div\", {\n      class: `${mergedClsPrefix}-empty__icon`\n    }, $slots.icon ? $slots.icon() : h(NBaseIcon, {\n      clsPrefix: mergedClsPrefix\n    }, {\n      default: this.mergedRenderIcon\n    })) : null, this.showDescription ? h(\"div\", {\n      class: `${mergedClsPrefix}-empty__description`\n    }, $slots.default ? $slots.default() : this.localizedDescription) : null, $slots.extra ? h(\"div\", {\n      class: `${mergedClsPrefix}-empty__extra`\n    }, $slots.extra()) : null);\n  }\n});","import { defineComponent, h, inject } from 'vue';\nimport { render } from \"../../../_utils/index.mjs\";\nimport { internalSelectionMenuInjectionKey } from \"./interface.mjs\";\nexport default defineComponent({\n  name: 'NBaseSelectGroupHeader',\n  props: {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    tmNode: {\n      type: Object,\n      required: true\n    }\n  },\n  setup() {\n    const {\n      renderLabelRef,\n      renderOptionRef,\n      labelFieldRef,\n      nodePropsRef\n    } = inject(internalSelectionMenuInjectionKey);\n    return {\n      labelField: labelFieldRef,\n      nodeProps: nodePropsRef,\n      renderLabel: renderLabelRef,\n      renderOption: renderOptionRef\n    };\n  },\n  render() {\n    const {\n      clsPrefix,\n      renderLabel,\n      renderOption,\n      nodeProps,\n      tmNode: {\n        rawNode\n      }\n    } = this;\n    const attrs = nodeProps === null || nodeProps === void 0 ? void 0 : nodeProps(rawNode);\n    const children = renderLabel ? renderLabel(rawNode, false) : render(rawNode[this.labelField], rawNode, false);\n    const node = h(\"div\", Object.assign({}, attrs, {\n      class: [`${clsPrefix}-base-select-group-header`, attrs === null || attrs === void 0 ? void 0 : attrs.class]\n    }), children);\n    return rawNode.render ? rawNode.render({\n      node,\n      option: rawNode\n    }) : renderOption ? renderOption({\n      node,\n      option: rawNode,\n      selected: false\n    }) : node;\n  }\n});","import { useMemo } from 'vooks';\nimport { defineComponent, h, inject, Transition } from 'vue';\nimport { mergeEventHandlers, render } from \"../../../_utils/index.mjs\";\nimport { NBaseIcon } from \"../../icon/index.mjs\";\nimport { CheckmarkIcon } from \"../../icons/index.mjs\";\nimport { internalSelectionMenuInjectionKey } from \"./interface.mjs\";\nfunction renderCheckMark(show, clsPrefix) {\n  return h(Transition, {\n    name: \"fade-in-scale-up-transition\"\n  }, {\n    default: () => show ? h(NBaseIcon, {\n      clsPrefix: clsPrefix,\n      class: `${clsPrefix}-base-select-option__check`\n    }, {\n      default: () => h(CheckmarkIcon)\n    }) : null\n  });\n}\nexport default defineComponent({\n  name: 'NBaseSelectOption',\n  props: {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    tmNode: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props) {\n    const {\n      valueRef,\n      pendingTmNodeRef,\n      multipleRef,\n      valueSetRef,\n      renderLabelRef,\n      renderOptionRef,\n      labelFieldRef,\n      valueFieldRef,\n      showCheckmarkRef,\n      nodePropsRef,\n      handleOptionClick,\n      handleOptionMouseEnter\n    } = inject(internalSelectionMenuInjectionKey);\n    const isPendingRef = useMemo(() => {\n      const {\n        value: pendingTmNode\n      } = pendingTmNodeRef;\n      if (!pendingTmNode) return false;\n      return props.tmNode.key === pendingTmNode.key;\n    });\n    function handleClick(e) {\n      const {\n        tmNode\n      } = props;\n      if (tmNode.disabled) return;\n      handleOptionClick(e, tmNode);\n    }\n    function handleMouseEnter(e) {\n      const {\n        tmNode\n      } = props;\n      if (tmNode.disabled) return;\n      handleOptionMouseEnter(e, tmNode);\n    }\n    function handleMouseMove(e) {\n      const {\n        tmNode\n      } = props;\n      const {\n        value: isPending\n      } = isPendingRef;\n      if (tmNode.disabled || isPending) return;\n      handleOptionMouseEnter(e, tmNode);\n    }\n    return {\n      multiple: multipleRef,\n      isGrouped: useMemo(() => {\n        const {\n          tmNode\n        } = props;\n        const {\n          parent\n        } = tmNode;\n        return parent && parent.rawNode.type === 'group';\n      }),\n      showCheckmark: showCheckmarkRef,\n      nodeProps: nodePropsRef,\n      isPending: isPendingRef,\n      isSelected: useMemo(() => {\n        const {\n          value\n        } = valueRef;\n        const {\n          value: multiple\n        } = multipleRef;\n        if (value === null) return false;\n        const optionValue = props.tmNode.rawNode[valueFieldRef.value];\n        if (multiple) {\n          const {\n            value: valueSet\n          } = valueSetRef;\n          return valueSet.has(optionValue);\n        } else {\n          return value === optionValue;\n        }\n      }),\n      labelField: labelFieldRef,\n      renderLabel: renderLabelRef,\n      renderOption: renderOptionRef,\n      handleMouseMove,\n      handleMouseEnter,\n      handleClick\n    };\n  },\n  render() {\n    const {\n      clsPrefix,\n      tmNode: {\n        rawNode\n      },\n      isSelected,\n      isPending,\n      isGrouped,\n      showCheckmark,\n      nodeProps,\n      renderOption,\n      renderLabel,\n      handleClick,\n      handleMouseEnter,\n      handleMouseMove\n    } = this;\n    const checkmark = renderCheckMark(isSelected, clsPrefix);\n    const children = renderLabel ? [renderLabel(rawNode, isSelected), showCheckmark && checkmark] : [render(rawNode[this.labelField], rawNode, isSelected), showCheckmark && checkmark];\n    const attrs = nodeProps === null || nodeProps === void 0 ? void 0 : nodeProps(rawNode);\n    const node = h(\"div\", Object.assign({}, attrs, {\n      class: [`${clsPrefix}-base-select-option`, rawNode.class, attrs === null || attrs === void 0 ? void 0 : attrs.class, {\n        [`${clsPrefix}-base-select-option--disabled`]: rawNode.disabled,\n        [`${clsPrefix}-base-select-option--selected`]: isSelected,\n        [`${clsPrefix}-base-select-option--grouped`]: isGrouped,\n        [`${clsPrefix}-base-select-option--pending`]: isPending,\n        [`${clsPrefix}-base-select-option--show-checkmark`]: showCheckmark\n      }],\n      style: [(attrs === null || attrs === void 0 ? void 0 : attrs.style) || '', rawNode.style || ''],\n      onClick: mergeEventHandlers([handleClick, attrs === null || attrs === void 0 ? void 0 : attrs.onClick]),\n      onMouseenter: mergeEventHandlers([handleMouseEnter, attrs === null || attrs === void 0 ? void 0 : attrs.onMouseenter]),\n      onMousemove: mergeEventHandlers([handleMouseMove, attrs === null || attrs === void 0 ? void 0 : attrs.onMousemove])\n    }), h(\"div\", {\n      class: `${clsPrefix}-base-select-option__content`\n    }, children));\n    return rawNode.render ? rawNode.render({\n      node,\n      option: rawNode,\n      selected: isSelected\n    }) : renderOption ? renderOption({\n      node,\n      option: rawNode,\n      selected: isSelected\n    }) : node;\n  }\n});","import { fadeInScaleUpTransition } from \"../../../../_styles/transitions/fade-in-scale-up.cssr.mjs\";\nimport { c, cB, cE, cM, cNotM } from \"../../../../_utils/cssr/index.mjs\";\n// --n-loading-color\n// --n-loading-size\n// --n-option-padding-right\nexport default cB('base-select-menu', `\n line-height: 1.5;\n outline: none;\n z-index: 0;\n position: relative;\n border-radius: var(--n-border-radius);\n transition:\n background-color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n background-color: var(--n-color);\n`, [cB('scrollbar', `\n max-height: var(--n-height);\n `), cB('virtual-list', `\n max-height: var(--n-height);\n `), cB('base-select-option', `\n min-height: var(--n-option-height);\n font-size: var(--n-option-font-size);\n display: flex;\n align-items: center;\n `, [cE('content', `\n z-index: 1;\n white-space: nowrap;\n text-overflow: ellipsis;\n overflow: hidden;\n `)]), cB('base-select-group-header', `\n min-height: var(--n-option-height);\n font-size: .93em;\n display: flex;\n align-items: center;\n `), cB('base-select-menu-option-wrapper', `\n position: relative;\n width: 100%;\n `), cE('loading, empty', `\n display: flex;\n padding: 12px 32px;\n flex: 1;\n justify-content: center;\n `), cE('loading', `\n color: var(--n-loading-color);\n font-size: var(--n-loading-size);\n `), cE('header', `\n padding: 8px var(--n-option-padding-left);\n font-size: var(--n-option-font-size);\n transition: \n color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n border-bottom: 1px solid var(--n-action-divider-color);\n color: var(--n-action-text-color);\n `), cE('action', `\n padding: 8px var(--n-option-padding-left);\n font-size: var(--n-option-font-size);\n transition: \n color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n border-top: 1px solid var(--n-action-divider-color);\n color: var(--n-action-text-color);\n `), cB('base-select-group-header', `\n position: relative;\n cursor: default;\n padding: var(--n-option-padding);\n color: var(--n-group-header-text-color);\n `), cB('base-select-option', `\n cursor: pointer;\n position: relative;\n padding: var(--n-option-padding);\n transition:\n color .3s var(--n-bezier),\n opacity .3s var(--n-bezier);\n box-sizing: border-box;\n color: var(--n-option-text-color);\n opacity: 1;\n `, [cM('show-checkmark', `\n padding-right: calc(var(--n-option-padding-right) + 20px);\n `), c('&::before', `\n content: \"\";\n position: absolute;\n left: 4px;\n right: 4px;\n top: 0;\n bottom: 0;\n border-radius: var(--n-border-radius);\n transition: background-color .3s var(--n-bezier);\n `), c('&:active', `\n color: var(--n-option-text-color-pressed);\n `), cM('grouped', `\n padding-left: calc(var(--n-option-padding-left) * 1.5);\n `), cM('pending', [c('&::before', `\n background-color: var(--n-option-color-pending);\n `)]), cM('selected', `\n color: var(--n-option-text-color-active);\n `, [c('&::before', `\n background-color: var(--n-option-color-active);\n `), cM('pending', [c('&::before', `\n background-color: var(--n-option-color-active-pending);\n `)])]), cM('disabled', `\n cursor: not-allowed;\n `, [cNotM('selected', `\n color: var(--n-option-text-color-disabled);\n `), cM('selected', `\n opacity: var(--n-option-opacity-disabled);\n `)]), cE('check', `\n font-size: 16px;\n position: absolute;\n right: calc(var(--n-option-padding-right) - 4px);\n top: calc(50% - 7px);\n color: var(--n-option-check-color);\n transition: color .3s var(--n-bezier);\n `, [fadeInScaleUpTransition({\n  enterScale: '0.5'\n})])])]);","import { depx, getPadding, happensIn } from 'seemly';\nimport { createIndexGetter } from 'treemate';\nimport { computed, defineComponent, h, nextTick, onBeforeUnmount, onMounted, provide, ref, toRef, watch } from 'vue';\nimport { VirtualList } from 'vueuc';\nimport { useConfig, useRtl, useTheme, useThemeClass } from \"../../../_mixins/index.mjs\";\nimport { resolveSlot, resolveWrappedSlot, useOnResize } from \"../../../_utils/index.mjs\";\nimport { createKey } from \"../../../_utils/cssr/index.mjs\";\nimport { NEmpty } from \"../../../empty/index.mjs\";\nimport NFocusDetector from \"../../focus-detector/index.mjs\";\nimport NInternalLoading from \"../../loading/index.mjs\";\nimport { NScrollbar } from \"../../scrollbar/index.mjs\";\nimport { internalSelectMenuLight } from \"../styles/index.mjs\";\nimport { internalSelectionMenuBodyInjectionKey, internalSelectionMenuInjectionKey } from \"./interface.mjs\";\nimport NSelectGroupHeader from \"./SelectGroupHeader.mjs\";\nimport NSelectOption from \"./SelectOption.mjs\";\nimport style from \"./styles/index.cssr.mjs\";\nexport default defineComponent({\n  name: 'InternalSelectMenu',\n  props: Object.assign(Object.assign({}, useTheme.props), {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    scrollable: {\n      type: Boolean,\n      default: true\n    },\n    treeMate: {\n      type: Object,\n      required: true\n    },\n    multiple: Boolean,\n    size: {\n      type: String,\n      default: 'medium'\n    },\n    value: {\n      type: [String, Number, Array],\n      default: null\n    },\n    autoPending: Boolean,\n    virtualScroll: {\n      type: Boolean,\n      default: true\n    },\n    // show is used to toggle pending state initialization\n    show: {\n      type: Boolean,\n      default: true\n    },\n    labelField: {\n      type: String,\n      default: 'label'\n    },\n    valueField: {\n      type: String,\n      default: 'value'\n    },\n    loading: Boolean,\n    focusable: Boolean,\n    renderLabel: Function,\n    renderOption: Function,\n    nodeProps: Function,\n    showCheckmark: {\n      type: Boolean,\n      default: true\n    },\n    onMousedown: Function,\n    onScroll: Function,\n    onFocus: Function,\n    onBlur: Function,\n    onKeyup: Function,\n    onKeydown: Function,\n    onTabOut: Function,\n    onMouseenter: Function,\n    onMouseleave: Function,\n    onResize: Function,\n    resetMenuOnOptionsChange: {\n      type: Boolean,\n      default: true\n    },\n    inlineThemeDisabled: Boolean,\n    // deprecated\n    onToggle: Function\n  }),\n  setup(props) {\n    const {\n      mergedClsPrefixRef,\n      mergedRtlRef\n    } = useConfig(props);\n    const rtlEnabledRef = useRtl('InternalSelectMenu', mergedRtlRef, mergedClsPrefixRef);\n    const themeRef = useTheme('InternalSelectMenu', '-internal-select-menu', style, internalSelectMenuLight, props, toRef(props, 'clsPrefix'));\n    const selfRef = ref(null);\n    const virtualListRef = ref(null);\n    const scrollbarRef = ref(null);\n    const flattenedNodesRef = computed(() => props.treeMate.getFlattenedNodes());\n    const fIndexGetterRef = computed(() => createIndexGetter(flattenedNodesRef.value));\n    const pendingNodeRef = ref(null);\n    function initPendingNode() {\n      const {\n        treeMate\n      } = props;\n      let defaultPendingNode = null;\n      const {\n        value\n      } = props;\n      if (value === null) {\n        defaultPendingNode = treeMate.getFirstAvailableNode();\n      } else {\n        if (props.multiple) {\n          defaultPendingNode = treeMate.getNode((value || [])[(value || []).length - 1]);\n        } else {\n          defaultPendingNode = treeMate.getNode(value);\n        }\n        if (!defaultPendingNode || defaultPendingNode.disabled) {\n          defaultPendingNode = treeMate.getFirstAvailableNode();\n        }\n      }\n      if (defaultPendingNode) {\n        setPendingTmNode(defaultPendingNode);\n      } else {\n        setPendingTmNode(null);\n      }\n    }\n    function clearPendingNodeIfInvalid() {\n      const {\n        value: pendingNode\n      } = pendingNodeRef;\n      if (pendingNode && !props.treeMate.getNode(pendingNode.key)) {\n        pendingNodeRef.value = null;\n      }\n    }\n    let initPendingNodeWatchStopHandle;\n    watch(() => props.show, show => {\n      if (show) {\n        initPendingNodeWatchStopHandle = watch(() => props.treeMate, () => {\n          if (props.resetMenuOnOptionsChange) {\n            if (props.autoPending) {\n              initPendingNode();\n            } else {\n              clearPendingNodeIfInvalid();\n            }\n            void nextTick(scrollToPendingNode);\n          } else {\n            clearPendingNodeIfInvalid();\n          }\n        }, {\n          immediate: true\n        });\n      } else {\n        initPendingNodeWatchStopHandle === null || initPendingNodeWatchStopHandle === void 0 ? void 0 : initPendingNodeWatchStopHandle();\n      }\n    }, {\n      immediate: true\n    });\n    onBeforeUnmount(() => {\n      initPendingNodeWatchStopHandle === null || initPendingNodeWatchStopHandle === void 0 ? void 0 : initPendingNodeWatchStopHandle();\n    });\n    const itemSizeRef = computed(() => {\n      return depx(themeRef.value.self[createKey('optionHeight', props.size)]);\n    });\n    const paddingRef = computed(() => {\n      return getPadding(themeRef.value.self[createKey('padding', props.size)]);\n    });\n    const valueSetRef = computed(() => {\n      if (props.multiple && Array.isArray(props.value)) {\n        return new Set(props.value);\n      }\n      return new Set();\n    });\n    const emptyRef = computed(() => {\n      const tmNodes = flattenedNodesRef.value;\n      return tmNodes && tmNodes.length === 0;\n    });\n    function doToggle(tmNode) {\n      const {\n        onToggle\n      } = props;\n      if (onToggle) onToggle(tmNode);\n    }\n    function doScroll(e) {\n      const {\n        onScroll\n      } = props;\n      if (onScroll) onScroll(e);\n    }\n    // required, scroller sync need to be triggered manually\n    function handleVirtualListScroll(e) {\n      var _a;\n      (_a = scrollbarRef.value) === null || _a === void 0 ? void 0 : _a.sync();\n      doScroll(e);\n    }\n    function handleVirtualListResize() {\n      var _a;\n      (_a = scrollbarRef.value) === null || _a === void 0 ? void 0 : _a.sync();\n    }\n    function getPendingTmNode() {\n      const {\n        value: pendingTmNode\n      } = pendingNodeRef;\n      if (pendingTmNode) return pendingTmNode;\n      return null;\n    }\n    function handleOptionMouseEnter(e, tmNode) {\n      if (tmNode.disabled) return;\n      setPendingTmNode(tmNode, false);\n    }\n    function handleOptionClick(e, tmNode) {\n      if (tmNode.disabled) return;\n      doToggle(tmNode);\n    }\n    // keyboard related methods\n    function handleKeyUp(e) {\n      var _a;\n      if (happensIn(e, 'action')) return;\n      (_a = props.onKeyup) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    }\n    function handleKeyDown(e) {\n      var _a;\n      if (happensIn(e, 'action')) return;\n      (_a = props.onKeydown) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    }\n    function handleMouseDown(e) {\n      var _a;\n      (_a = props.onMousedown) === null || _a === void 0 ? void 0 : _a.call(props, e);\n      if (props.focusable) return;\n      e.preventDefault();\n    }\n    function next() {\n      const {\n        value: pendingTmNode\n      } = pendingNodeRef;\n      if (pendingTmNode) {\n        setPendingTmNode(pendingTmNode.getNext({\n          loop: true\n        }), true);\n      }\n    }\n    function prev() {\n      const {\n        value: pendingTmNode\n      } = pendingNodeRef;\n      if (pendingTmNode) {\n        setPendingTmNode(pendingTmNode.getPrev({\n          loop: true\n        }), true);\n      }\n    }\n    function setPendingTmNode(tmNode, doScroll = false) {\n      pendingNodeRef.value = tmNode;\n      if (doScroll) scrollToPendingNode();\n    }\n    function scrollToPendingNode() {\n      var _a, _b;\n      const tmNode = pendingNodeRef.value;\n      if (!tmNode) return;\n      const fIndex = fIndexGetterRef.value(tmNode.key);\n      if (fIndex === null) return;\n      if (props.virtualScroll) {\n        (_a = virtualListRef.value) === null || _a === void 0 ? void 0 : _a.scrollTo({\n          index: fIndex\n        });\n      } else {\n        (_b = scrollbarRef.value) === null || _b === void 0 ? void 0 : _b.scrollTo({\n          index: fIndex,\n          elSize: itemSizeRef.value\n        });\n      }\n    }\n    function handleFocusin(e) {\n      var _a, _b;\n      if ((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.target)) {\n        (_b = props.onFocus) === null || _b === void 0 ? void 0 : _b.call(props, e);\n      }\n    }\n    function handleFocusout(e) {\n      var _a, _b;\n      if (!((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget))) {\n        (_b = props.onBlur) === null || _b === void 0 ? void 0 : _b.call(props, e);\n      }\n    }\n    provide(internalSelectionMenuInjectionKey, {\n      handleOptionMouseEnter,\n      handleOptionClick,\n      valueSetRef,\n      pendingTmNodeRef: pendingNodeRef,\n      nodePropsRef: toRef(props, 'nodeProps'),\n      showCheckmarkRef: toRef(props, 'showCheckmark'),\n      multipleRef: toRef(props, 'multiple'),\n      valueRef: toRef(props, 'value'),\n      renderLabelRef: toRef(props, 'renderLabel'),\n      renderOptionRef: toRef(props, 'renderOption'),\n      labelFieldRef: toRef(props, 'labelField'),\n      valueFieldRef: toRef(props, 'valueField')\n    });\n    provide(internalSelectionMenuBodyInjectionKey, selfRef);\n    onMounted(() => {\n      const {\n        value\n      } = scrollbarRef;\n      if (value) value.sync();\n    });\n    const cssVarsRef = computed(() => {\n      const {\n        size\n      } = props;\n      const {\n        common: {\n          cubicBezierEaseInOut\n        },\n        self: {\n          height,\n          borderRadius,\n          color,\n          groupHeaderTextColor,\n          actionDividerColor,\n          optionTextColorPressed,\n          optionTextColor,\n          optionTextColorDisabled,\n          optionTextColorActive,\n          optionOpacityDisabled,\n          optionCheckColor,\n          actionTextColor,\n          optionColorPending,\n          optionColorActive,\n          loadingColor,\n          loadingSize,\n          optionColorActivePending,\n          [createKey('optionFontSize', size)]: fontSize,\n          [createKey('optionHeight', size)]: optionHeight,\n          [createKey('optionPadding', size)]: optionPadding\n        }\n      } = themeRef.value;\n      return {\n        '--n-height': height,\n        '--n-action-divider-color': actionDividerColor,\n        '--n-action-text-color': actionTextColor,\n        '--n-bezier': cubicBezierEaseInOut,\n        '--n-border-radius': borderRadius,\n        '--n-color': color,\n        '--n-option-font-size': fontSize,\n        '--n-group-header-text-color': groupHeaderTextColor,\n        '--n-option-check-color': optionCheckColor,\n        '--n-option-color-pending': optionColorPending,\n        '--n-option-color-active': optionColorActive,\n        '--n-option-color-active-pending': optionColorActivePending,\n        '--n-option-height': optionHeight,\n        '--n-option-opacity-disabled': optionOpacityDisabled,\n        '--n-option-text-color': optionTextColor,\n        '--n-option-text-color-active': optionTextColorActive,\n        '--n-option-text-color-disabled': optionTextColorDisabled,\n        '--n-option-text-color-pressed': optionTextColorPressed,\n        '--n-option-padding': optionPadding,\n        '--n-option-padding-left': getPadding(optionPadding, 'left'),\n        '--n-option-padding-right': getPadding(optionPadding, 'right'),\n        '--n-loading-color': loadingColor,\n        '--n-loading-size': loadingSize\n      };\n    });\n    const {\n      inlineThemeDisabled\n    } = props;\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('internal-select-menu', computed(() => props.size[0]), cssVarsRef, props) : undefined;\n    const exposedProps = {\n      selfRef,\n      next,\n      prev,\n      getPendingTmNode\n    };\n    useOnResize(selfRef, props.onResize);\n    return Object.assign({\n      mergedTheme: themeRef,\n      mergedClsPrefix: mergedClsPrefixRef,\n      rtlEnabled: rtlEnabledRef,\n      virtualListRef,\n      scrollbarRef,\n      itemSize: itemSizeRef,\n      padding: paddingRef,\n      flattenedNodes: flattenedNodesRef,\n      empty: emptyRef,\n      virtualListContainer() {\n        const {\n          value\n        } = virtualListRef;\n        return value === null || value === void 0 ? void 0 : value.listElRef;\n      },\n      virtualListContent() {\n        const {\n          value\n        } = virtualListRef;\n        return value === null || value === void 0 ? void 0 : value.itemsElRef;\n      },\n      doScroll,\n      handleFocusin,\n      handleFocusout,\n      handleKeyUp,\n      handleKeyDown,\n      handleMouseDown,\n      handleVirtualListResize,\n      handleVirtualListScroll,\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    }, exposedProps);\n  },\n  render() {\n    const {\n      $slots,\n      virtualScroll,\n      clsPrefix,\n      mergedTheme,\n      themeClass,\n      onRender\n    } = this;\n    onRender === null || onRender === void 0 ? void 0 : onRender();\n    return h(\"div\", {\n      ref: \"selfRef\",\n      tabindex: this.focusable ? 0 : -1,\n      class: [`${clsPrefix}-base-select-menu`, this.rtlEnabled && `${clsPrefix}-base-select-menu--rtl`, themeClass, this.multiple && `${clsPrefix}-base-select-menu--multiple`],\n      style: this.cssVars,\n      onFocusin: this.handleFocusin,\n      onFocusout: this.handleFocusout,\n      onKeyup: this.handleKeyUp,\n      onKeydown: this.handleKeyDown,\n      onMousedown: this.handleMouseDown,\n      onMouseenter: this.onMouseenter,\n      onMouseleave: this.onMouseleave\n    }, resolveWrappedSlot($slots.header, children => children && h(\"div\", {\n      class: `${clsPrefix}-base-select-menu__header`,\n      \"data-header\": true,\n      key: \"header\"\n    }, children)), this.loading ? h(\"div\", {\n      class: `${clsPrefix}-base-select-menu__loading`\n    }, h(NInternalLoading, {\n      clsPrefix: clsPrefix,\n      strokeWidth: 20\n    })) : !this.empty ? h(NScrollbar, {\n      ref: \"scrollbarRef\",\n      theme: mergedTheme.peers.Scrollbar,\n      themeOverrides: mergedTheme.peerOverrides.Scrollbar,\n      scrollable: this.scrollable,\n      container: virtualScroll ? this.virtualListContainer : undefined,\n      content: virtualScroll ? this.virtualListContent : undefined,\n      onScroll: virtualScroll ? undefined : this.doScroll\n    }, {\n      default: () => {\n        return virtualScroll ? h(VirtualList, {\n          ref: \"virtualListRef\",\n          class: `${clsPrefix}-virtual-list`,\n          items: this.flattenedNodes,\n          itemSize: this.itemSize,\n          showScrollbar: false,\n          paddingTop: this.padding.top,\n          paddingBottom: this.padding.bottom,\n          onResize: this.handleVirtualListResize,\n          onScroll: this.handleVirtualListScroll,\n          itemResizable: true\n        }, {\n          default: ({\n            item: tmNode\n          }) => {\n            return tmNode.isGroup ? h(NSelectGroupHeader, {\n              key: tmNode.key,\n              clsPrefix: clsPrefix,\n              tmNode: tmNode\n            }) : tmNode.ignored ? null : h(NSelectOption, {\n              clsPrefix: clsPrefix,\n              key: tmNode.key,\n              tmNode: tmNode\n            });\n          }\n        }) : h(\"div\", {\n          class: `${clsPrefix}-base-select-menu-option-wrapper`,\n          style: {\n            paddingTop: this.padding.top,\n            paddingBottom: this.padding.bottom\n          }\n        }, this.flattenedNodes.map(tmNode => tmNode.isGroup ? h(NSelectGroupHeader, {\n          key: tmNode.key,\n          clsPrefix: clsPrefix,\n          tmNode: tmNode\n        }) : h(NSelectOption, {\n          clsPrefix: clsPrefix,\n          key: tmNode.key,\n          tmNode: tmNode\n        })));\n      }\n    }) : h(\"div\", {\n      class: `${clsPrefix}-base-select-menu__empty`,\n      \"data-empty\": true\n    }, resolveSlot($slots.empty, () => [h(NEmpty, {\n      theme: mergedTheme.peers.Empty,\n      themeOverrides: mergedTheme.peerOverrides.Empty,\n      size: this.size\n    })])), resolveWrappedSlot($slots.action, children => children && [h(\"div\", {\n      class: `${clsPrefix}-base-select-menu__action`,\n      \"data-action\": true,\n      key: \"action\"\n    }, children), h(NFocusDetector, {\n      onFocus: this.onTabOut,\n      key: \"focus-detector\"\n    })]));\n  }\n});","import { changeColor } from 'seemly';\nimport { commonLight } from \"../../_styles/common/index.mjs\";\nimport commonVariables from \"./_common.mjs\";\nfunction self(vars) {\n  const {\n    textColor2,\n    primaryColorHover,\n    primaryColorPressed,\n    primaryColor,\n    infoColor,\n    successColor,\n    warningColor,\n    errorColor,\n    baseColor,\n    borderColor,\n    opacityDisabled,\n    tagColor,\n    closeIconColor,\n    closeIconColorHover,\n    closeIconColorPressed,\n    borderRadiusSmall: borderRadius,\n    fontSizeMini,\n    fontSizeTiny,\n    fontSizeSmall,\n    fontSizeMedium,\n    heightMini,\n    heightTiny,\n    heightSmall,\n    heightMedium,\n    closeColorHover,\n    closeColorPressed,\n    buttonColor2Hover,\n    buttonColor2Pressed,\n    fontWeightStrong\n  } = vars;\n  return Object.assign(Object.assign({}, commonVariables), {\n    closeBorderRadius: borderRadius,\n    heightTiny: heightMini,\n    heightSmall: heightTiny,\n    heightMedium: heightSmall,\n    heightLarge: heightMedium,\n    borderRadius,\n    opacityDisabled,\n    fontSizeTiny: fontSizeMini,\n    fontSizeSmall: fontSizeTiny,\n    fontSizeMedium: fontSizeSmall,\n    fontSizeLarge: fontSizeMedium,\n    fontWeightStrong,\n    // checked\n    textColorCheckable: textColor2,\n    textColorHoverCheckable: textColor2,\n    textColorPressedCheckable: textColor2,\n    textColorChecked: baseColor,\n    colorCheckable: '#0000',\n    colorHoverCheckable: buttonColor2Hover,\n    colorPressedCheckable: buttonColor2Pressed,\n    colorChecked: primaryColor,\n    colorCheckedHover: primaryColorHover,\n    colorCheckedPressed: primaryColorPressed,\n    // default\n    border: `1px solid ${borderColor}`,\n    textColor: textColor2,\n    color: tagColor,\n    colorBordered: 'rgb(250, 250, 252)',\n    closeIconColor,\n    closeIconColorHover,\n    closeIconColorPressed,\n    closeColorHover,\n    closeColorPressed,\n    borderPrimary: `1px solid ${changeColor(primaryColor, {\n      alpha: 0.3\n    })}`,\n    textColorPrimary: primaryColor,\n    colorPrimary: changeColor(primaryColor, {\n      alpha: 0.12\n    }),\n    colorBorderedPrimary: changeColor(primaryColor, {\n      alpha: 0.1\n    }),\n    closeIconColorPrimary: primaryColor,\n    closeIconColorHoverPrimary: primaryColor,\n    closeIconColorPressedPrimary: primaryColor,\n    closeColorHoverPrimary: changeColor(primaryColor, {\n      alpha: 0.12\n    }),\n    closeColorPressedPrimary: changeColor(primaryColor, {\n      alpha: 0.18\n    }),\n    borderInfo: `1px solid ${changeColor(infoColor, {\n      alpha: 0.3\n    })}`,\n    textColorInfo: infoColor,\n    colorInfo: changeColor(infoColor, {\n      alpha: 0.12\n    }),\n    colorBorderedInfo: changeColor(infoColor, {\n      alpha: 0.1\n    }),\n    closeIconColorInfo: infoColor,\n    closeIconColorHoverInfo: infoColor,\n    closeIconColorPressedInfo: infoColor,\n    closeColorHoverInfo: changeColor(infoColor, {\n      alpha: 0.12\n    }),\n    closeColorPressedInfo: changeColor(infoColor, {\n      alpha: 0.18\n    }),\n    borderSuccess: `1px solid ${changeColor(successColor, {\n      alpha: 0.3\n    })}`,\n    textColorSuccess: successColor,\n    colorSuccess: changeColor(successColor, {\n      alpha: 0.12\n    }),\n    colorBorderedSuccess: changeColor(successColor, {\n      alpha: 0.1\n    }),\n    closeIconColorSuccess: successColor,\n    closeIconColorHoverSuccess: successColor,\n    closeIconColorPressedSuccess: successColor,\n    closeColorHoverSuccess: changeColor(successColor, {\n      alpha: 0.12\n    }),\n    closeColorPressedSuccess: changeColor(successColor, {\n      alpha: 0.18\n    }),\n    borderWarning: `1px solid ${changeColor(warningColor, {\n      alpha: 0.35\n    })}`,\n    textColorWarning: warningColor,\n    colorWarning: changeColor(warningColor, {\n      alpha: 0.15\n    }),\n    colorBorderedWarning: changeColor(warningColor, {\n      alpha: 0.12\n    }),\n    closeIconColorWarning: warningColor,\n    closeIconColorHoverWarning: warningColor,\n    closeIconColorPressedWarning: warningColor,\n    closeColorHoverWarning: changeColor(warningColor, {\n      alpha: 0.12\n    }),\n    closeColorPressedWarning: changeColor(warningColor, {\n      alpha: 0.18\n    }),\n    borderError: `1px solid ${changeColor(errorColor, {\n      alpha: 0.23\n    })}`,\n    textColorError: errorColor,\n    colorError: changeColor(errorColor, {\n      alpha: 0.1\n    }),\n    colorBorderedError: changeColor(errorColor, {\n      alpha: 0.08\n    }),\n    closeIconColorError: errorColor,\n    closeIconColorHoverError: errorColor,\n    closeIconColorPressedError: errorColor,\n    closeColorHoverError: changeColor(errorColor, {\n      alpha: 0.12\n    }),\n    closeColorPressedError: changeColor(errorColor, {\n      alpha: 0.18\n    })\n  });\n}\nconst tagLight = {\n  name: 'Tag',\n  common: commonLight,\n  self\n};\nexport default tagLight;","export default {\n  color: Object,\n  type: {\n    type: String,\n    default: 'default'\n  },\n  round: Boolean,\n  size: {\n    type: String,\n    default: 'medium'\n  },\n  closable: Boolean,\n  disabled: {\n    type: Boolean,\n    default: undefined\n  }\n};","import { c, cB, cE, cM, cNotM } from \"../../../_utils/cssr/index.mjs\";\n// vars:\n// --n-bezier\n// --n-border-radius\n// --n-border\n// --n-close-icon-color\n// --n-close-icon-color-hover\n// --n-close-icon-color-pressed\n// --n-close-margin\n// --n-close-size\n// --n-color\n// --n-color-checkable\n// --n-color-checked\n// --n-color-checked-hover\n// --n-color-checked-pressed\n// --n-color-hover-checkable\n// --n-color-pressed-checkable\n// --n-font-size\n// --n-height\n// --n-opacity-disabled\n// --n-padding\n// --n-text-color\n// --n-text-color-checkable\n// --n-text-color-checked\n// --n-text-color-hover-checkable\n// --n-text-color-pressed-checkable\n// --n-font-weight-strong\nexport default cB('tag', `\n --n-close-margin: var(--n-close-margin-top) var(--n-close-margin-right) var(--n-close-margin-bottom) var(--n-close-margin-left);\n white-space: nowrap;\n position: relative;\n box-sizing: border-box;\n cursor: default;\n display: inline-flex;\n align-items: center;\n flex-wrap: nowrap;\n padding: var(--n-padding);\n border-radius: var(--n-border-radius);\n color: var(--n-text-color);\n background-color: var(--n-color);\n transition: \n border-color .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n opacity .3s var(--n-bezier);\n line-height: 1;\n height: var(--n-height);\n font-size: var(--n-font-size);\n`, [cM('strong', `\n font-weight: var(--n-font-weight-strong);\n `), cE('border', `\n pointer-events: none;\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n border-radius: inherit;\n border: var(--n-border);\n transition: border-color .3s var(--n-bezier);\n `), cE('icon', `\n display: flex;\n margin: 0 4px 0 0;\n color: var(--n-text-color);\n transition: color .3s var(--n-bezier);\n font-size: var(--n-avatar-size-override);\n `), cE('avatar', `\n display: flex;\n margin: 0 6px 0 0;\n `), cE('close', `\n margin: var(--n-close-margin);\n transition:\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n `), cM('round', `\n padding: 0 calc(var(--n-height) / 3);\n border-radius: calc(var(--n-height) / 2);\n `, [cE('icon', `\n margin: 0 4px 0 calc((var(--n-height) - 8px) / -2);\n `), cE('avatar', `\n margin: 0 6px 0 calc((var(--n-height) - 8px) / -2);\n `), cM('closable', `\n padding: 0 calc(var(--n-height) / 4) 0 calc(var(--n-height) / 3);\n `)]), cM('icon, avatar', [cM('round', `\n padding: 0 calc(var(--n-height) / 3) 0 calc(var(--n-height) / 2);\n `)]), cM('disabled', `\n cursor: not-allowed !important;\n opacity: var(--n-opacity-disabled);\n `), cM('checkable', `\n cursor: pointer;\n box-shadow: none;\n color: var(--n-text-color-checkable);\n background-color: var(--n-color-checkable);\n `, [cNotM('disabled', [c('&:hover', 'background-color: var(--n-color-hover-checkable);', [cNotM('checked', 'color: var(--n-text-color-hover-checkable);')]), c('&:active', 'background-color: var(--n-color-pressed-checkable);', [cNotM('checked', 'color: var(--n-text-color-pressed-checkable);')])]), cM('checked', `\n color: var(--n-text-color-checked);\n background-color: var(--n-color-checked);\n `, [cNotM('disabled', [c('&:hover', 'background-color: var(--n-color-checked-hover);'), c('&:active', 'background-color: var(--n-color-checked-pressed);')])])])]);","import { getMargin } from 'seemly';\nimport { computed, defineComponent, h, provide, ref, toRef, watchEffect } from 'vue';\nimport { NBaseClose } from \"../../_internal/close/index.mjs\";\nimport { useConfig, useTheme, useThemeClass } from \"../../_mixins/index.mjs\";\nimport { useRtl } from \"../../_mixins/use-rtl.mjs\";\nimport { call, color2Class, createInjectionKey, createKey, resolveWrappedSlot, warnOnce } from \"../../_utils/index.mjs\";\nimport { tagLight } from \"../styles/index.mjs\";\nimport commonProps from \"./common-props.mjs\";\nimport style from \"./styles/index.cssr.mjs\";\nexport const tagProps = Object.assign(Object.assign(Object.assign({}, useTheme.props), commonProps), {\n  bordered: {\n    type: Boolean,\n    default: undefined\n  },\n  checked: Boolean,\n  checkable: Boolean,\n  strong: Boolean,\n  triggerClickOnClose: Boolean,\n  onClose: [Array, Function],\n  onMouseenter: Function,\n  onMouseleave: Function,\n  'onUpdate:checked': Function,\n  onUpdateChecked: Function,\n  // private\n  internalCloseFocusable: {\n    type: Boolean,\n    default: true\n  },\n  internalCloseIsButtonTag: {\n    type: Boolean,\n    default: true\n  },\n  // deprecated\n  onCheckedChange: Function\n});\nexport const tagInjectionKey = createInjectionKey('n-tag');\nexport default defineComponent({\n  name: 'Tag',\n  props: tagProps,\n  slots: Object,\n  setup(props) {\n    if (process.env.NODE_ENV !== 'production') {\n      watchEffect(() => {\n        if (props.onCheckedChange !== undefined) {\n          warnOnce('tag', '`on-checked-change` is deprecated, please use `on-update:checked` instead');\n        }\n      });\n    }\n    const contentRef = ref(null);\n    const {\n      mergedBorderedRef,\n      mergedClsPrefixRef,\n      inlineThemeDisabled,\n      mergedRtlRef\n    } = useConfig(props);\n    const themeRef = useTheme('Tag', '-tag', style, tagLight, props, mergedClsPrefixRef);\n    provide(tagInjectionKey, {\n      roundRef: toRef(props, 'round')\n    });\n    function handleClick() {\n      if (!props.disabled) {\n        if (props.checkable) {\n          const {\n            checked,\n            onCheckedChange,\n            onUpdateChecked,\n            'onUpdate:checked': _onUpdateChecked\n          } = props;\n          if (onUpdateChecked) onUpdateChecked(!checked);\n          if (_onUpdateChecked) _onUpdateChecked(!checked);\n          // deprecated\n          if (onCheckedChange) onCheckedChange(!checked);\n        }\n      }\n    }\n    function handleCloseClick(e) {\n      if (!props.triggerClickOnClose) {\n        e.stopPropagation();\n      }\n      if (!props.disabled) {\n        const {\n          onClose\n        } = props;\n        if (onClose) call(onClose, e);\n      }\n    }\n    const tagPublicMethods = {\n      setTextContent(textContent) {\n        const {\n          value\n        } = contentRef;\n        if (value) value.textContent = textContent;\n      }\n    };\n    const rtlEnabledRef = useRtl('Tag', mergedRtlRef, mergedClsPrefixRef);\n    const cssVarsRef = computed(() => {\n      const {\n        type,\n        size,\n        color: {\n          color,\n          textColor\n        } = {}\n      } = props;\n      const {\n        common: {\n          cubicBezierEaseInOut\n        },\n        self: {\n          padding,\n          closeMargin,\n          borderRadius,\n          opacityDisabled,\n          textColorCheckable,\n          textColorHoverCheckable,\n          textColorPressedCheckable,\n          textColorChecked,\n          colorCheckable,\n          colorHoverCheckable,\n          colorPressedCheckable,\n          colorChecked,\n          colorCheckedHover,\n          colorCheckedPressed,\n          closeBorderRadius,\n          fontWeightStrong,\n          [createKey('colorBordered', type)]: colorBordered,\n          [createKey('closeSize', size)]: closeSize,\n          [createKey('closeIconSize', size)]: closeIconSize,\n          [createKey('fontSize', size)]: fontSize,\n          [createKey('height', size)]: height,\n          [createKey('color', type)]: typedColor,\n          [createKey('textColor', type)]: typeTextColor,\n          [createKey('border', type)]: border,\n          [createKey('closeIconColor', type)]: closeIconColor,\n          [createKey('closeIconColorHover', type)]: closeIconColorHover,\n          [createKey('closeIconColorPressed', type)]: closeIconColorPressed,\n          [createKey('closeColorHover', type)]: closeColorHover,\n          [createKey('closeColorPressed', type)]: closeColorPressed\n        }\n      } = themeRef.value;\n      const closeMarginDiscrete = getMargin(closeMargin);\n      return {\n        '--n-font-weight-strong': fontWeightStrong,\n        '--n-avatar-size-override': `calc(${height} - 8px)`,\n        '--n-bezier': cubicBezierEaseInOut,\n        '--n-border-radius': borderRadius,\n        '--n-border': border,\n        '--n-close-icon-size': closeIconSize,\n        '--n-close-color-pressed': closeColorPressed,\n        '--n-close-color-hover': closeColorHover,\n        '--n-close-border-radius': closeBorderRadius,\n        '--n-close-icon-color': closeIconColor,\n        '--n-close-icon-color-hover': closeIconColorHover,\n        '--n-close-icon-color-pressed': closeIconColorPressed,\n        '--n-close-icon-color-disabled': closeIconColor,\n        '--n-close-margin-top': closeMarginDiscrete.top,\n        '--n-close-margin-right': closeMarginDiscrete.right,\n        '--n-close-margin-bottom': closeMarginDiscrete.bottom,\n        '--n-close-margin-left': closeMarginDiscrete.left,\n        '--n-close-size': closeSize,\n        '--n-color': color || (mergedBorderedRef.value ? colorBordered : typedColor),\n        '--n-color-checkable': colorCheckable,\n        '--n-color-checked': colorChecked,\n        '--n-color-checked-hover': colorCheckedHover,\n        '--n-color-checked-pressed': colorCheckedPressed,\n        '--n-color-hover-checkable': colorHoverCheckable,\n        '--n-color-pressed-checkable': colorPressedCheckable,\n        '--n-font-size': fontSize,\n        '--n-height': height,\n        '--n-opacity-disabled': opacityDisabled,\n        '--n-padding': padding,\n        '--n-text-color': textColor || typeTextColor,\n        '--n-text-color-checkable': textColorCheckable,\n        '--n-text-color-checked': textColorChecked,\n        '--n-text-color-hover-checkable': textColorHoverCheckable,\n        '--n-text-color-pressed-checkable': textColorPressedCheckable\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('tag', computed(() => {\n      let hash = '';\n      const {\n        type,\n        size,\n        color: {\n          color,\n          textColor\n        } = {}\n      } = props;\n      hash += type[0];\n      hash += size[0];\n      if (color) {\n        hash += `a${color2Class(color)}`;\n      }\n      if (textColor) {\n        hash += `b${color2Class(textColor)}`;\n      }\n      if (mergedBorderedRef.value) {\n        hash += 'c';\n      }\n      return hash;\n    }), cssVarsRef, props) : undefined;\n    return Object.assign(Object.assign({}, tagPublicMethods), {\n      rtlEnabled: rtlEnabledRef,\n      mergedClsPrefix: mergedClsPrefixRef,\n      contentRef,\n      mergedBordered: mergedBorderedRef,\n      handleClick,\n      handleCloseClick,\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    });\n  },\n  render() {\n    var _a, _b;\n    const {\n      mergedClsPrefix,\n      rtlEnabled,\n      closable,\n      color: {\n        borderColor\n      } = {},\n      round,\n      onRender,\n      $slots\n    } = this;\n    onRender === null || onRender === void 0 ? void 0 : onRender();\n    const avatarNode = resolveWrappedSlot($slots.avatar, children => children && h(\"div\", {\n      class: `${mergedClsPrefix}-tag__avatar`\n    }, children));\n    const iconNode = resolveWrappedSlot($slots.icon, children => children && h(\"div\", {\n      class: `${mergedClsPrefix}-tag__icon`\n    }, children));\n    return h(\"div\", {\n      class: [`${mergedClsPrefix}-tag`, this.themeClass, {\n        [`${mergedClsPrefix}-tag--rtl`]: rtlEnabled,\n        [`${mergedClsPrefix}-tag--strong`]: this.strong,\n        [`${mergedClsPrefix}-tag--disabled`]: this.disabled,\n        [`${mergedClsPrefix}-tag--checkable`]: this.checkable,\n        [`${mergedClsPrefix}-tag--checked`]: this.checkable && this.checked,\n        [`${mergedClsPrefix}-tag--round`]: round,\n        [`${mergedClsPrefix}-tag--avatar`]: avatarNode,\n        [`${mergedClsPrefix}-tag--icon`]: iconNode,\n        [`${mergedClsPrefix}-tag--closable`]: closable\n      }],\n      style: this.cssVars,\n      onClick: this.handleClick,\n      onMouseenter: this.onMouseenter,\n      onMouseleave: this.onMouseleave\n    }, iconNode || avatarNode, h(\"span\", {\n      class: `${mergedClsPrefix}-tag__content`,\n      ref: \"contentRef\"\n    }, (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 : _b.call(_a)), !this.checkable && closable ? h(NBaseClose, {\n      clsPrefix: mergedClsPrefix,\n      class: `${mergedClsPrefix}-tag__close`,\n      disabled: this.disabled,\n      onClick: this.handleCloseClick,\n      focusable: this.internalCloseFocusable,\n      round: round,\n      isButtonTag: this.internalCloseIsButtonTag,\n      absolute: true\n    }) : null, !this.checkable && this.mergedBordered ? h(\"div\", {\n      class: `${mergedClsPrefix}-tag__border`,\n      style: {\n        borderColor\n      }\n    }) : null);\n  }\n});","import { c, cB, cE, cM, cNotM } from \"../../../../_utils/cssr/index.mjs\";\n// vars:\n// --n-bezier\n// --n-border\n// --n-border-active\n// --n-border-focus\n// --n-border-hover\n// --n-border-radius\n// --n-box-shadow-active\n// --n-box-shadow-focus\n// --n-box-shadow-hover\n// --n-caret-color\n// --n-color\n// --n-color-active\n// --n-color-disabled\n// --n-font-size\n// --n-height\n// --n-padding-single\n// --n-padding-multiple\n// --n-placeholder-color\n// --n-placeholder-color-disabled\n// --n-text-color\n// --n-text-color-disabled\n// --n-arrow-color\n// --n-arrow-size\n// --n-loading-color\n// --n-font-weight\n// ...clear vars\n// ...form item vars\nexport default c([cB('base-selection', `\n --n-padding-single: var(--n-padding-single-top) var(--n-padding-single-right) var(--n-padding-single-bottom) var(--n-padding-single-left);\n --n-padding-multiple: var(--n-padding-multiple-top) var(--n-padding-multiple-right) var(--n-padding-multiple-bottom) var(--n-padding-multiple-left);\n position: relative;\n z-index: auto;\n box-shadow: none;\n width: 100%;\n max-width: 100%;\n display: inline-block;\n vertical-align: bottom;\n border-radius: var(--n-border-radius);\n min-height: var(--n-height);\n line-height: 1.5;\n font-size: var(--n-font-size);\n `, [cB('base-loading', `\n color: var(--n-loading-color);\n `), cB('base-selection-tags', 'min-height: var(--n-height);'), cE('border, state-border', `\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n pointer-events: none;\n border: var(--n-border);\n border-radius: inherit;\n transition:\n box-shadow .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n `), cE('state-border', `\n z-index: 1;\n border-color: #0000;\n `), cB('base-suffix', `\n cursor: pointer;\n position: absolute;\n top: 50%;\n transform: translateY(-50%);\n right: 10px;\n `, [cE('arrow', `\n font-size: var(--n-arrow-size);\n color: var(--n-arrow-color);\n transition: color .3s var(--n-bezier);\n `)]), cB('base-selection-overlay', `\n display: flex;\n align-items: center;\n white-space: nowrap;\n pointer-events: none;\n position: absolute;\n top: 0;\n right: 0;\n bottom: 0;\n left: 0;\n padding: var(--n-padding-single);\n transition: color .3s var(--n-bezier);\n `, [cE('wrapper', `\n flex-basis: 0;\n flex-grow: 1;\n overflow: hidden;\n text-overflow: ellipsis;\n `)]), cB('base-selection-placeholder', `\n color: var(--n-placeholder-color);\n `, [cE('inner', `\n max-width: 100%;\n overflow: hidden;\n `)]), cB('base-selection-tags', `\n cursor: pointer;\n outline: none;\n box-sizing: border-box;\n position: relative;\n z-index: auto;\n display: flex;\n padding: var(--n-padding-multiple);\n flex-wrap: wrap;\n align-items: center;\n width: 100%;\n vertical-align: bottom;\n background-color: var(--n-color);\n border-radius: inherit;\n transition:\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n `), cB('base-selection-label', `\n height: var(--n-height);\n display: inline-flex;\n width: 100%;\n vertical-align: bottom;\n cursor: pointer;\n outline: none;\n z-index: auto;\n box-sizing: border-box;\n position: relative;\n transition:\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n border-radius: inherit;\n background-color: var(--n-color);\n align-items: center;\n `, [cB('base-selection-input', `\n font-size: inherit;\n line-height: inherit;\n outline: none;\n cursor: pointer;\n box-sizing: border-box;\n border:none;\n width: 100%;\n padding: var(--n-padding-single);\n background-color: #0000;\n color: var(--n-text-color);\n transition: color .3s var(--n-bezier);\n caret-color: var(--n-caret-color);\n `, [cE('content', `\n text-overflow: ellipsis;\n overflow: hidden;\n white-space: nowrap; \n `)]), cE('render-label', `\n color: var(--n-text-color);\n `)]), cNotM('disabled', [c('&:hover', [cE('state-border', `\n box-shadow: var(--n-box-shadow-hover);\n border: var(--n-border-hover);\n `)]), cM('focus', [cE('state-border', `\n box-shadow: var(--n-box-shadow-focus);\n border: var(--n-border-focus);\n `)]), cM('active', [cE('state-border', `\n box-shadow: var(--n-box-shadow-active);\n border: var(--n-border-active);\n `), cB('base-selection-label', 'background-color: var(--n-color-active);'), cB('base-selection-tags', 'background-color: var(--n-color-active);')])]), cM('disabled', 'cursor: not-allowed;', [cE('arrow', `\n color: var(--n-arrow-color-disabled);\n `), cB('base-selection-label', `\n cursor: not-allowed;\n background-color: var(--n-color-disabled);\n `, [cB('base-selection-input', `\n cursor: not-allowed;\n color: var(--n-text-color-disabled);\n `), cE('render-label', `\n color: var(--n-text-color-disabled);\n `)]), cB('base-selection-tags', `\n cursor: not-allowed;\n background-color: var(--n-color-disabled);\n `), cB('base-selection-placeholder', `\n cursor: not-allowed;\n color: var(--n-placeholder-color-disabled);\n `)]), cB('base-selection-input-tag', `\n height: calc(var(--n-height) - 6px);\n line-height: calc(var(--n-height) - 6px);\n outline: none;\n display: none;\n position: relative;\n margin-bottom: 3px;\n max-width: 100%;\n vertical-align: bottom;\n `, [cE('input', `\n font-size: inherit;\n font-family: inherit;\n min-width: 1px;\n padding: 0;\n background-color: #0000;\n outline: none;\n border: none;\n max-width: 100%;\n overflow: hidden;\n width: 1em;\n line-height: inherit;\n cursor: pointer;\n color: var(--n-text-color);\n caret-color: var(--n-caret-color);\n `), cE('mirror', `\n position: absolute;\n left: 0;\n top: 0;\n white-space: pre;\n visibility: hidden;\n user-select: none;\n -webkit-user-select: none;\n opacity: 0;\n `)]), ['warning', 'error'].map(status => cM(`${status}-status`, [cE('state-border', `border: var(--n-border-${status});`), cNotM('disabled', [c('&:hover', [cE('state-border', `\n box-shadow: var(--n-box-shadow-hover-${status});\n border: var(--n-border-hover-${status});\n `)]), cM('active', [cE('state-border', `\n box-shadow: var(--n-box-shadow-active-${status});\n border: var(--n-border-active-${status});\n `), cB('base-selection-label', `background-color: var(--n-color-active-${status});`), cB('base-selection-tags', `background-color: var(--n-color-active-${status});`)]), cM('focus', [cE('state-border', `\n box-shadow: var(--n-box-shadow-focus-${status});\n border: var(--n-border-focus-${status});\n `)])])]))]), cB('base-selection-popover', `\n margin-bottom: -3px;\n display: flex;\n flex-wrap: wrap;\n margin-right: -8px;\n `), cB('base-selection-tag-wrapper', `\n max-width: 100%;\n display: inline-flex;\n padding: 0 7px 3px 0;\n `, [c('&:last-child', 'padding-right: 0;'), cB('tag', `\n font-size: 14px;\n max-width: 100%;\n `, [cE('content', `\n line-height: 1.25;\n text-overflow: ellipsis;\n overflow: hidden;\n `)])])]);","import { getPadding } from 'seemly';\nimport { computed, defineComponent, Fragment, h, nextTick, onMounted, ref, toRef, watch, watchEffect } from 'vue';\nimport { VOverflow } from 'vueuc';\nimport { useConfig, useRtl, useTheme, useThemeClass } from \"../../../_mixins/index.mjs\";\nimport { createKey, getTitleAttribute, render, useOnResize, Wrapper } from \"../../../_utils/index.mjs\";\nimport { NPopover } from \"../../../popover/index.mjs\";\nimport { NTag } from \"../../../tag/index.mjs\";\nimport Suffix from \"../../suffix/index.mjs\";\nimport { internalSelectionLight } from \"../styles/index.mjs\";\nimport style from \"./styles/index.cssr.mjs\";\nexport default defineComponent({\n  name: 'InternalSelection',\n  props: Object.assign(Object.assign({}, useTheme.props), {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    bordered: {\n      type: Boolean,\n      default: undefined\n    },\n    active: Boolean,\n    pattern: {\n      type: String,\n      default: ''\n    },\n    placeholder: String,\n    selectedOption: {\n      type: Object,\n      default: null\n    },\n    selectedOptions: {\n      type: Array,\n      default: null\n    },\n    labelField: {\n      type: String,\n      default: 'label'\n    },\n    valueField: {\n      type: String,\n      default: 'value'\n    },\n    multiple: Boolean,\n    filterable: Boolean,\n    clearable: Boolean,\n    disabled: Boolean,\n    size: {\n      type: String,\n      default: 'medium'\n    },\n    loading: Boolean,\n    autofocus: Boolean,\n    showArrow: {\n      type: Boolean,\n      default: true\n    },\n    inputProps: Object,\n    focused: Boolean,\n    renderTag: Function,\n    onKeydown: Function,\n    onClick: Function,\n    onBlur: Function,\n    onFocus: Function,\n    onDeleteOption: Function,\n    maxTagCount: [String, Number],\n    ellipsisTagPopoverProps: Object,\n    onClear: Function,\n    onPatternInput: Function,\n    onPatternFocus: Function,\n    onPatternBlur: Function,\n    renderLabel: Function,\n    status: String,\n    inlineThemeDisabled: Boolean,\n    ignoreComposition: {\n      type: Boolean,\n      default: true\n    },\n    onResize: Function\n  }),\n  setup(props) {\n    const {\n      mergedClsPrefixRef,\n      mergedRtlRef\n    } = useConfig(props);\n    const rtlEnabledRef = useRtl('InternalSelection', mergedRtlRef, mergedClsPrefixRef);\n    const patternInputMirrorRef = ref(null);\n    const patternInputRef = ref(null);\n    const selfRef = ref(null);\n    const multipleElRef = ref(null);\n    const singleElRef = ref(null);\n    const patternInputWrapperRef = ref(null);\n    const counterRef = ref(null);\n    const counterWrapperRef = ref(null);\n    const overflowRef = ref(null);\n    const inputTagElRef = ref(null);\n    const showTagsPopoverRef = ref(false);\n    const patternInputFocusedRef = ref(false);\n    const hoverRef = ref(false);\n    const themeRef = useTheme('InternalSelection', '-internal-selection', style, internalSelectionLight, props, toRef(props, 'clsPrefix'));\n    const mergedClearableRef = computed(() => {\n      return props.clearable && !props.disabled && (hoverRef.value || props.active);\n    });\n    const filterablePlaceholderRef = computed(() => {\n      return props.selectedOption ? props.renderTag ? props.renderTag({\n        option: props.selectedOption,\n        handleClose: () => {}\n      }) : props.renderLabel ? props.renderLabel(props.selectedOption, true) : render(props.selectedOption[props.labelField], props.selectedOption, true) : props.placeholder;\n    });\n    const labelRef = computed(() => {\n      const option = props.selectedOption;\n      if (!option) return undefined;\n      return option[props.labelField];\n    });\n    const selectedRef = computed(() => {\n      if (props.multiple) {\n        return !!(Array.isArray(props.selectedOptions) && props.selectedOptions.length);\n      } else {\n        return props.selectedOption !== null;\n      }\n    });\n    function syncMirrorWidth() {\n      var _a;\n      const {\n        value: patternInputMirrorEl\n      } = patternInputMirrorRef;\n      if (patternInputMirrorEl) {\n        const {\n          value: patternInputEl\n        } = patternInputRef;\n        if (patternInputEl) {\n          patternInputEl.style.width = `${patternInputMirrorEl.offsetWidth}px`;\n          if (props.maxTagCount !== 'responsive') {\n            (_a = overflowRef.value) === null || _a === void 0 ? void 0 : _a.sync({\n              showAllItemsBeforeCalculate: false\n            });\n          }\n        }\n      }\n    }\n    function hideInputTag() {\n      const {\n        value: inputTagEl\n      } = inputTagElRef;\n      if (inputTagEl) inputTagEl.style.display = 'none';\n    }\n    function showInputTag() {\n      const {\n        value: inputTagEl\n      } = inputTagElRef;\n      if (inputTagEl) inputTagEl.style.display = 'inline-block';\n    }\n    watch(toRef(props, 'active'), value => {\n      if (!value) hideInputTag();\n    });\n    watch(toRef(props, 'pattern'), () => {\n      if (props.multiple) {\n        void nextTick(syncMirrorWidth);\n      }\n    });\n    function doFocus(e) {\n      const {\n        onFocus\n      } = props;\n      if (onFocus) onFocus(e);\n    }\n    function doBlur(e) {\n      const {\n        onBlur\n      } = props;\n      if (onBlur) onBlur(e);\n    }\n    function doDeleteOption(value) {\n      const {\n        onDeleteOption\n      } = props;\n      if (onDeleteOption) onDeleteOption(value);\n    }\n    function doClear(e) {\n      const {\n        onClear\n      } = props;\n      if (onClear) onClear(e);\n    }\n    function doPatternInput(value) {\n      const {\n        onPatternInput\n      } = props;\n      if (onPatternInput) onPatternInput(value);\n    }\n    function handleFocusin(e) {\n      var _a;\n      if (!e.relatedTarget || !((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget))) {\n        doFocus(e);\n      }\n    }\n    function handleFocusout(e) {\n      var _a;\n      if ((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget)) return;\n      doBlur(e);\n    }\n    function handleClear(e) {\n      doClear(e);\n    }\n    function handleMouseEnter() {\n      hoverRef.value = true;\n    }\n    function handleMouseLeave() {\n      hoverRef.value = false;\n    }\n    function handleMouseDown(e) {\n      if (!props.active || !props.filterable) return;\n      if (e.target === patternInputRef.value) return;\n      e.preventDefault();\n    }\n    function handleDeleteOption(option) {\n      doDeleteOption(option);\n    }\n    const isComposingRef = ref(false);\n    function handlePatternKeyDown(e) {\n      if (e.key === 'Backspace' && !isComposingRef.value) {\n        if (!props.pattern.length) {\n          const {\n            selectedOptions\n          } = props;\n          if (selectedOptions === null || selectedOptions === void 0 ? void 0 : selectedOptions.length) {\n            handleDeleteOption(selectedOptions[selectedOptions.length - 1]);\n          }\n        }\n      }\n    }\n    // the composition end is later than its input so we can cached the event\n    // and return the input event\n    let cachedInputEvent = null;\n    function handlePatternInputInput(e) {\n      // we should sync mirror width here\n      const {\n        value: patternInputMirrorEl\n      } = patternInputMirrorRef;\n      if (patternInputMirrorEl) {\n        const inputText = e.target.value;\n        patternInputMirrorEl.textContent = inputText;\n        syncMirrorWidth();\n      }\n      if (props.ignoreComposition) {\n        if (!isComposingRef.value) {\n          doPatternInput(e);\n        } else {\n          cachedInputEvent = e;\n        }\n      } else {\n        doPatternInput(e);\n      }\n    }\n    function handleCompositionStart() {\n      isComposingRef.value = true;\n    }\n    function handleCompositionEnd() {\n      isComposingRef.value = false;\n      if (props.ignoreComposition) {\n        doPatternInput(cachedInputEvent);\n      }\n      cachedInputEvent = null;\n    }\n    function handlePatternInputFocus(e) {\n      var _a;\n      patternInputFocusedRef.value = true;\n      (_a = props.onPatternFocus) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    }\n    function handlePatternInputBlur(e) {\n      var _a;\n      patternInputFocusedRef.value = false;\n      (_a = props.onPatternBlur) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    }\n    function blur() {\n      var _a, _b;\n      if (props.filterable) {\n        patternInputFocusedRef.value = false;\n        (_a = patternInputWrapperRef.value) === null || _a === void 0 ? void 0 : _a.blur();\n        (_b = patternInputRef.value) === null || _b === void 0 ? void 0 : _b.blur();\n      } else if (props.multiple) {\n        const {\n          value: multipleEl\n        } = multipleElRef;\n        multipleEl === null || multipleEl === void 0 ? void 0 : multipleEl.blur();\n      } else {\n        const {\n          value: singleEl\n        } = singleElRef;\n        singleEl === null || singleEl === void 0 ? void 0 : singleEl.blur();\n      }\n    }\n    function focus() {\n      var _a, _b, _c;\n      if (props.filterable) {\n        patternInputFocusedRef.value = false;\n        (_a = patternInputWrapperRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n      } else if (props.multiple) {\n        (_b = multipleElRef.value) === null || _b === void 0 ? void 0 : _b.focus();\n      } else {\n        (_c = singleElRef.value) === null || _c === void 0 ? void 0 : _c.focus();\n      }\n    }\n    function focusInput() {\n      const {\n        value: patternInputEl\n      } = patternInputRef;\n      if (patternInputEl) {\n        showInputTag();\n        patternInputEl.focus();\n      }\n    }\n    function blurInput() {\n      const {\n        value: patternInputEl\n      } = patternInputRef;\n      if (patternInputEl) {\n        patternInputEl.blur();\n      }\n    }\n    function updateCounter(count) {\n      const {\n        value\n      } = counterRef;\n      if (value) {\n        value.setTextContent(`+${count}`);\n      }\n    }\n    function getCounter() {\n      const {\n        value\n      } = counterWrapperRef;\n      return value;\n    }\n    function getTail() {\n      return patternInputRef.value;\n    }\n    let enterTimerId = null;\n    function clearEnterTimer() {\n      if (enterTimerId !== null) window.clearTimeout(enterTimerId);\n    }\n    function handleMouseEnterCounter() {\n      if (props.active) return;\n      clearEnterTimer();\n      enterTimerId = window.setTimeout(() => {\n        if (selectedRef.value) {\n          showTagsPopoverRef.value = true;\n        }\n      }, 100);\n    }\n    function handleMouseLeaveCounter() {\n      clearEnterTimer();\n    }\n    function onPopoverUpdateShow(show) {\n      if (!show) {\n        clearEnterTimer();\n        showTagsPopoverRef.value = false;\n      }\n    }\n    watch(selectedRef, value => {\n      if (!value) {\n        showTagsPopoverRef.value = false;\n      }\n    });\n    onMounted(() => {\n      watchEffect(() => {\n        const patternInputWrapperEl = patternInputWrapperRef.value;\n        if (!patternInputWrapperEl) return;\n        if (props.disabled) {\n          patternInputWrapperEl.removeAttribute('tabindex');\n        } else {\n          patternInputWrapperEl.tabIndex = patternInputFocusedRef.value ? -1 : 0;\n        }\n      });\n    });\n    useOnResize(selfRef, props.onResize);\n    const {\n      inlineThemeDisabled\n    } = props;\n    const cssVarsRef = computed(() => {\n      const {\n        size\n      } = props;\n      const {\n        common: {\n          cubicBezierEaseInOut\n        },\n        self: {\n          fontWeight,\n          borderRadius,\n          color,\n          placeholderColor,\n          textColor,\n          paddingSingle,\n          paddingMultiple,\n          caretColor,\n          colorDisabled,\n          textColorDisabled,\n          placeholderColorDisabled,\n          colorActive,\n          boxShadowFocus,\n          boxShadowActive,\n          boxShadowHover,\n          border,\n          borderFocus,\n          borderHover,\n          borderActive,\n          arrowColor,\n          arrowColorDisabled,\n          loadingColor,\n          // form warning\n          colorActiveWarning,\n          boxShadowFocusWarning,\n          boxShadowActiveWarning,\n          boxShadowHoverWarning,\n          borderWarning,\n          borderFocusWarning,\n          borderHoverWarning,\n          borderActiveWarning,\n          // form error\n          colorActiveError,\n          boxShadowFocusError,\n          boxShadowActiveError,\n          boxShadowHoverError,\n          borderError,\n          borderFocusError,\n          borderHoverError,\n          borderActiveError,\n          // clear\n          clearColor,\n          clearColorHover,\n          clearColorPressed,\n          clearSize,\n          // arrow\n          arrowSize,\n          [createKey('height', size)]: height,\n          [createKey('fontSize', size)]: fontSize\n        }\n      } = themeRef.value;\n      const paddingSingleDiscrete = getPadding(paddingSingle);\n      const paddingMultipleDiscrete = getPadding(paddingMultiple);\n      return {\n        '--n-bezier': cubicBezierEaseInOut,\n        '--n-border': border,\n        '--n-border-active': borderActive,\n        '--n-border-focus': borderFocus,\n        '--n-border-hover': borderHover,\n        '--n-border-radius': borderRadius,\n        '--n-box-shadow-active': boxShadowActive,\n        '--n-box-shadow-focus': boxShadowFocus,\n        '--n-box-shadow-hover': boxShadowHover,\n        '--n-caret-color': caretColor,\n        '--n-color': color,\n        '--n-color-active': colorActive,\n        '--n-color-disabled': colorDisabled,\n        '--n-font-size': fontSize,\n        '--n-height': height,\n        '--n-padding-single-top': paddingSingleDiscrete.top,\n        '--n-padding-multiple-top': paddingMultipleDiscrete.top,\n        '--n-padding-single-right': paddingSingleDiscrete.right,\n        '--n-padding-multiple-right': paddingMultipleDiscrete.right,\n        '--n-padding-single-left': paddingSingleDiscrete.left,\n        '--n-padding-multiple-left': paddingMultipleDiscrete.left,\n        '--n-padding-single-bottom': paddingSingleDiscrete.bottom,\n        '--n-padding-multiple-bottom': paddingMultipleDiscrete.bottom,\n        '--n-placeholder-color': placeholderColor,\n        '--n-placeholder-color-disabled': placeholderColorDisabled,\n        '--n-text-color': textColor,\n        '--n-text-color-disabled': textColorDisabled,\n        '--n-arrow-color': arrowColor,\n        '--n-arrow-color-disabled': arrowColorDisabled,\n        '--n-loading-color': loadingColor,\n        // form warning\n        '--n-color-active-warning': colorActiveWarning,\n        '--n-box-shadow-focus-warning': boxShadowFocusWarning,\n        '--n-box-shadow-active-warning': boxShadowActiveWarning,\n        '--n-box-shadow-hover-warning': boxShadowHoverWarning,\n        '--n-border-warning': borderWarning,\n        '--n-border-focus-warning': borderFocusWarning,\n        '--n-border-hover-warning': borderHoverWarning,\n        '--n-border-active-warning': borderActiveWarning,\n        // form error\n        '--n-color-active-error': colorActiveError,\n        '--n-box-shadow-focus-error': boxShadowFocusError,\n        '--n-box-shadow-active-error': boxShadowActiveError,\n        '--n-box-shadow-hover-error': boxShadowHoverError,\n        '--n-border-error': borderError,\n        '--n-border-focus-error': borderFocusError,\n        '--n-border-hover-error': borderHoverError,\n        '--n-border-active-error': borderActiveError,\n        // clear\n        '--n-clear-size': clearSize,\n        '--n-clear-color': clearColor,\n        '--n-clear-color-hover': clearColorHover,\n        '--n-clear-color-pressed': clearColorPressed,\n        // arrow-size\n        '--n-arrow-size': arrowSize,\n        // font-weight\n        '--n-font-weight': fontWeight\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('internal-selection', computed(() => {\n      return props.size[0];\n    }), cssVarsRef, props) : undefined;\n    return {\n      mergedTheme: themeRef,\n      mergedClearable: mergedClearableRef,\n      mergedClsPrefix: mergedClsPrefixRef,\n      rtlEnabled: rtlEnabledRef,\n      patternInputFocused: patternInputFocusedRef,\n      filterablePlaceholder: filterablePlaceholderRef,\n      label: labelRef,\n      selected: selectedRef,\n      showTagsPanel: showTagsPopoverRef,\n      isComposing: isComposingRef,\n      // dom ref\n      counterRef,\n      counterWrapperRef,\n      patternInputMirrorRef,\n      patternInputRef,\n      selfRef,\n      multipleElRef,\n      singleElRef,\n      patternInputWrapperRef,\n      overflowRef,\n      inputTagElRef,\n      handleMouseDown,\n      handleFocusin,\n      handleClear,\n      handleMouseEnter,\n      handleMouseLeave,\n      handleDeleteOption,\n      handlePatternKeyDown,\n      handlePatternInputInput,\n      handlePatternInputBlur,\n      handlePatternInputFocus,\n      handleMouseEnterCounter,\n      handleMouseLeaveCounter,\n      handleFocusout,\n      handleCompositionEnd,\n      handleCompositionStart,\n      onPopoverUpdateShow,\n      focus,\n      focusInput,\n      blur,\n      blurInput,\n      updateCounter,\n      getCounter,\n      getTail,\n      renderLabel: props.renderLabel,\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    };\n  },\n  render() {\n    const {\n      status,\n      multiple,\n      size,\n      disabled,\n      filterable,\n      maxTagCount,\n      bordered,\n      clsPrefix,\n      ellipsisTagPopoverProps,\n      onRender,\n      renderTag,\n      renderLabel\n    } = this;\n    onRender === null || onRender === void 0 ? void 0 : onRender();\n    const maxTagCountResponsive = maxTagCount === 'responsive';\n    const maxTagCountNumeric = typeof maxTagCount === 'number';\n    const useMaxTagCount = maxTagCountResponsive || maxTagCountNumeric;\n    const suffix = h(Wrapper, null, {\n      default: () => h(Suffix, {\n        clsPrefix: clsPrefix,\n        loading: this.loading,\n        showArrow: this.showArrow,\n        showClear: this.mergedClearable && this.selected,\n        onClear: this.handleClear\n      }, {\n        default: () => {\n          var _a, _b;\n          return (_b = (_a = this.$slots).arrow) === null || _b === void 0 ? void 0 : _b.call(_a);\n        }\n      })\n    });\n    let body;\n    if (multiple) {\n      const {\n        labelField\n      } = this;\n      const createTag = option => h(\"div\", {\n        class: `${clsPrefix}-base-selection-tag-wrapper`,\n        key: option.value\n      }, renderTag ? renderTag({\n        option,\n        handleClose: () => {\n          this.handleDeleteOption(option);\n        }\n      }) : h(NTag, {\n        size: size,\n        closable: !option.disabled,\n        disabled: disabled,\n        onClose: () => {\n          this.handleDeleteOption(option);\n        },\n        internalCloseIsButtonTag: false,\n        internalCloseFocusable: false\n      }, {\n        default: () => renderLabel ? renderLabel(option, true) : render(option[labelField], option, true)\n      }));\n      const createOriginalTagNodes = () => (maxTagCountNumeric ? this.selectedOptions.slice(0, maxTagCount) : this.selectedOptions).map(createTag);\n      const input = filterable ? h(\"div\", {\n        class: `${clsPrefix}-base-selection-input-tag`,\n        ref: \"inputTagElRef\",\n        key: \"__input-tag__\"\n      }, h(\"input\", Object.assign({}, this.inputProps, {\n        ref: \"patternInputRef\",\n        tabindex: -1,\n        disabled: disabled,\n        value: this.pattern,\n        autofocus: this.autofocus,\n        class: `${clsPrefix}-base-selection-input-tag__input`,\n        onBlur: this.handlePatternInputBlur,\n        onFocus: this.handlePatternInputFocus,\n        onKeydown: this.handlePatternKeyDown,\n        onInput: this.handlePatternInputInput,\n        onCompositionstart: this.handleCompositionStart,\n        onCompositionend: this.handleCompositionEnd\n      })), h(\"span\", {\n        ref: \"patternInputMirrorRef\",\n        class: `${clsPrefix}-base-selection-input-tag__mirror`\n      }, this.pattern)) : null;\n      // May Overflow\n      const renderCounter = maxTagCountResponsive ? () => h(\"div\", {\n        class: `${clsPrefix}-base-selection-tag-wrapper`,\n        ref: \"counterWrapperRef\"\n      }, h(NTag, {\n        size: size,\n        ref: \"counterRef\",\n        onMouseenter: this.handleMouseEnterCounter,\n        onMouseleave: this.handleMouseLeaveCounter,\n        disabled: disabled\n      })) : undefined;\n      let counter;\n      if (maxTagCountNumeric) {\n        const rest = this.selectedOptions.length - maxTagCount;\n        if (rest > 0) {\n          counter = h(\"div\", {\n            class: `${clsPrefix}-base-selection-tag-wrapper`,\n            key: \"__counter__\"\n          }, h(NTag, {\n            size: size,\n            ref: \"counterRef\",\n            onMouseenter: this.handleMouseEnterCounter,\n            disabled: disabled\n          }, {\n            default: () => `+${rest}`\n          }));\n        }\n      }\n      const tags = maxTagCountResponsive ? filterable ? h(VOverflow, {\n        ref: \"overflowRef\",\n        updateCounter: this.updateCounter,\n        getCounter: this.getCounter,\n        getTail: this.getTail,\n        style: {\n          width: '100%',\n          display: 'flex',\n          overflow: 'hidden'\n        }\n      }, {\n        default: createOriginalTagNodes,\n        counter: renderCounter,\n        tail: () => input\n      }) : h(VOverflow, {\n        ref: \"overflowRef\",\n        updateCounter: this.updateCounter,\n        getCounter: this.getCounter,\n        style: {\n          width: '100%',\n          display: 'flex',\n          overflow: 'hidden'\n        }\n      }, {\n        default: createOriginalTagNodes,\n        counter: renderCounter\n      }) : maxTagCountNumeric && counter ? createOriginalTagNodes().concat(counter) : createOriginalTagNodes();\n      const renderPopover = useMaxTagCount ? () => h(\"div\", {\n        class: `${clsPrefix}-base-selection-popover`\n      }, maxTagCountResponsive ? createOriginalTagNodes() : this.selectedOptions.map(createTag)) : undefined;\n      const popoverProps = useMaxTagCount ? Object.assign({\n        show: this.showTagsPanel,\n        trigger: 'hover',\n        overlap: true,\n        placement: 'top',\n        width: 'trigger',\n        onUpdateShow: this.onPopoverUpdateShow,\n        theme: this.mergedTheme.peers.Popover,\n        themeOverrides: this.mergedTheme.peerOverrides.Popover\n      }, ellipsisTagPopoverProps) : null;\n      const showPlaceholder = this.selected ? false : this.active ? !this.pattern && !this.isComposing : true;\n      const placeholder = showPlaceholder ? h(\"div\", {\n        class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay`\n      }, h(\"div\", {\n        class: `${clsPrefix}-base-selection-placeholder__inner`\n      }, this.placeholder)) : null;\n      const popoverTrigger = filterable ? h(\"div\", {\n        ref: \"patternInputWrapperRef\",\n        class: `${clsPrefix}-base-selection-tags`\n      }, tags, maxTagCountResponsive ? null : input, suffix) : h(\"div\", {\n        ref: \"multipleElRef\",\n        class: `${clsPrefix}-base-selection-tags`,\n        tabindex: disabled ? undefined : 0\n      }, tags, suffix);\n      body = h(Fragment, null, useMaxTagCount ? h(NPopover, Object.assign({}, popoverProps, {\n        scrollable: true,\n        style: \"max-height: calc(var(--v-target-height) * 6.6);\"\n      }), {\n        trigger: () => popoverTrigger,\n        default: renderPopover\n      }) : popoverTrigger, placeholder);\n    } else {\n      if (filterable) {\n        const hasInput = this.pattern || this.isComposing;\n        const showPlaceholder = this.active ? !hasInput : !this.selected;\n        const showSelectedLabel = this.active ? false : this.selected;\n        body = h(\"div\", {\n          ref: \"patternInputWrapperRef\",\n          class: `${clsPrefix}-base-selection-label`,\n          title: this.patternInputFocused ? undefined : getTitleAttribute(this.label)\n        }, h(\"input\", Object.assign({}, this.inputProps, {\n          ref: \"patternInputRef\",\n          class: `${clsPrefix}-base-selection-input`,\n          value: this.active ? this.pattern : '',\n          placeholder: \"\",\n          readonly: disabled,\n          disabled: disabled,\n          tabindex: -1,\n          autofocus: this.autofocus,\n          onFocus: this.handlePatternInputFocus,\n          onBlur: this.handlePatternInputBlur,\n          onInput: this.handlePatternInputInput,\n          onCompositionstart: this.handleCompositionStart,\n          onCompositionend: this.handleCompositionEnd\n        })), showSelectedLabel ? h(\"div\", {\n          class: `${clsPrefix}-base-selection-label__render-label ${clsPrefix}-base-selection-overlay`,\n          key: \"input\"\n        }, h(\"div\", {\n          class: `${clsPrefix}-base-selection-overlay__wrapper`\n        }, renderTag ? renderTag({\n          option: this.selectedOption,\n          handleClose: () => {}\n        }) : renderLabel ? renderLabel(this.selectedOption, true) : render(this.label, this.selectedOption, true))) : null, showPlaceholder ? h(\"div\", {\n          class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay`,\n          key: \"placeholder\"\n        }, h(\"div\", {\n          class: `${clsPrefix}-base-selection-overlay__wrapper`\n        }, this.filterablePlaceholder)) : null, suffix);\n      } else {\n        body = h(\"div\", {\n          ref: \"singleElRef\",\n          class: `${clsPrefix}-base-selection-label`,\n          tabindex: this.disabled ? undefined : 0\n        }, this.label !== undefined ? h(\"div\", {\n          class: `${clsPrefix}-base-selection-input`,\n          title: getTitleAttribute(this.label),\n          key: \"input\"\n        }, h(\"div\", {\n          class: `${clsPrefix}-base-selection-input__content`\n        }, renderTag ? renderTag({\n          option: this.selectedOption,\n          handleClose: () => {}\n        }) : renderLabel ? renderLabel(this.selectedOption, true) : render(this.label, this.selectedOption, true))) : h(\"div\", {\n          class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay`,\n          key: \"placeholder\"\n        }, h(\"div\", {\n          class: `${clsPrefix}-base-selection-placeholder__inner`\n        }, this.placeholder)), suffix);\n      }\n    }\n    return h(\"div\", {\n      ref: \"selfRef\",\n      class: [`${clsPrefix}-base-selection`, this.rtlEnabled && `${clsPrefix}-base-selection--rtl`, this.themeClass, status && `${clsPrefix}-base-selection--${status}-status`, {\n        [`${clsPrefix}-base-selection--active`]: this.active,\n        [`${clsPrefix}-base-selection--selected`]: this.selected || this.active && this.pattern,\n        [`${clsPrefix}-base-selection--disabled`]: this.disabled,\n        [`${clsPrefix}-base-selection--multiple`]: this.multiple,\n        // focus is not controlled by selection itself since it always need\n        // to be managed together with menu. provide :focus style will cause\n        // many redundant codes.\n        [`${clsPrefix}-base-selection--focus`]: this.focused\n      }],\n      style: this.cssVars,\n      onClick: this.onClick,\n      onMouseenter: this.handleMouseEnter,\n      onMouseleave: this.handleMouseLeave,\n      onKeydown: this.onKeydown,\n      onFocusin: this.handleFocusin,\n      onFocusout: this.handleFocusout,\n      onMousedown: this.handleMouseDown\n    }, body, bordered ? h(\"div\", {\n      class: `${clsPrefix}-base-selection__border`\n    }) : null, bordered ? h(\"div\", {\n      class: `${clsPrefix}-base-selection__state-border`\n    }) : null);\n  }\n});","export function getIsGroup(option) {\n  return option.type === 'group';\n}\nexport function getIgnored(option) {\n  return option.type === 'ignored';\n}\nexport function patternMatched(pattern, value) {\n  try {\n    return !!(1 + value.toString().toLowerCase().indexOf(pattern.trim().toLowerCase()));\n  } catch (_a) {\n    return false;\n  }\n}\nexport function createTmOptions(valueField, childrenField) {\n  const options = {\n    getIsGroup,\n    getIgnored,\n    getKey(option) {\n      if (getIsGroup(option)) {\n        return option.name || option.key || 'key-required';\n      }\n      // Required for non-custom label & value field\n      return option[valueField];\n    },\n    getChildren(option) {\n      return option[childrenField];\n    }\n  };\n  return options;\n}\nexport function filterOptions(originalOpts, filter, pattern, childrenField) {\n  if (!filter) return originalOpts;\n  function traverse(options) {\n    if (!Array.isArray(options)) return [];\n    const filteredOptions = [];\n    for (const option of options) {\n      if (getIsGroup(option)) {\n        const children = traverse(option[childrenField]);\n        if (children.length) {\n          filteredOptions.push(Object.assign({}, option, {\n            [childrenField]: children\n          }));\n        }\n      } else if (getIgnored(option)) {\n        continue;\n      } else if (filter(pattern, option)) {\n        filteredOptions.push(option);\n      }\n    }\n    return filteredOptions;\n  }\n  return traverse(originalOpts);\n}\nexport function createValOptMap(options, valueField, childrenField) {\n  const valOptMap = new Map();\n  options.forEach(option => {\n    if (getIsGroup(option)) {\n      ;\n      option[childrenField].forEach(selectGroupOption => {\n        valOptMap.set(selectGroupOption[valueField], selectGroupOption);\n      });\n    } else {\n      valOptMap.set(option[valueField], option);\n    }\n  });\n  return valOptMap;\n}","import { asModal, c, cB, cE, cM, insideModal, insidePopover } from \"../../../_utils/cssr/index.mjs\";\n// vars:\n// --n-bezier\n// --n-border-radius\n// --n-color\n// --n-color-modal\n// --n-color-popover\n// --n-text-color\n// --n-line-height\n// --n-padding-top\n// --n-padding-bottom\n// --n-padding-left\n// --n-font-size\n// --n-action-color\n// --n-title-font-weight\n// --n-title-font-size\n// --n-title-text-color\n// --n-close-size\n// --n-close-icon-size\n// --n-close-color-hover\n// --n-close-color-pressed\n// --n-close-icon-color\n// --n-close-icon-color-hover\n// --n-close-icon-color-pressed\n// --n-border-color\n// --n-box-shadow\n// --n-color-embedded\n// --n-color-embedded-modal\n// --n-color-embedded-popover\nexport default c([cB('card', `\n font-size: var(--n-font-size);\n line-height: var(--n-line-height);\n display: flex;\n flex-direction: column;\n width: 100%;\n box-sizing: border-box;\n position: relative;\n border-radius: var(--n-border-radius);\n background-color: var(--n-color);\n color: var(--n-text-color);\n word-break: break-word;\n transition: \n color .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n `, [asModal({\n  background: 'var(--n-color-modal)'\n}), cM('hoverable', [c('&:hover', 'box-shadow: var(--n-box-shadow);')]), cM('content-segmented', [c('>', [cE('content', {\n  paddingTop: 'var(--n-padding-bottom)'\n})])]), cM('content-soft-segmented', [c('>', [cE('content', `\n margin: 0 var(--n-padding-left);\n padding: var(--n-padding-bottom) 0;\n `)])]), cM('footer-segmented', [c('>', [cE('footer', {\n  paddingTop: 'var(--n-padding-bottom)'\n})])]), cM('footer-soft-segmented', [c('>', [cE('footer', `\n padding: var(--n-padding-bottom) 0;\n margin: 0 var(--n-padding-left);\n `)])]), c('>', [cB('card-header', `\n box-sizing: border-box;\n display: flex;\n align-items: center;\n font-size: var(--n-title-font-size);\n padding:\n var(--n-padding-top)\n var(--n-padding-left)\n var(--n-padding-bottom)\n var(--n-padding-left);\n `, [cE('main', `\n font-weight: var(--n-title-font-weight);\n transition: color .3s var(--n-bezier);\n flex: 1;\n min-width: 0;\n color: var(--n-title-text-color);\n `), cE('extra', `\n display: flex;\n align-items: center;\n font-size: var(--n-font-size);\n font-weight: 400;\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n `), cE('close', `\n margin: 0 0 0 8px;\n transition:\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n `)]), cE('action', `\n box-sizing: border-box;\n transition:\n background-color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n background-clip: padding-box;\n background-color: var(--n-action-color);\n `), cE('content', 'flex: 1; min-width: 0;'), cE('content, footer', `\n box-sizing: border-box;\n padding: 0 var(--n-padding-left) var(--n-padding-bottom) var(--n-padding-left);\n font-size: var(--n-font-size);\n `, [c('&:first-child', {\n  paddingTop: 'var(--n-padding-bottom)'\n})]), cE('action', `\n background-color: var(--n-action-color);\n padding: var(--n-padding-bottom) var(--n-padding-left);\n border-bottom-left-radius: var(--n-border-radius);\n border-bottom-right-radius: var(--n-border-radius);\n `)]), cB('card-cover', `\n overflow: hidden;\n width: 100%;\n border-radius: var(--n-border-radius) var(--n-border-radius) 0 0;\n `, [c('img', `\n display: block;\n width: 100%;\n `)]), cM('bordered', `\n border: 1px solid var(--n-border-color);\n `, [c('&:target', 'border-color: var(--n-color-target);')]), cM('action-segmented', [c('>', [cE('action', [c('&:not(:first-child)', {\n  borderTop: '1px solid var(--n-border-color)'\n})])])]), cM('content-segmented, content-soft-segmented', [c('>', [cE('content', {\n  transition: 'border-color 0.3s var(--n-bezier)'\n}, [c('&:not(:first-child)', {\n  borderTop: '1px solid var(--n-border-color)'\n})])])]), cM('footer-segmented, footer-soft-segmented', [c('>', [cE('footer', {\n  transition: 'border-color 0.3s var(--n-bezier)'\n}, [c('&:not(:first-child)', {\n  borderTop: '1px solid var(--n-border-color)'\n})])])]), cM('embedded', `\n background-color: var(--n-color-embedded);\n `)]), insideModal(cB('card', `\n background: var(--n-color-modal);\n `, [cM('embedded', `\n background-color: var(--n-color-embedded-modal);\n `)])), insidePopover(cB('card', `\n background: var(--n-color-popover);\n `, [cM('embedded', `\n background-color: var(--n-color-embedded-popover);\n `)]))]);","import { getPadding } from 'seemly';\nimport { computed, defineComponent, h } from 'vue';\nimport { NBaseClose } from \"../../_internal/index.mjs\";\nimport { useConfig, useTheme, useThemeClass } from \"../../_mixins/index.mjs\";\nimport { useRtl } from \"../../_mixins/use-rtl.mjs\";\nimport { call, createKey, keysOf, resolveWrappedSlot } from \"../../_utils/index.mjs\";\nimport { ensureValidVNode } from \"../../_utils/vue/resolve-slot.mjs\";\nimport { cardLight } from \"../styles/index.mjs\";\nimport style from \"./styles/index.cssr.mjs\";\nexport const cardBaseProps = {\n  title: [String, Function],\n  contentClass: String,\n  contentStyle: [Object, String],\n  headerClass: String,\n  headerStyle: [Object, String],\n  headerExtraClass: String,\n  headerExtraStyle: [Object, String],\n  footerClass: String,\n  footerStyle: [Object, String],\n  embedded: Boolean,\n  segmented: {\n    type: [Boolean, Object],\n    default: false\n  },\n  size: {\n    type: String,\n    default: 'medium'\n  },\n  bordered: {\n    type: Boolean,\n    default: true\n  },\n  closable: Boolean,\n  hoverable: Boolean,\n  role: String,\n  onClose: [Function, Array],\n  tag: {\n    type: String,\n    default: 'div'\n  },\n  cover: Function,\n  content: [String, Function],\n  footer: Function,\n  action: Function,\n  headerExtra: Function,\n  closeFocusable: Boolean\n};\nexport const cardBasePropKeys = keysOf(cardBaseProps);\nexport const cardProps = Object.assign(Object.assign({}, useTheme.props), cardBaseProps);\nexport default defineComponent({\n  name: 'Card',\n  props: cardProps,\n  slots: Object,\n  setup(props) {\n    const handleCloseClick = () => {\n      const {\n        onClose\n      } = props;\n      if (onClose) call(onClose);\n    };\n    const {\n      inlineThemeDisabled,\n      mergedClsPrefixRef,\n      mergedRtlRef\n    } = useConfig(props);\n    const themeRef = useTheme('Card', '-card', style, cardLight, props, mergedClsPrefixRef);\n    const rtlEnabledRef = useRtl('Card', mergedRtlRef, mergedClsPrefixRef);\n    const cssVarsRef = computed(() => {\n      const {\n        size\n      } = props;\n      const {\n        self: {\n          color,\n          colorModal,\n          colorTarget,\n          textColor,\n          titleTextColor,\n          titleFontWeight,\n          borderColor,\n          actionColor,\n          borderRadius,\n          lineHeight,\n          closeIconColor,\n          closeIconColorHover,\n          closeIconColorPressed,\n          closeColorHover,\n          closeColorPressed,\n          closeBorderRadius,\n          closeIconSize,\n          closeSize,\n          boxShadow,\n          colorPopover,\n          colorEmbedded,\n          colorEmbeddedModal,\n          colorEmbeddedPopover,\n          [createKey('padding', size)]: padding,\n          [createKey('fontSize', size)]: fontSize,\n          [createKey('titleFontSize', size)]: titleFontSize\n        },\n        common: {\n          cubicBezierEaseInOut\n        }\n      } = themeRef.value;\n      const {\n        top: paddingTop,\n        left: paddingLeft,\n        bottom: paddingBottom\n      } = getPadding(padding);\n      return {\n        '--n-bezier': cubicBezierEaseInOut,\n        '--n-border-radius': borderRadius,\n        '--n-color': color,\n        '--n-color-modal': colorModal,\n        '--n-color-popover': colorPopover,\n        '--n-color-embedded': colorEmbedded,\n        '--n-color-embedded-modal': colorEmbeddedModal,\n        '--n-color-embedded-popover': colorEmbeddedPopover,\n        '--n-color-target': colorTarget,\n        '--n-text-color': textColor,\n        '--n-line-height': lineHeight,\n        '--n-action-color': actionColor,\n        '--n-title-text-color': titleTextColor,\n        '--n-title-font-weight': titleFontWeight,\n        '--n-close-icon-color': closeIconColor,\n        '--n-close-icon-color-hover': closeIconColorHover,\n        '--n-close-icon-color-pressed': closeIconColorPressed,\n        '--n-close-color-hover': closeColorHover,\n        '--n-close-color-pressed': closeColorPressed,\n        '--n-border-color': borderColor,\n        '--n-box-shadow': boxShadow,\n        // size\n        '--n-padding-top': paddingTop,\n        '--n-padding-bottom': paddingBottom,\n        '--n-padding-left': paddingLeft,\n        '--n-font-size': fontSize,\n        '--n-title-font-size': titleFontSize,\n        '--n-close-size': closeSize,\n        '--n-close-icon-size': closeIconSize,\n        '--n-close-border-radius': closeBorderRadius\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('card', computed(() => {\n      return props.size[0];\n    }), cssVarsRef, props) : undefined;\n    return {\n      rtlEnabled: rtlEnabledRef,\n      mergedClsPrefix: mergedClsPrefixRef,\n      mergedTheme: themeRef,\n      handleCloseClick,\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    };\n  },\n  render() {\n    const {\n      segmented,\n      bordered,\n      hoverable,\n      mergedClsPrefix,\n      rtlEnabled,\n      onRender,\n      embedded,\n      tag: Component,\n      $slots\n    } = this;\n    onRender === null || onRender === void 0 ? void 0 : onRender();\n    return h(Component, {\n      class: [`${mergedClsPrefix}-card`, this.themeClass, embedded && `${mergedClsPrefix}-card--embedded`, {\n        [`${mergedClsPrefix}-card--rtl`]: rtlEnabled,\n        [`${mergedClsPrefix}-card--content${typeof segmented !== 'boolean' && segmented.content === 'soft' ? '-soft' : ''}-segmented`]: segmented === true || segmented !== false && segmented.content,\n        [`${mergedClsPrefix}-card--footer${typeof segmented !== 'boolean' && segmented.footer === 'soft' ? '-soft' : ''}-segmented`]: segmented === true || segmented !== false && segmented.footer,\n        [`${mergedClsPrefix}-card--action-segmented`]: segmented === true || segmented !== false && segmented.action,\n        [`${mergedClsPrefix}-card--bordered`]: bordered,\n        [`${mergedClsPrefix}-card--hoverable`]: hoverable\n      }],\n      style: this.cssVars,\n      role: this.role\n    }, resolveWrappedSlot($slots.cover, children => {\n      const mergedChildren = this.cover ? ensureValidVNode([this.cover()]) : children;\n      return mergedChildren && h(\"div\", {\n        class: `${mergedClsPrefix}-card-cover`,\n        role: \"none\"\n      }, mergedChildren);\n    }), resolveWrappedSlot($slots.header, children => {\n      const {\n        title\n      } = this;\n      const mergedChildren = title ? ensureValidVNode(typeof title === 'function' ? [title()] : [title]) : children;\n      return mergedChildren || this.closable ? h(\"div\", {\n        class: [`${mergedClsPrefix}-card-header`, this.headerClass],\n        style: this.headerStyle,\n        role: \"heading\"\n      }, h(\"div\", {\n        class: `${mergedClsPrefix}-card-header__main`,\n        role: \"heading\"\n      }, mergedChildren), resolveWrappedSlot($slots['header-extra'], children => {\n        const mergedChildren = this.headerExtra ? ensureValidVNode([this.headerExtra()]) : children;\n        return mergedChildren && h(\"div\", {\n          class: [`${mergedClsPrefix}-card-header__extra`, this.headerExtraClass],\n          style: this.headerExtraStyle\n        }, mergedChildren);\n      }), this.closable && h(NBaseClose, {\n        clsPrefix: mergedClsPrefix,\n        class: `${mergedClsPrefix}-card-header__close`,\n        onClick: this.handleCloseClick,\n        focusable: this.closeFocusable,\n        absolute: true\n      })) : null;\n    }), resolveWrappedSlot($slots.default, children => {\n      const {\n        content\n      } = this;\n      const mergedChildren = content ? ensureValidVNode(typeof content === 'function' ? [content()] : [content]) : children;\n      return mergedChildren && h(\"div\", {\n        class: [`${mergedClsPrefix}-card__content`, this.contentClass],\n        style: this.contentStyle,\n        role: \"none\"\n      }, mergedChildren);\n    }), resolveWrappedSlot($slots.footer, children => {\n      const mergedChildren = this.footer ? ensureValidVNode([this.footer()]) : children;\n      return mergedChildren && h(\"div\", {\n        class: [`${mergedClsPrefix}-card__footer`, this.footerClass],\n        style: this.footerStyle,\n        role: \"none\"\n      }, mergedChildren);\n    }), resolveWrappedSlot($slots.action, children => {\n      const mergedChildren = this.action ? ensureValidVNode([this.action()]) : children;\n      return mergedChildren && h(\"div\", {\n        class: `${mergedClsPrefix}-card__action`,\n        role: \"none\"\n      }, mergedChildren);\n    }));\n  }\n});","import { useMergedState } from 'vooks';\nimport { computed, defineComponent, h, provide, ref, toRef, watchEffect } from 'vue';\nimport { useConfig, useFormItem } from \"../../_mixins/index.mjs\";\nimport { call, createInjectionKey, warnOnce } from \"../../_utils/index.mjs\";\nexport const checkboxGroupInjectionKey = createInjectionKey('n-checkbox-group');\nexport const checkboxGroupProps = {\n  min: Number,\n  max: Number,\n  size: String,\n  value: Array,\n  defaultValue: {\n    type: Array,\n    default: null\n  },\n  disabled: {\n    type: Boolean,\n    default: undefined\n  },\n  'onUpdate:value': [Function, Array],\n  onUpdateValue: [Function, Array],\n  // deprecated\n  onChange: [Function, Array]\n};\nexport default defineComponent({\n  name: 'CheckboxGroup',\n  props: checkboxGroupProps,\n  setup(props) {\n    if (process.env.NODE_ENV !== 'production') {\n      watchEffect(() => {\n        if (props.onChange !== undefined) {\n          warnOnce('checkbox-group', '`on-change` is deprecated, please use `on-update:value` instead.');\n        }\n      });\n    }\n    const {\n      mergedClsPrefixRef\n    } = useConfig(props);\n    const formItem = useFormItem(props);\n    const {\n      mergedSizeRef,\n      mergedDisabledRef\n    } = formItem;\n    const uncontrolledValueRef = ref(props.defaultValue);\n    const controlledValueRef = computed(() => props.value);\n    const mergedValueRef = useMergedState(controlledValueRef, uncontrolledValueRef);\n    const checkedCount = computed(() => {\n      var _a;\n      return ((_a = mergedValueRef.value) === null || _a === void 0 ? void 0 : _a.length) || 0;\n    });\n    const valueSetRef = computed(() => {\n      if (Array.isArray(mergedValueRef.value)) {\n        return new Set(mergedValueRef.value);\n      }\n      return new Set();\n    });\n    function toggleCheckbox(checked, checkboxValue) {\n      const {\n        nTriggerFormInput,\n        nTriggerFormChange\n      } = formItem;\n      const {\n        onChange,\n        'onUpdate:value': _onUpdateValue,\n        onUpdateValue\n      } = props;\n      if (Array.isArray(mergedValueRef.value)) {\n        const groupValue = Array.from(mergedValueRef.value);\n        const index = groupValue.findIndex(value => value === checkboxValue);\n        if (checked) {\n          if (!~index) {\n            groupValue.push(checkboxValue);\n            if (onUpdateValue) {\n              call(onUpdateValue, groupValue, {\n                actionType: 'check',\n                value: checkboxValue\n              });\n            }\n            if (_onUpdateValue) {\n              call(_onUpdateValue, groupValue, {\n                actionType: 'check',\n                value: checkboxValue\n              });\n            }\n            nTriggerFormInput();\n            nTriggerFormChange();\n            uncontrolledValueRef.value = groupValue;\n            // deprecated\n            if (onChange) call(onChange, groupValue);\n          }\n        } else {\n          if (~index) {\n            groupValue.splice(index, 1);\n            if (onUpdateValue) {\n              call(onUpdateValue, groupValue, {\n                actionType: 'uncheck',\n                value: checkboxValue\n              });\n            }\n            if (_onUpdateValue) {\n              call(_onUpdateValue, groupValue, {\n                actionType: 'uncheck',\n                value: checkboxValue\n              });\n            }\n            if (onChange) call(onChange, groupValue); // deprecated\n            uncontrolledValueRef.value = groupValue;\n            nTriggerFormInput();\n            nTriggerFormChange();\n          }\n        }\n      } else {\n        if (checked) {\n          if (onUpdateValue) {\n            call(onUpdateValue, [checkboxValue], {\n              actionType: 'check',\n              value: checkboxValue\n            });\n          }\n          if (_onUpdateValue) {\n            call(_onUpdateValue, [checkboxValue], {\n              actionType: 'check',\n              value: checkboxValue\n            });\n          }\n          if (onChange) call(onChange, [checkboxValue]); // deprecated\n          uncontrolledValueRef.value = [checkboxValue];\n          nTriggerFormInput();\n          nTriggerFormChange();\n        } else {\n          if (onUpdateValue) {\n            call(onUpdateValue, [], {\n              actionType: 'uncheck',\n              value: checkboxValue\n            });\n          }\n          if (_onUpdateValue) {\n            call(_onUpdateValue, [], {\n              actionType: 'uncheck',\n              value: checkboxValue\n            });\n          }\n          if (onChange) call(onChange, []); // deprecated\n          uncontrolledValueRef.value = [];\n          nTriggerFormInput();\n          nTriggerFormChange();\n        }\n      }\n    }\n    provide(checkboxGroupInjectionKey, {\n      checkedCountRef: checkedCount,\n      maxRef: toRef(props, 'max'),\n      minRef: toRef(props, 'min'),\n      valueSetRef,\n      disabledRef: mergedDisabledRef,\n      mergedSizeRef,\n      toggleCheckbox\n    });\n    return {\n      mergedClsPrefix: mergedClsPrefixRef\n    };\n  },\n  render() {\n    return h(\"div\", {\n      class: `${this.mergedClsPrefix}-checkbox-group`,\n      role: \"group\"\n    }, this.$slots);\n  }\n});","import { h } from 'vue';\nexport default () => h(\"svg\", {\n  viewBox: \"0 0 64 64\",\n  class: \"check-icon\"\n}, h(\"path\", {\n  d: \"M50.42,16.76L22.34,39.45l-8.1-11.46c-1.12-1.58-3.3-1.96-4.88-0.84c-1.58,1.12-1.95,3.3-0.84,4.88l10.26,14.51  c0.56,0.79,1.42,1.31,2.38,1.45c0.16,0.02,0.32,0.03,0.48,0.03c0.8,0,1.57-0.27,2.2-0.78l30.99-25.03c1.5-1.21,1.74-3.42,0.52-4.92  C54.13,15.78,51.93,15.55,50.42,16.76z\"\n}));","import { h } from 'vue';\nexport default () => h(\"svg\", {\n  viewBox: \"0 0 100 100\",\n  class: \"line-icon\"\n}, h(\"path\", {\n  d: \"M80.2,55.5H21.4c-2.8,0-5.1-2.5-5.1-5.5l0,0c0-3,2.3-5.5,5.1-5.5h58.7c2.8,0,5.1,2.5,5.1,5.5l0,0C85.2,53.1,82.9,55.5,80.2,55.5z\"\n}));","import { iconSwitchTransition } from \"../../../_styles/transitions/icon-switch.cssr.mjs\";\nimport { c, cB, cE, cM, insideModal, insidePopover } from \"../../../_utils/cssr/index.mjs\";\n// vars:\n// --n-label-line-height\n// --n-bezier\n// --n-size\n// --n-border\n// --n-border-focus\n// --n-border-checked\n// --n-border-disabled\n// --n-border-disabled-checked\n// --n-box-shadow-focus\n// --n-color\n// --n-color-checked\n// --n-color-table\n// --n-color-table-modal\n// --n-color-disabled\n// --n-color-disabled-checked\n// --n-text-color\n// --n-text-color-disabled\n// --n-check-mark-color\n// --n-check-mark-color-disabled\n// --n-check-mark-color-disabled-checked\n// --n-border-radius\n// --n-font-size\n// --n-label-padding\nexport default c([cB('checkbox', `\n font-size: var(--n-font-size);\n outline: none;\n cursor: pointer;\n display: inline-flex;\n flex-wrap: nowrap;\n align-items: flex-start;\n word-break: break-word;\n line-height: var(--n-size);\n --n-merged-color-table: var(--n-color-table);\n `, [cM('show-label', 'line-height: var(--n-label-line-height);'), c('&:hover', [cB('checkbox-box', [cE('border', 'border: var(--n-border-checked);')])]), c('&:focus:not(:active)', [cB('checkbox-box', [cE('border', `\n border: var(--n-border-focus);\n box-shadow: var(--n-box-shadow-focus);\n `)])]), cM('inside-table', [cB('checkbox-box', `\n background-color: var(--n-merged-color-table);\n `)]), cM('checked', [cB('checkbox-box', `\n background-color: var(--n-color-checked);\n `, [cB('checkbox-icon', [\n// if not set width to 100%, safari & old chrome won't display the icon\nc('.check-icon', `\n opacity: 1;\n transform: scale(1);\n `)])])]), cM('indeterminate', [cB('checkbox-box', [cB('checkbox-icon', [c('.check-icon', `\n opacity: 0;\n transform: scale(.5);\n `), c('.line-icon', `\n opacity: 1;\n transform: scale(1);\n `)])])]), cM('checked, indeterminate', [c('&:focus:not(:active)', [cB('checkbox-box', [cE('border', `\n border: var(--n-border-checked);\n box-shadow: var(--n-box-shadow-focus);\n `)])]), cB('checkbox-box', `\n background-color: var(--n-color-checked);\n border-left: 0;\n border-top: 0;\n `, [cE('border', {\n  border: 'var(--n-border-checked)'\n})])]), cM('disabled', {\n  cursor: 'not-allowed'\n}, [cM('checked', [cB('checkbox-box', `\n background-color: var(--n-color-disabled-checked);\n `, [cE('border', {\n  border: 'var(--n-border-disabled-checked)'\n}), cB('checkbox-icon', [c('.check-icon, .line-icon', {\n  fill: 'var(--n-check-mark-color-disabled-checked)'\n})])])]), cB('checkbox-box', `\n background-color: var(--n-color-disabled);\n `, [cE('border', `\n border: var(--n-border-disabled);\n `), cB('checkbox-icon', [c('.check-icon, .line-icon', `\n fill: var(--n-check-mark-color-disabled);\n `)])]), cE('label', `\n color: var(--n-text-color-disabled);\n `)]), cB('checkbox-box-wrapper', `\n position: relative;\n width: var(--n-size);\n flex-shrink: 0;\n flex-grow: 0;\n user-select: none;\n -webkit-user-select: none;\n `), cB('checkbox-box', `\n position: absolute;\n left: 0;\n top: 50%;\n transform: translateY(-50%);\n height: var(--n-size);\n width: var(--n-size);\n display: inline-block;\n box-sizing: border-box;\n border-radius: var(--n-border-radius);\n background-color: var(--n-color);\n transition: background-color 0.3s var(--n-bezier);\n `, [cE('border', `\n transition:\n border-color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n border-radius: inherit;\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n border: var(--n-border);\n `), cB('checkbox-icon', `\n display: flex;\n align-items: center;\n justify-content: center;\n position: absolute;\n left: 1px;\n right: 1px;\n top: 1px;\n bottom: 1px;\n `, [c('.check-icon, .line-icon', `\n width: 100%;\n fill: var(--n-check-mark-color);\n opacity: 0;\n transform: scale(0.5);\n transform-origin: center;\n transition:\n fill 0.3s var(--n-bezier),\n transform 0.3s var(--n-bezier),\n opacity 0.3s var(--n-bezier),\n border-color 0.3s var(--n-bezier);\n `), iconSwitchTransition({\n  left: '1px',\n  top: '1px'\n})])]), cE('label', `\n color: var(--n-text-color);\n transition: color .3s var(--n-bezier);\n user-select: none;\n -webkit-user-select: none;\n padding: var(--n-label-padding);\n font-weight: var(--n-label-font-weight);\n `, [c('&:empty', {\n  display: 'none'\n})])]),\n// modal table header checkbox\ninsideModal(cB('checkbox', `\n --n-merged-color-table: var(--n-color-table-modal);\n `)),\n// popover table header checkbox\ninsidePopover(cB('checkbox', `\n --n-merged-color-table: var(--n-color-table-popover);\n `))]);","import { on } from 'evtd';\nimport { createId } from 'seemly';\nimport { useMemo, useMergedState } from 'vooks';\nimport { computed, defineComponent, h, inject, ref, toRef, watchEffect } from 'vue';\nimport { NIconSwitchTransition } from \"../../_internal/index.mjs\";\nimport { useConfig, useFormItem, useTheme, useThemeClass } from \"../../_mixins/index.mjs\";\nimport { useRtl } from \"../../_mixins/use-rtl.mjs\";\nimport { call, createKey, resolveWrappedSlot, warnOnce } from \"../../_utils/index.mjs\";\nimport { checkboxLight } from \"../styles/index.mjs\";\nimport { checkboxGroupInjectionKey } from \"./CheckboxGroup.mjs\";\nimport renderCheckMark from \"./CheckMark.mjs\";\nimport renderLineMark from \"./LineMark.mjs\";\nimport style from \"./styles/index.cssr.mjs\";\nexport const checkboxProps = Object.assign(Object.assign({}, useTheme.props), {\n  size: String,\n  checked: {\n    type: [Boolean, String, Number],\n    default: undefined\n  },\n  defaultChecked: {\n    type: [Boolean, String, Number],\n    default: false\n  },\n  value: [String, Number],\n  disabled: {\n    type: Boolean,\n    default: undefined\n  },\n  indeterminate: Boolean,\n  label: String,\n  focusable: {\n    type: Boolean,\n    default: true\n  },\n  checkedValue: {\n    type: [Boolean, String, Number],\n    default: true\n  },\n  uncheckedValue: {\n    type: [Boolean, String, Number],\n    default: false\n  },\n  'onUpdate:checked': [Function, Array],\n  onUpdateChecked: [Function, Array],\n  // private\n  privateInsideTable: Boolean,\n  // deprecated\n  onChange: [Function, Array]\n});\nexport default defineComponent({\n  name: 'Checkbox',\n  props: checkboxProps,\n  setup(props) {\n    if (process.env.NODE_ENV !== 'production') {\n      watchEffect(() => {\n        if (props.onChange) {\n          warnOnce('checkbox', '`on-change` is deprecated, please use `on-update:checked` instead.');\n        }\n      });\n    }\n    const NCheckboxGroup = inject(checkboxGroupInjectionKey, null);\n    const selfRef = ref(null);\n    const {\n      mergedClsPrefixRef,\n      inlineThemeDisabled,\n      mergedRtlRef\n    } = useConfig(props);\n    const uncontrolledCheckedRef = ref(props.defaultChecked);\n    const controlledCheckedRef = toRef(props, 'checked');\n    const mergedCheckedRef = useMergedState(controlledCheckedRef, uncontrolledCheckedRef);\n    const renderedCheckedRef = useMemo(() => {\n      if (NCheckboxGroup) {\n        const groupValueSet = NCheckboxGroup.valueSetRef.value;\n        if (groupValueSet && props.value !== undefined) {\n          return groupValueSet.has(props.value);\n        }\n        return false;\n      } else {\n        return mergedCheckedRef.value === props.checkedValue;\n      }\n    });\n    const formItem = useFormItem(props, {\n      mergedSize(NFormItem) {\n        const {\n          size\n        } = props;\n        if (size !== undefined) return size;\n        if (NCheckboxGroup) {\n          const {\n            value: mergedSize\n          } = NCheckboxGroup.mergedSizeRef;\n          if (mergedSize !== undefined) {\n            return mergedSize;\n          }\n        }\n        if (NFormItem) {\n          const {\n            mergedSize\n          } = NFormItem;\n          if (mergedSize !== undefined) return mergedSize.value;\n        }\n        return 'medium';\n      },\n      mergedDisabled(NFormItem) {\n        const {\n          disabled\n        } = props;\n        if (disabled !== undefined) return disabled;\n        if (NCheckboxGroup) {\n          if (NCheckboxGroup.disabledRef.value) return true;\n          const {\n            maxRef: {\n              value: max\n            },\n            checkedCountRef\n          } = NCheckboxGroup;\n          if (max !== undefined && checkedCountRef.value >= max && !renderedCheckedRef.value) {\n            return true;\n          }\n          const {\n            minRef: {\n              value: min\n            }\n          } = NCheckboxGroup;\n          if (min !== undefined && checkedCountRef.value <= min && renderedCheckedRef.value) {\n            return true;\n          }\n        }\n        if (NFormItem) {\n          return NFormItem.disabled.value;\n        }\n        return false;\n      }\n    });\n    const {\n      mergedDisabledRef,\n      mergedSizeRef\n    } = formItem;\n    const themeRef = useTheme('Checkbox', '-checkbox', style, checkboxLight, props, mergedClsPrefixRef);\n    function toggle(e) {\n      if (NCheckboxGroup && props.value !== undefined) {\n        NCheckboxGroup.toggleCheckbox(!renderedCheckedRef.value, props.value);\n      } else {\n        const {\n          onChange,\n          'onUpdate:checked': _onUpdateCheck,\n          onUpdateChecked\n        } = props;\n        const {\n          nTriggerFormInput,\n          nTriggerFormChange\n        } = formItem;\n        const nextChecked = renderedCheckedRef.value ? props.uncheckedValue : props.checkedValue;\n        if (_onUpdateCheck) {\n          call(_onUpdateCheck, nextChecked, e);\n        }\n        if (onUpdateChecked) {\n          call(onUpdateChecked, nextChecked, e);\n        }\n        if (onChange) call(onChange, nextChecked, e); // deprecated\n        nTriggerFormInput();\n        nTriggerFormChange();\n        uncontrolledCheckedRef.value = nextChecked;\n      }\n    }\n    function handleClick(e) {\n      if (!mergedDisabledRef.value) {\n        toggle(e);\n      }\n    }\n    function handleKeyUp(e) {\n      if (mergedDisabledRef.value) return;\n      switch (e.key) {\n        case ' ':\n        case 'Enter':\n          toggle(e);\n      }\n    }\n    function handleKeyDown(e) {\n      switch (e.key) {\n        case ' ':\n          e.preventDefault();\n      }\n    }\n    const exposedMethods = {\n      focus: () => {\n        var _a;\n        (_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n      },\n      blur: () => {\n        var _a;\n        (_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.blur();\n      }\n    };\n    const rtlEnabledRef = useRtl('Checkbox', mergedRtlRef, mergedClsPrefixRef);\n    const cssVarsRef = computed(() => {\n      const {\n        value: mergedSize\n      } = mergedSizeRef;\n      const {\n        common: {\n          cubicBezierEaseInOut\n        },\n        self: {\n          borderRadius,\n          color,\n          colorChecked,\n          colorDisabled,\n          colorTableHeader,\n          colorTableHeaderModal,\n          colorTableHeaderPopover,\n          checkMarkColor,\n          checkMarkColorDisabled,\n          border,\n          borderFocus,\n          borderDisabled,\n          borderChecked,\n          boxShadowFocus,\n          textColor,\n          textColorDisabled,\n          checkMarkColorDisabledChecked,\n          colorDisabledChecked,\n          borderDisabledChecked,\n          labelPadding,\n          labelLineHeight,\n          labelFontWeight,\n          [createKey('fontSize', mergedSize)]: fontSize,\n          [createKey('size', mergedSize)]: size\n        }\n      } = themeRef.value;\n      return {\n        '--n-label-line-height': labelLineHeight,\n        '--n-label-font-weight': labelFontWeight,\n        '--n-size': size,\n        '--n-bezier': cubicBezierEaseInOut,\n        '--n-border-radius': borderRadius,\n        '--n-border': border,\n        '--n-border-checked': borderChecked,\n        '--n-border-focus': borderFocus,\n        '--n-border-disabled': borderDisabled,\n        '--n-border-disabled-checked': borderDisabledChecked,\n        '--n-box-shadow-focus': boxShadowFocus,\n        '--n-color': color,\n        '--n-color-checked': colorChecked,\n        '--n-color-table': colorTableHeader,\n        '--n-color-table-modal': colorTableHeaderModal,\n        '--n-color-table-popover': colorTableHeaderPopover,\n        '--n-color-disabled': colorDisabled,\n        '--n-color-disabled-checked': colorDisabledChecked,\n        '--n-text-color': textColor,\n        '--n-text-color-disabled': textColorDisabled,\n        '--n-check-mark-color': checkMarkColor,\n        '--n-check-mark-color-disabled': checkMarkColorDisabled,\n        '--n-check-mark-color-disabled-checked': checkMarkColorDisabledChecked,\n        '--n-font-size': fontSize,\n        '--n-label-padding': labelPadding\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('checkbox', computed(() => mergedSizeRef.value[0]), cssVarsRef, props) : undefined;\n    return Object.assign(formItem, exposedMethods, {\n      rtlEnabled: rtlEnabledRef,\n      selfRef,\n      mergedClsPrefix: mergedClsPrefixRef,\n      mergedDisabled: mergedDisabledRef,\n      renderedChecked: renderedCheckedRef,\n      mergedTheme: themeRef,\n      labelId: createId(),\n      handleClick,\n      handleKeyUp,\n      handleKeyDown,\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    });\n  },\n  render() {\n    var _a;\n    const {\n      $slots,\n      renderedChecked,\n      mergedDisabled,\n      indeterminate,\n      privateInsideTable,\n      cssVars,\n      labelId,\n      label,\n      mergedClsPrefix,\n      focusable,\n      handleKeyUp,\n      handleKeyDown,\n      handleClick\n    } = this;\n    (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n    const labelNode = resolveWrappedSlot($slots.default, children => {\n      if (label || children) {\n        return h(\"span\", {\n          class: `${mergedClsPrefix}-checkbox__label`,\n          id: labelId\n        }, label || children);\n      }\n      return null;\n    });\n    return h(\"div\", {\n      ref: \"selfRef\",\n      class: [`${mergedClsPrefix}-checkbox`, this.themeClass, this.rtlEnabled && `${mergedClsPrefix}-checkbox--rtl`, renderedChecked && `${mergedClsPrefix}-checkbox--checked`, mergedDisabled && `${mergedClsPrefix}-checkbox--disabled`, indeterminate && `${mergedClsPrefix}-checkbox--indeterminate`, privateInsideTable && `${mergedClsPrefix}-checkbox--inside-table`, labelNode && `${mergedClsPrefix}-checkbox--show-label`],\n      tabindex: mergedDisabled || !focusable ? undefined : 0,\n      role: \"checkbox\",\n      \"aria-checked\": indeterminate ? 'mixed' : renderedChecked,\n      \"aria-labelledby\": labelId,\n      style: cssVars,\n      onKeyup: handleKeyUp,\n      onKeydown: handleKeyDown,\n      onClick: handleClick,\n      onMousedown: () => {\n        on('selectstart', window, e => {\n          e.preventDefault();\n        }, {\n          once: true\n        });\n      }\n    }, h(\"div\", {\n      class: `${mergedClsPrefix}-checkbox-box-wrapper`\n    }, \"\\u00A0\", h(\"div\", {\n      class: `${mergedClsPrefix}-checkbox-box`\n    }, h(NIconSwitchTransition, null, {\n      default: () => this.indeterminate ? h(\"div\", {\n        key: \"indeterminate\",\n        class: `${mergedClsPrefix}-checkbox-icon`\n      }, renderLineMark()) : h(\"div\", {\n        key: \"check\",\n        class: `${mergedClsPrefix}-checkbox-icon`\n      }, renderCheckMark())\n    }), h(\"div\", {\n      class: `${mergedClsPrefix}-checkbox-box__border`\n    }))), labelNode);\n  }\n});","import { fadeInScaleUpTransition } from \"../../../_styles/transitions/fade-in-scale-up.cssr.mjs\";\nimport { c, cB } from \"../../../_utils/cssr/index.mjs\";\n// --n-menu-box-shadow\nexport default c([cB('select', `\n z-index: auto;\n outline: none;\n width: 100%;\n position: relative;\n font-weight: var(--n-font-weight);\n `), cB('select-menu', `\n margin: 4px 0;\n box-shadow: var(--n-menu-box-shadow);\n `, [fadeInScaleUpTransition({\n  originalTransition: 'background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)'\n})])]);","import { getPreciseEventTarget, happensIn } from 'seemly';\nimport { createTreeMate } from 'treemate';\nimport { clickoutside } from 'vdirs';\nimport { useCompitable, useIsMounted, useMergedState } from 'vooks';\nimport { computed, defineComponent, h, ref, toRef, Transition, vShow, watch, watchEffect, withDirectives } from 'vue';\nimport { VBinder, VFollower, VTarget } from 'vueuc';\nimport { NInternalSelection, NInternalSelectMenu } from \"../../_internal/index.mjs\";\nimport { useConfig, useFormItem, useLocale, useTheme, useThemeClass } from \"../../_mixins/index.mjs\";\nimport { call, markEventEffectPerformed, useAdjustedTo, warnOnce } from \"../../_utils/index.mjs\";\nimport { selectLight } from \"../styles/index.mjs\";\nimport style from \"./styles/index.cssr.mjs\";\nimport { createTmOptions, createValOptMap, filterOptions, patternMatched } from \"./utils.mjs\";\nexport const selectProps = Object.assign(Object.assign({}, useTheme.props), {\n  to: useAdjustedTo.propTo,\n  bordered: {\n    type: Boolean,\n    default: undefined\n  },\n  clearable: Boolean,\n  clearFilterAfterSelect: {\n    type: Boolean,\n    default: true\n  },\n  options: {\n    type: Array,\n    default: () => []\n  },\n  defaultValue: {\n    type: [String, Number, Array],\n    default: null\n  },\n  keyboard: {\n    type: Boolean,\n    default: true\n  },\n  value: [String, Number, Array],\n  placeholder: String,\n  menuProps: Object,\n  multiple: Boolean,\n  size: String,\n  menuSize: {\n    type: String\n  },\n  filterable: Boolean,\n  disabled: {\n    type: Boolean,\n    default: undefined\n  },\n  remote: Boolean,\n  loading: Boolean,\n  filter: Function,\n  placement: {\n    type: String,\n    default: 'bottom-start'\n  },\n  widthMode: {\n    type: String,\n    default: 'trigger'\n  },\n  tag: Boolean,\n  onCreate: Function,\n  fallbackOption: {\n    type: [Function, Boolean],\n    default: undefined\n  },\n  show: {\n    type: Boolean,\n    default: undefined\n  },\n  showArrow: {\n    type: Boolean,\n    default: true\n  },\n  maxTagCount: [Number, String],\n  ellipsisTagPopoverProps: Object,\n  consistentMenuWidth: {\n    type: Boolean,\n    default: true\n  },\n  virtualScroll: {\n    type: Boolean,\n    default: true\n  },\n  labelField: {\n    type: String,\n    default: 'label'\n  },\n  valueField: {\n    type: String,\n    default: 'value'\n  },\n  childrenField: {\n    type: String,\n    default: 'children'\n  },\n  renderLabel: Function,\n  renderOption: Function,\n  renderTag: Function,\n  'onUpdate:value': [Function, Array],\n  inputProps: Object,\n  nodeProps: Function,\n  ignoreComposition: {\n    type: Boolean,\n    default: true\n  },\n  showOnFocus: Boolean,\n  // for jsx\n  onUpdateValue: [Function, Array],\n  onBlur: [Function, Array],\n  onClear: [Function, Array],\n  onFocus: [Function, Array],\n  onScroll: [Function, Array],\n  onSearch: [Function, Array],\n  onUpdateShow: [Function, Array],\n  'onUpdate:show': [Function, Array],\n  displayDirective: {\n    type: String,\n    default: 'show'\n  },\n  resetMenuOnOptionsChange: {\n    type: Boolean,\n    default: true\n  },\n  status: String,\n  showCheckmark: {\n    type: Boolean,\n    default: true\n  },\n  /** deprecated */\n  onChange: [Function, Array],\n  items: Array\n});\nexport default defineComponent({\n  name: 'Select',\n  props: selectProps,\n  slots: Object,\n  setup(props) {\n    if (process.env.NODE_ENV !== 'production') {\n      watchEffect(() => {\n        if (props.items !== undefined) {\n          warnOnce('select', '`items` is deprecated, please use `options` instead.');\n        }\n        if (props.onChange !== undefined) {\n          warnOnce('select', '`on-change` is deprecated, please use `on-update:value` instead.');\n        }\n      });\n    }\n    const {\n      mergedClsPrefixRef,\n      mergedBorderedRef,\n      namespaceRef,\n      inlineThemeDisabled\n    } = useConfig(props);\n    const themeRef = useTheme('Select', '-select', style, selectLight, props, mergedClsPrefixRef);\n    const uncontrolledValueRef = ref(props.defaultValue);\n    const controlledValueRef = toRef(props, 'value');\n    const mergedValueRef = useMergedState(controlledValueRef, uncontrolledValueRef);\n    const focusedRef = ref(false);\n    const patternRef = ref('');\n    const compitableOptionsRef = useCompitable(props, ['items', 'options']);\n    const createdOptionsRef = ref([]);\n    const beingCreatedOptionsRef = ref([]);\n    const localOptionsRef = computed(() => {\n      return beingCreatedOptionsRef.value.concat(createdOptionsRef.value).concat(compitableOptionsRef.value);\n    });\n    const resolvedFilterRef = computed(() => {\n      const {\n        filter\n      } = props;\n      if (filter) return filter;\n      const {\n        labelField,\n        valueField\n      } = props;\n      return (pattern, option) => {\n        if (!option) return false;\n        const label = option[labelField];\n        if (typeof label === 'string') {\n          return patternMatched(pattern, label);\n        }\n        const value = option[valueField];\n        if (typeof value === 'string') {\n          return patternMatched(pattern, value);\n        }\n        if (typeof value === 'number') {\n          return patternMatched(pattern, String(value));\n        }\n        return false;\n      };\n    });\n    const filteredOptionsRef = computed(() => {\n      if (props.remote) {\n        return compitableOptionsRef.value;\n      } else {\n        const {\n          value: localOptions\n        } = localOptionsRef;\n        const {\n          value: pattern\n        } = patternRef;\n        if (!pattern.length || !props.filterable) {\n          return localOptions;\n        } else {\n          return filterOptions(localOptions, resolvedFilterRef.value, pattern, props.childrenField);\n        }\n      }\n    });\n    const treeMateRef = computed(() => {\n      const {\n        valueField,\n        childrenField\n      } = props;\n      const options = createTmOptions(valueField, childrenField);\n      return createTreeMate(filteredOptionsRef.value, options);\n    });\n    const valOptMapRef = computed(() => createValOptMap(localOptionsRef.value, props.valueField, props.childrenField));\n    const uncontrolledShowRef = ref(false);\n    const mergedShowRef = useMergedState(toRef(props, 'show'), uncontrolledShowRef);\n    const triggerRef = ref(null);\n    const followerRef = ref(null);\n    const menuRef = ref(null);\n    const {\n      localeRef\n    } = useLocale('Select');\n    const localizedPlaceholderRef = computed(() => {\n      var _a;\n      return (_a = props.placeholder) !== null && _a !== void 0 ? _a : localeRef.value.placeholder;\n    });\n    const emptyArray = [];\n    const memoValOptMapRef = ref(new Map());\n    const wrappedFallbackOptionRef = computed(() => {\n      const {\n        fallbackOption\n      } = props;\n      if (fallbackOption === undefined) {\n        const {\n          labelField,\n          valueField\n        } = props;\n        return value => ({\n          [labelField]: String(value),\n          [valueField]: value\n        });\n      }\n      if (fallbackOption === false) return false;\n      return value => {\n        return Object.assign(fallbackOption(value), {\n          value\n        });\n      };\n    });\n    function getMergedOptions(values) {\n      const remote = props.remote;\n      const {\n        value: memoValOptMap\n      } = memoValOptMapRef;\n      const {\n        value: valOptMap\n      } = valOptMapRef;\n      const {\n        value: wrappedFallbackOption\n      } = wrappedFallbackOptionRef;\n      const options = [];\n      values.forEach(value => {\n        if (valOptMap.has(value)) {\n          options.push(valOptMap.get(value));\n        } else if (remote && memoValOptMap.has(value)) {\n          options.push(memoValOptMap.get(value));\n        } else if (wrappedFallbackOption) {\n          const option = wrappedFallbackOption(value);\n          if (option) {\n            options.push(option);\n          }\n        }\n      });\n      return options;\n    }\n    const selectedOptionsRef = computed(() => {\n      if (props.multiple) {\n        const {\n          value: values\n        } = mergedValueRef;\n        if (!Array.isArray(values)) return [];\n        return getMergedOptions(values);\n      }\n      return null;\n    });\n    const selectedOptionRef = computed(() => {\n      const {\n        value: mergedValue\n      } = mergedValueRef;\n      if (!props.multiple && !Array.isArray(mergedValue)) {\n        if (mergedValue === null) return null;\n        return getMergedOptions([mergedValue])[0] || null;\n      }\n      return null;\n    });\n    const formItem = useFormItem(props);\n    const {\n      mergedSizeRef,\n      mergedDisabledRef,\n      mergedStatusRef\n    } = formItem;\n    function doUpdateValue(value, option) {\n      const {\n        onChange,\n        'onUpdate:value': _onUpdateValue,\n        onUpdateValue\n      } = props;\n      const {\n        nTriggerFormChange,\n        nTriggerFormInput\n      } = formItem;\n      if (onChange) call(onChange, value, option);\n      if (onUpdateValue) call(onUpdateValue, value, option);\n      if (_onUpdateValue) {\n        call(_onUpdateValue, value, option);\n      }\n      uncontrolledValueRef.value = value;\n      nTriggerFormChange();\n      nTriggerFormInput();\n    }\n    function doBlur(e) {\n      const {\n        onBlur\n      } = props;\n      const {\n        nTriggerFormBlur\n      } = formItem;\n      if (onBlur) call(onBlur, e);\n      nTriggerFormBlur();\n    }\n    function doClear() {\n      const {\n        onClear\n      } = props;\n      if (onClear) call(onClear);\n    }\n    function doFocus(e) {\n      const {\n        onFocus,\n        showOnFocus\n      } = props;\n      const {\n        nTriggerFormFocus\n      } = formItem;\n      if (onFocus) call(onFocus, e);\n      nTriggerFormFocus();\n      if (showOnFocus) {\n        openMenu();\n      }\n    }\n    function doSearch(value) {\n      const {\n        onSearch\n      } = props;\n      if (onSearch) call(onSearch, value);\n    }\n    function doScroll(e) {\n      const {\n        onScroll\n      } = props;\n      if (onScroll) call(onScroll, e);\n    }\n    // remote related methods\n    function updateMemorizedOptions() {\n      var _a;\n      const {\n        remote,\n        multiple\n      } = props;\n      if (remote) {\n        const {\n          value: memoValOptMap\n        } = memoValOptMapRef;\n        if (multiple) {\n          const {\n            valueField\n          } = props;\n          (_a = selectedOptionsRef.value) === null || _a === void 0 ? void 0 : _a.forEach(option => {\n            memoValOptMap.set(option[valueField], option);\n          });\n        } else {\n          const option = selectedOptionRef.value;\n          if (option) {\n            memoValOptMap.set(option[props.valueField], option);\n          }\n        }\n      }\n    }\n    // menu related methods\n    function doUpdateShow(value) {\n      const {\n        onUpdateShow,\n        'onUpdate:show': _onUpdateShow\n      } = props;\n      if (onUpdateShow) call(onUpdateShow, value);\n      if (_onUpdateShow) call(_onUpdateShow, value);\n      uncontrolledShowRef.value = value;\n    }\n    function openMenu() {\n      if (!mergedDisabledRef.value) {\n        doUpdateShow(true);\n        uncontrolledShowRef.value = true;\n        if (props.filterable) {\n          focusSelectionInput();\n        }\n      }\n    }\n    function closeMenu() {\n      doUpdateShow(false);\n    }\n    function handleMenuAfterLeave() {\n      patternRef.value = '';\n      beingCreatedOptionsRef.value = emptyArray;\n    }\n    const activeWithoutMenuOpenRef = ref(false);\n    function onTriggerInputFocus() {\n      if (props.filterable) {\n        activeWithoutMenuOpenRef.value = true;\n      }\n    }\n    function onTriggerInputBlur() {\n      if (props.filterable) {\n        activeWithoutMenuOpenRef.value = false;\n        if (!mergedShowRef.value) {\n          handleMenuAfterLeave();\n        }\n      }\n    }\n    function handleTriggerClick() {\n      if (mergedDisabledRef.value) return;\n      if (!mergedShowRef.value) {\n        openMenu();\n      } else {\n        if (!props.filterable) {\n          // already focused, don't need to return focus\n          closeMenu();\n        } else {\n          focusSelectionInput();\n        }\n      }\n    }\n    function handleTriggerBlur(e) {\n      var _a, _b;\n      if ((_b = (_a = menuRef.value) === null || _a === void 0 ? void 0 : _a.selfRef) === null || _b === void 0 ? void 0 : _b.contains(e.relatedTarget)) {\n        return;\n      }\n      focusedRef.value = false;\n      doBlur(e);\n      // outside select, don't need to return focus\n      closeMenu();\n    }\n    function handleTriggerFocus(e) {\n      doFocus(e);\n      focusedRef.value = true;\n    }\n    function handleMenuFocus() {\n      focusedRef.value = true;\n    }\n    function handleMenuBlur(e) {\n      var _a;\n      if ((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains(e.relatedTarget)) return;\n      focusedRef.value = false;\n      doBlur(e);\n      // outside select, don't need to return focus\n      closeMenu();\n    }\n    function handleMenuTabOut() {\n      var _a;\n      (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n      closeMenu();\n    }\n    function handleMenuClickOutside(e) {\n      var _a;\n      if (mergedShowRef.value) {\n        if (!((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains(getPreciseEventTarget(e)))) {\n          // outside select, don't need to return focus\n          closeMenu();\n        }\n      }\n    }\n    function createClearedMultipleSelectValue(value) {\n      if (!Array.isArray(value)) return [];\n      if (wrappedFallbackOptionRef.value) {\n        // if option has a fallback, I can't help user to clear some unknown value\n        return Array.from(value);\n      } else {\n        // if there's no option fallback, unappeared options are treated as invalid\n        const {\n          remote\n        } = props;\n        const {\n          value: valOptMap\n        } = valOptMapRef;\n        if (remote) {\n          const {\n            value: memoValOptMap\n          } = memoValOptMapRef;\n          return value.filter(v => valOptMap.has(v) || memoValOptMap.has(v));\n        } else {\n          return value.filter(v => valOptMap.has(v));\n        }\n      }\n    }\n    function handleToggleByTmNode(tmNode) {\n      handleToggleByOption(tmNode.rawNode);\n    }\n    function handleToggleByOption(option) {\n      if (mergedDisabledRef.value) return;\n      const {\n        tag,\n        remote,\n        clearFilterAfterSelect,\n        valueField\n      } = props;\n      if (tag && !remote) {\n        const {\n          value: beingCreatedOptions\n        } = beingCreatedOptionsRef;\n        const beingCreatedOption = beingCreatedOptions[0] || null;\n        if (beingCreatedOption) {\n          const createdOptions = createdOptionsRef.value;\n          if (!createdOptions.length) {\n            createdOptionsRef.value = [beingCreatedOption];\n          } else {\n            createdOptions.push(beingCreatedOption);\n          }\n          beingCreatedOptionsRef.value = emptyArray;\n        }\n      }\n      if (remote) {\n        memoValOptMapRef.value.set(option[valueField], option);\n      }\n      if (props.multiple) {\n        const changedValue = createClearedMultipleSelectValue(mergedValueRef.value);\n        const index = changedValue.findIndex(value => value === option[valueField]);\n        if (~index) {\n          changedValue.splice(index, 1);\n          if (tag && !remote) {\n            const createdOptionIndex = getCreatedOptionIndex(option[valueField]);\n            if (~createdOptionIndex) {\n              createdOptionsRef.value.splice(createdOptionIndex, 1);\n              if (clearFilterAfterSelect) patternRef.value = '';\n            }\n          }\n        } else {\n          changedValue.push(option[valueField]);\n          if (clearFilterAfterSelect) patternRef.value = '';\n        }\n        doUpdateValue(changedValue, getMergedOptions(changedValue));\n      } else {\n        if (tag && !remote) {\n          const createdOptionIndex = getCreatedOptionIndex(option[valueField]);\n          if (~createdOptionIndex) {\n            createdOptionsRef.value = [createdOptionsRef.value[createdOptionIndex]];\n          } else {\n            createdOptionsRef.value = emptyArray;\n          }\n        }\n        focusSelection();\n        closeMenu();\n        doUpdateValue(option[valueField], option);\n      }\n    }\n    function getCreatedOptionIndex(optionValue) {\n      const createdOptions = createdOptionsRef.value;\n      return createdOptions.findIndex(createdOption => createdOption[props.valueField] === optionValue);\n    }\n    function handlePatternInput(e) {\n      if (!mergedShowRef.value) {\n        openMenu();\n      }\n      const {\n        value\n      } = e.target;\n      patternRef.value = value;\n      const {\n        tag,\n        remote\n      } = props;\n      doSearch(value);\n      if (tag && !remote) {\n        if (!value) {\n          beingCreatedOptionsRef.value = emptyArray;\n          return;\n        }\n        const {\n          onCreate\n        } = props;\n        const optionBeingCreated = onCreate ? onCreate(value) : {\n          [props.labelField]: value,\n          [props.valueField]: value\n        };\n        const {\n          valueField,\n          labelField\n        } = props;\n        if (compitableOptionsRef.value.some(option => {\n          return option[valueField] === optionBeingCreated[valueField] || option[labelField] === optionBeingCreated[labelField];\n        }) || createdOptionsRef.value.some(option => {\n          return option[valueField] === optionBeingCreated[valueField] || option[labelField] === optionBeingCreated[labelField];\n        })) {\n          beingCreatedOptionsRef.value = emptyArray;\n        } else {\n          beingCreatedOptionsRef.value = [optionBeingCreated];\n        }\n      }\n    }\n    function handleClear(e) {\n      e.stopPropagation();\n      const {\n        multiple\n      } = props;\n      if (!multiple && props.filterable) {\n        closeMenu();\n      }\n      doClear();\n      if (multiple) {\n        doUpdateValue([], []);\n      } else {\n        doUpdateValue(null, null);\n      }\n    }\n    function handleMenuMousedown(e) {\n      if (!happensIn(e, 'action') && !happensIn(e, 'empty') && !happensIn(e, 'header')) {\n        e.preventDefault();\n      }\n    }\n    // scroll events on menu\n    function handleMenuScroll(e) {\n      doScroll(e);\n    }\n    // keyboard events\n    // also for menu keydown\n    function handleKeydown(e) {\n      var _a, _b, _c, _d, _e;\n      if (!props.keyboard) {\n        e.preventDefault();\n        return;\n      }\n      switch (e.key) {\n        case ' ':\n          if (props.filterable) {\n            break;\n          } else {\n            e.preventDefault();\n          }\n        // eslint-disable-next-line no-fallthrough\n        case 'Enter':\n          if (!((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.isComposing)) {\n            if (mergedShowRef.value) {\n              const pendingTmNode = (_b = menuRef.value) === null || _b === void 0 ? void 0 : _b.getPendingTmNode();\n              if (pendingTmNode) {\n                handleToggleByTmNode(pendingTmNode);\n              } else if (!props.filterable) {\n                closeMenu();\n                focusSelection();\n              }\n            } else {\n              openMenu();\n              if (props.tag && activeWithoutMenuOpenRef.value) {\n                const beingCreatedOption = beingCreatedOptionsRef.value[0];\n                if (beingCreatedOption) {\n                  const optionValue = beingCreatedOption[props.valueField];\n                  const {\n                    value: mergedValue\n                  } = mergedValueRef;\n                  if (props.multiple) {\n                    if (Array.isArray(mergedValue) && mergedValue.includes(optionValue)) {\n                      // do nothing\n                    } else {\n                      handleToggleByOption(beingCreatedOption);\n                    }\n                  } else {\n                    handleToggleByOption(beingCreatedOption);\n                  }\n                }\n              }\n            }\n          }\n          e.preventDefault();\n          break;\n        case 'ArrowUp':\n          e.preventDefault();\n          if (props.loading) return;\n          if (mergedShowRef.value) {\n            (_c = menuRef.value) === null || _c === void 0 ? void 0 : _c.prev();\n          }\n          break;\n        case 'ArrowDown':\n          e.preventDefault();\n          if (props.loading) return;\n          if (mergedShowRef.value) {\n            (_d = menuRef.value) === null || _d === void 0 ? void 0 : _d.next();\n          } else {\n            openMenu();\n          }\n          break;\n        case 'Escape':\n          if (mergedShowRef.value) {\n            markEventEffectPerformed(e);\n            closeMenu();\n          }\n          (_e = triggerRef.value) === null || _e === void 0 ? void 0 : _e.focus();\n          break;\n      }\n    }\n    function focusSelection() {\n      var _a;\n      (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    function focusSelectionInput() {\n      var _a;\n      (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focusInput();\n    }\n    function handleTriggerOrMenuResize() {\n      var _a;\n      if (!mergedShowRef.value) return;\n      (_a = followerRef.value) === null || _a === void 0 ? void 0 : _a.syncPosition();\n    }\n    updateMemorizedOptions();\n    watch(toRef(props, 'options'), updateMemorizedOptions);\n    const exposedMethods = {\n      focus: () => {\n        var _a;\n        (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n      },\n      focusInput: () => {\n        var _a;\n        (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focusInput();\n      },\n      blur: () => {\n        var _a;\n        (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.blur();\n      },\n      blurInput: () => {\n        var _a;\n        (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.blurInput();\n      }\n    };\n    const cssVarsRef = computed(() => {\n      const {\n        self: {\n          menuBoxShadow\n        }\n      } = themeRef.value;\n      return {\n        '--n-menu-box-shadow': menuBoxShadow\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('select', undefined, cssVarsRef, props) : undefined;\n    return Object.assign(Object.assign({}, exposedMethods), {\n      mergedStatus: mergedStatusRef,\n      mergedClsPrefix: mergedClsPrefixRef,\n      mergedBordered: mergedBorderedRef,\n      namespace: namespaceRef,\n      treeMate: treeMateRef,\n      isMounted: useIsMounted(),\n      triggerRef,\n      menuRef,\n      pattern: patternRef,\n      uncontrolledShow: uncontrolledShowRef,\n      mergedShow: mergedShowRef,\n      adjustedTo: useAdjustedTo(props),\n      uncontrolledValue: uncontrolledValueRef,\n      mergedValue: mergedValueRef,\n      followerRef,\n      localizedPlaceholder: localizedPlaceholderRef,\n      selectedOption: selectedOptionRef,\n      selectedOptions: selectedOptionsRef,\n      mergedSize: mergedSizeRef,\n      mergedDisabled: mergedDisabledRef,\n      focused: focusedRef,\n      activeWithoutMenuOpen: activeWithoutMenuOpenRef,\n      inlineThemeDisabled,\n      onTriggerInputFocus,\n      onTriggerInputBlur,\n      handleTriggerOrMenuResize,\n      handleMenuFocus,\n      handleMenuBlur,\n      handleMenuTabOut,\n      handleTriggerClick,\n      handleToggle: handleToggleByTmNode,\n      handleDeleteOption: handleToggleByOption,\n      handlePatternInput,\n      handleClear,\n      handleTriggerBlur,\n      handleTriggerFocus,\n      handleKeydown,\n      handleMenuAfterLeave,\n      handleMenuClickOutside,\n      handleMenuScroll,\n      handleMenuKeydown: handleKeydown,\n      handleMenuMousedown,\n      mergedTheme: themeRef,\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    });\n  },\n  render() {\n    return h(\"div\", {\n      class: `${this.mergedClsPrefix}-select`\n    }, h(VBinder, null, {\n      default: () => [h(VTarget, null, {\n        default: () => h(NInternalSelection, {\n          ref: \"triggerRef\",\n          inlineThemeDisabled: this.inlineThemeDisabled,\n          status: this.mergedStatus,\n          inputProps: this.inputProps,\n          clsPrefix: this.mergedClsPrefix,\n          showArrow: this.showArrow,\n          maxTagCount: this.maxTagCount,\n          ellipsisTagPopoverProps: this.ellipsisTagPopoverProps,\n          bordered: this.mergedBordered,\n          active: this.activeWithoutMenuOpen || this.mergedShow,\n          pattern: this.pattern,\n          placeholder: this.localizedPlaceholder,\n          selectedOption: this.selectedOption,\n          selectedOptions: this.selectedOptions,\n          multiple: this.multiple,\n          renderTag: this.renderTag,\n          renderLabel: this.renderLabel,\n          filterable: this.filterable,\n          clearable: this.clearable,\n          disabled: this.mergedDisabled,\n          size: this.mergedSize,\n          theme: this.mergedTheme.peers.InternalSelection,\n          labelField: this.labelField,\n          valueField: this.valueField,\n          themeOverrides: this.mergedTheme.peerOverrides.InternalSelection,\n          loading: this.loading,\n          focused: this.focused,\n          onClick: this.handleTriggerClick,\n          onDeleteOption: this.handleDeleteOption,\n          onPatternInput: this.handlePatternInput,\n          onClear: this.handleClear,\n          onBlur: this.handleTriggerBlur,\n          onFocus: this.handleTriggerFocus,\n          onKeydown: this.handleKeydown,\n          onPatternBlur: this.onTriggerInputBlur,\n          onPatternFocus: this.onTriggerInputFocus,\n          onResize: this.handleTriggerOrMenuResize,\n          ignoreComposition: this.ignoreComposition\n        }, {\n          arrow: () => {\n            var _a, _b;\n            return [(_b = (_a = this.$slots).arrow) === null || _b === void 0 ? void 0 : _b.call(_a)];\n          }\n        })\n      }), h(VFollower, {\n        ref: \"followerRef\",\n        show: this.mergedShow,\n        to: this.adjustedTo,\n        teleportDisabled: this.adjustedTo === useAdjustedTo.tdkey,\n        containerClass: this.namespace,\n        width: this.consistentMenuWidth ? 'target' : undefined,\n        minWidth: \"target\",\n        placement: this.placement\n      }, {\n        default: () => h(Transition, {\n          name: \"fade-in-scale-up-transition\",\n          appear: this.isMounted,\n          onAfterLeave: this.handleMenuAfterLeave\n        }, {\n          default: () => {\n            var _a, _b, _c;\n            if (!(this.mergedShow || this.displayDirective === 'show')) {\n              return null;\n            }\n            (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n            return withDirectives(h(NInternalSelectMenu, Object.assign({}, this.menuProps, {\n              ref: \"menuRef\",\n              onResize: this.handleTriggerOrMenuResize,\n              inlineThemeDisabled: this.inlineThemeDisabled,\n              virtualScroll: this.consistentMenuWidth && this.virtualScroll,\n              class: [`${this.mergedClsPrefix}-select-menu`, this.themeClass, (_b = this.menuProps) === null || _b === void 0 ? void 0 : _b.class],\n              clsPrefix: this.mergedClsPrefix,\n              focusable: true,\n              labelField: this.labelField,\n              valueField: this.valueField,\n              autoPending: true,\n              nodeProps: this.nodeProps,\n              theme: this.mergedTheme.peers.InternalSelectMenu,\n              themeOverrides: this.mergedTheme.peerOverrides.InternalSelectMenu,\n              treeMate: this.treeMate,\n              multiple: this.multiple,\n              size: this.menuSize,\n              renderOption: this.renderOption,\n              renderLabel: this.renderLabel,\n              value: this.mergedValue,\n              style: [(_c = this.menuProps) === null || _c === void 0 ? void 0 : _c.style, this.cssVars],\n              onToggle: this.handleToggle,\n              onScroll: this.handleMenuScroll,\n              onFocus: this.handleMenuFocus,\n              onBlur: this.handleMenuBlur,\n              onKeydown: this.handleMenuKeydown,\n              onTabOut: this.handleMenuTabOut,\n              onMousedown: this.handleMenuMousedown,\n              show: this.mergedShow,\n              showCheckmark: this.showCheckmark,\n              resetMenuOnOptionsChange: this.resetMenuOnOptionsChange\n            }), {\n              empty: () => {\n                var _a, _b;\n                return [(_b = (_a = this.$slots).empty) === null || _b === void 0 ? void 0 : _b.call(_a)];\n              },\n              header: () => {\n                var _a, _b;\n                return [(_b = (_a = this.$slots).header) === null || _b === void 0 ? void 0 : _b.call(_a)];\n              },\n              action: () => {\n                var _a, _b;\n                return [(_b = (_a = this.$slots).action) === null || _b === void 0 ? void 0 : _b.call(_a)];\n              }\n            }), this.displayDirective === 'show' ? [[vShow, this.mergedShow], [clickoutside, this.handleMenuClickOutside, undefined, {\n              capture: true\n            }]] : [[clickoutside, this.handleMenuClickOutside, undefined, {\n              capture: true\n            }]]);\n          }\n        })\n      })]\n    }));\n  }\n});","import { createInjectionKey } from \"../../_utils/index.mjs\";\nexport const dialogProviderInjectionKey = createInjectionKey('n-dialog-provider');\nexport const dialogApiInjectionKey = createInjectionKey('n-dialog-api');\nexport const dialogReactiveListInjectionKey = createInjectionKey('n-dialog-reactive-list');","import { keysOf } from \"../../_utils/index.mjs\";\nconst dialogProps = {\n  icon: Function,\n  type: {\n    type: String,\n    default: 'default'\n  },\n  title: [String, Function],\n  closable: {\n    type: Boolean,\n    default: true\n  },\n  negativeText: String,\n  positiveText: String,\n  positiveButtonProps: Object,\n  negativeButtonProps: Object,\n  content: [String, Function],\n  action: Function,\n  showIcon: {\n    type: Boolean,\n    default: true\n  },\n  loading: Boolean,\n  bordered: Boolean,\n  iconPlacement: String,\n  titleClass: [String, Array],\n  titleStyle: [String, Object],\n  contentClass: [String, Array],\n  contentStyle: [String, Object],\n  actionClass: [String, Array],\n  actionStyle: [String, Object],\n  onPositiveClick: Function,\n  onNegativeClick: Function,\n  onClose: Function,\n  closeFocusable: Boolean\n};\nexport { dialogProps };\nexport const dialogPropKeys = keysOf(dialogProps);","import { asModal, c, cB, cE, cM, insideModal } from \"../../../_utils/cssr/index.mjs\";\n// vars:\n// --n-icon-color\n// --n-bezier\n// --n-icon-margin-top\n// --n-icon-margin-right\n// --n-icon-margin-bottom\n// --n-icon-margin-left\n// --n-icon-size\n// --n-close-border-radius\n// --n-close-margin\n// --n-close-size\n// --n-close-color-hover\n// --n-close-color-pressed\n// --n-close-icon-color\n// --n-close-icon-color-hover\n// --n-close-icon-color-pressed\n// --n-color\n// --n-text-color\n// --n-border-radius\n// --n-padding\n// --n-line-height\n// --n-border\n// --n-content-margin\n// --n-title-font-size\n// --n-title-font-weight\n// --n-title-text-color\n// --n-action-space\nexport default c([cB('dialog', `\n --n-icon-margin: var(--n-icon-margin-top) var(--n-icon-margin-right) var(--n-icon-margin-bottom) var(--n-icon-margin-left);\n word-break: break-word;\n line-height: var(--n-line-height);\n position: relative;\n background: var(--n-color);\n color: var(--n-text-color);\n box-sizing: border-box;\n margin: auto;\n border-radius: var(--n-border-radius);\n padding: var(--n-padding);\n transition: \n border-color .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n `, [cE('icon', `\n color: var(--n-icon-color);\n `), cM('bordered', `\n border: var(--n-border);\n `), cM('icon-top', [cE('close', `\n margin: var(--n-close-margin);\n `), cE('icon', `\n margin: var(--n-icon-margin);\n `), cE('content', `\n text-align: center;\n `), cE('title', `\n justify-content: center;\n `), cE('action', `\n justify-content: center;\n `)]), cM('icon-left', [cE('icon', `\n margin: var(--n-icon-margin);\n `), cM('closable', [cE('title', `\n padding-right: calc(var(--n-close-size) + 6px);\n `)])]), cE('close', `\n position: absolute;\n right: 0;\n top: 0;\n margin: var(--n-close-margin);\n transition:\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n z-index: 1;\n `), cE('content', `\n font-size: var(--n-font-size);\n margin: var(--n-content-margin);\n position: relative;\n word-break: break-word;\n `, [cM('last', 'margin-bottom: 0;')]), cE('action', `\n display: flex;\n justify-content: flex-end;\n `, [c('> *:not(:last-child)', `\n margin-right: var(--n-action-space);\n `)]), cE('icon', `\n font-size: var(--n-icon-size);\n transition: color .3s var(--n-bezier);\n `), cE('title', `\n transition: color .3s var(--n-bezier);\n display: flex;\n align-items: center;\n font-size: var(--n-title-font-size);\n font-weight: var(--n-title-font-weight);\n color: var(--n-title-text-color);\n `), cB('dialog-icon-container', `\n display: flex;\n justify-content: center;\n `)]), insideModal(cB('dialog', `\n width: 446px;\n max-width: calc(100vw - 32px);\n `)), cB('dialog', [asModal(`\n width: 446px;\n max-width: calc(100vw - 32px);\n `)])]);","import { getMargin } from 'seemly';\nimport { computed, defineComponent, h } from 'vue';\nimport { NBaseClose, NBaseIcon } from \"../../_internal/index.mjs\";\nimport { ErrorIcon, InfoIcon, SuccessIcon, WarningIcon } from \"../../_internal/icons/index.mjs\";\nimport { useConfig, useRtl, useTheme, useThemeClass } from \"../../_mixins/index.mjs\";\nimport { createKey, render, resolveSlot, resolveWrappedSlot } from \"../../_utils/index.mjs\";\nimport { NButton } from \"../../button/index.mjs\";\nimport { dialogLight } from \"../styles/index.mjs\";\nimport { dialogProps } from \"./dialogProps.mjs\";\nimport style from \"./styles/index.cssr.mjs\";\nconst iconRenderMap = {\n  default: () => h(InfoIcon, null),\n  info: () => h(InfoIcon, null),\n  success: () => h(SuccessIcon, null),\n  warning: () => h(WarningIcon, null),\n  error: () => h(ErrorIcon, null)\n};\nexport const NDialog = defineComponent({\n  name: 'Dialog',\n  alias: ['NimbusConfirmCard',\n  // deprecated\n  'Confirm' // deprecated\n  ],\n  props: Object.assign(Object.assign({}, useTheme.props), dialogProps),\n  slots: Object,\n  setup(props) {\n    const {\n      mergedComponentPropsRef,\n      mergedClsPrefixRef,\n      inlineThemeDisabled,\n      mergedRtlRef\n    } = useConfig(props);\n    const rtlEnabledRef = useRtl('Dialog', mergedRtlRef, mergedClsPrefixRef);\n    const mergedIconPlacementRef = computed(() => {\n      var _a, _b;\n      const {\n        iconPlacement\n      } = props;\n      return iconPlacement || ((_b = (_a = mergedComponentPropsRef === null || mergedComponentPropsRef === void 0 ? void 0 : mergedComponentPropsRef.value) === null || _a === void 0 ? void 0 : _a.Dialog) === null || _b === void 0 ? void 0 : _b.iconPlacement) || 'left';\n    });\n    function handlePositiveClick(e) {\n      const {\n        onPositiveClick\n      } = props;\n      if (onPositiveClick) onPositiveClick(e);\n    }\n    function handleNegativeClick(e) {\n      const {\n        onNegativeClick\n      } = props;\n      if (onNegativeClick) onNegativeClick(e);\n    }\n    function handleCloseClick() {\n      const {\n        onClose\n      } = props;\n      if (onClose) onClose();\n    }\n    const themeRef = useTheme('Dialog', '-dialog', style, dialogLight, props, mergedClsPrefixRef);\n    const cssVarsRef = computed(() => {\n      const {\n        type\n      } = props;\n      const iconPlacement = mergedIconPlacementRef.value;\n      const {\n        common: {\n          cubicBezierEaseInOut\n        },\n        self: {\n          fontSize,\n          lineHeight,\n          border,\n          titleTextColor,\n          textColor,\n          color,\n          closeBorderRadius,\n          closeColorHover,\n          closeColorPressed,\n          closeIconColor,\n          closeIconColorHover,\n          closeIconColorPressed,\n          closeIconSize,\n          borderRadius,\n          titleFontWeight,\n          titleFontSize,\n          padding,\n          iconSize,\n          actionSpace,\n          contentMargin,\n          closeSize,\n          [iconPlacement === 'top' ? 'iconMarginIconTop' : 'iconMargin']: iconMargin,\n          [iconPlacement === 'top' ? 'closeMarginIconTop' : 'closeMargin']: closeMargin,\n          [createKey('iconColor', type)]: iconColor\n        }\n      } = themeRef.value;\n      const iconMarginDiscrete = getMargin(iconMargin);\n      return {\n        '--n-font-size': fontSize,\n        '--n-icon-color': iconColor,\n        '--n-bezier': cubicBezierEaseInOut,\n        '--n-close-margin': closeMargin,\n        '--n-icon-margin-top': iconMarginDiscrete.top,\n        '--n-icon-margin-right': iconMarginDiscrete.right,\n        '--n-icon-margin-bottom': iconMarginDiscrete.bottom,\n        '--n-icon-margin-left': iconMarginDiscrete.left,\n        '--n-icon-size': iconSize,\n        '--n-close-size': closeSize,\n        '--n-close-icon-size': closeIconSize,\n        '--n-close-border-radius': closeBorderRadius,\n        '--n-close-color-hover': closeColorHover,\n        '--n-close-color-pressed': closeColorPressed,\n        '--n-close-icon-color': closeIconColor,\n        '--n-close-icon-color-hover': closeIconColorHover,\n        '--n-close-icon-color-pressed': closeIconColorPressed,\n        '--n-color': color,\n        '--n-text-color': textColor,\n        '--n-border-radius': borderRadius,\n        '--n-padding': padding,\n        '--n-line-height': lineHeight,\n        '--n-border': border,\n        '--n-content-margin': contentMargin,\n        '--n-title-font-size': titleFontSize,\n        '--n-title-font-weight': titleFontWeight,\n        '--n-title-text-color': titleTextColor,\n        '--n-action-space': actionSpace\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('dialog', computed(() => `${props.type[0]}${mergedIconPlacementRef.value[0]}`), cssVarsRef, props) : undefined;\n    return {\n      mergedClsPrefix: mergedClsPrefixRef,\n      rtlEnabled: rtlEnabledRef,\n      mergedIconPlacement: mergedIconPlacementRef,\n      mergedTheme: themeRef,\n      handlePositiveClick,\n      handleNegativeClick,\n      handleCloseClick,\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    };\n  },\n  render() {\n    var _a;\n    const {\n      bordered,\n      mergedIconPlacement,\n      cssVars,\n      closable,\n      showIcon,\n      title,\n      content,\n      action,\n      negativeText,\n      positiveText,\n      positiveButtonProps,\n      negativeButtonProps,\n      handlePositiveClick,\n      handleNegativeClick,\n      mergedTheme,\n      loading,\n      type,\n      mergedClsPrefix\n    } = this;\n    (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n    const icon = showIcon ? h(NBaseIcon, {\n      clsPrefix: mergedClsPrefix,\n      class: `${mergedClsPrefix}-dialog__icon`\n    }, {\n      default: () => resolveWrappedSlot(this.$slots.icon, children => children || (this.icon ? render(this.icon) : iconRenderMap[this.type]()))\n    }) : null;\n    const actionNode = resolveWrappedSlot(this.$slots.action, children => children || positiveText || negativeText || action ? h(\"div\", {\n      class: [`${mergedClsPrefix}-dialog__action`, this.actionClass],\n      style: this.actionStyle\n    }, children || (action ? [render(action)] : [this.negativeText && h(NButton, Object.assign({\n      theme: mergedTheme.peers.Button,\n      themeOverrides: mergedTheme.peerOverrides.Button,\n      ghost: true,\n      size: \"small\",\n      onClick: handleNegativeClick\n    }, negativeButtonProps), {\n      default: () => render(this.negativeText)\n    }), this.positiveText && h(NButton, Object.assign({\n      theme: mergedTheme.peers.Button,\n      themeOverrides: mergedTheme.peerOverrides.Button,\n      size: \"small\",\n      type: type === 'default' ? 'primary' : type,\n      disabled: loading,\n      loading: loading,\n      onClick: handlePositiveClick\n    }, positiveButtonProps), {\n      default: () => render(this.positiveText)\n    })])) : null);\n    return h(\"div\", {\n      class: [`${mergedClsPrefix}-dialog`, this.themeClass, this.closable && `${mergedClsPrefix}-dialog--closable`, `${mergedClsPrefix}-dialog--icon-${mergedIconPlacement}`, bordered && `${mergedClsPrefix}-dialog--bordered`, this.rtlEnabled && `${mergedClsPrefix}-dialog--rtl`],\n      style: cssVars,\n      role: \"dialog\"\n    }, closable ? resolveWrappedSlot(this.$slots.close, node => {\n      const classNames = [`${mergedClsPrefix}-dialog__close`, this.rtlEnabled && `${mergedClsPrefix}-dialog--rtl`];\n      return node ? h(\"div\", {\n        class: classNames\n      }, node) : h(NBaseClose, {\n        focusable: this.closeFocusable,\n        clsPrefix: mergedClsPrefix,\n        class: classNames,\n        onClick: this.handleCloseClick\n      });\n    }) : null, showIcon && mergedIconPlacement === 'top' ? h(\"div\", {\n      class: `${mergedClsPrefix}-dialog-icon-container`\n    }, icon) : null, h(\"div\", {\n      class: [`${mergedClsPrefix}-dialog__title`, this.titleClass],\n      style: this.titleStyle\n    }, showIcon && mergedIconPlacement === 'left' ? icon : null, resolveSlot(this.$slots.header, () => [render(title)])), h(\"div\", {\n      class: [`${mergedClsPrefix}-dialog__content`, actionNode ? '' : `${mergedClsPrefix}-dialog__content--last`, this.contentClass],\n      style: this.contentStyle\n    }, resolveSlot(this.$slots.default, () => [render(content)])), actionNode);\n  }\n});","import { createInjectionKey } from \"../../_utils/index.mjs\";\nexport const modalProviderInjectionKey = createInjectionKey('n-modal-provider');\nexport const modalApiInjectionKey = createInjectionKey('n-modal-api');\nexport const modalReactiveListInjectionKey = createInjectionKey('n-modal-reactive-list');","import { off, on } from 'evtd';\nimport { computed, inject, onUnmounted } from 'vue';\nimport { throwError } from \"../../_utils/index.mjs\";\nimport { modalApiInjectionKey, modalReactiveListInjectionKey } from \"./context.mjs\";\nexport function useModal() {\n  const modal = inject(modalApiInjectionKey, null);\n  if (modal === null) {\n    throwError('use-modal', 'No outer <n-modal-provider /> founded.');\n  }\n  return modal;\n}\nexport function useModalReactiveList() {\n  const modalReactiveList = inject(modalReactiveListInjectionKey, null);\n  if (modalReactiveList === null) {\n    throwError('use-modal-reactive-list', 'No outer <n-modal-provider /> founded.');\n  }\n  return modalReactiveList;\n}\nexport const DRAGGABLE_CLASS = 'n-draggable';\nexport function useDragModal(draggablePropsRef, options) {\n  let cleanup;\n  const draggableRef = computed(() => {\n    return draggablePropsRef.value !== false;\n  });\n  const draggableClassRef = computed(() => {\n    return draggableRef.value ? DRAGGABLE_CLASS : '';\n  });\n  const boundsToWindowRef = computed(() => {\n    const draggableProps = draggablePropsRef.value;\n    if (draggableProps === true || draggableProps === false) {\n      return true;\n    } else if (draggableProps) {\n      return draggableProps.bounds !== 'none';\n    } else {\n      return true;\n    }\n  });\n  function startDrag(modal) {\n    const header = modal.querySelector(`.${DRAGGABLE_CLASS}`);\n    if (!header || !draggableClassRef.value) {\n      return;\n    }\n    let maxMoveX = 0;\n    let minMoveX = 0;\n    let maxMoveY = 0;\n    let minMoveY = 0;\n    let prevMoveY = 0;\n    let prevMoveX = 0;\n    let mousedownEvent;\n    function handleMouseDown(event) {\n      event.preventDefault();\n      mousedownEvent = event;\n      const {\n        x,\n        y,\n        right,\n        bottom\n      } = modal.getBoundingClientRect();\n      minMoveX = x;\n      minMoveY = y;\n      maxMoveX = window.innerWidth - right;\n      maxMoveY = window.innerHeight - bottom;\n      const {\n        left,\n        top\n      } = modal.style;\n      prevMoveY = +top.slice(0, -2);\n      prevMoveX = +left.slice(0, -2);\n    }\n    function handleMouseMove(event) {\n      if (!mousedownEvent) return;\n      const {\n        clientX: downX,\n        clientY: downY\n      } = mousedownEvent;\n      let moveX = event.clientX - downX;\n      let moveY = event.clientY - downY;\n      if (boundsToWindowRef.value) {\n        if (moveX > maxMoveX) {\n          moveX = maxMoveX;\n        } else if (-moveX > minMoveX) {\n          moveX = -minMoveX;\n        }\n        if (moveY > maxMoveY) {\n          moveY = maxMoveY;\n        } else if (-moveY > minMoveY) {\n          moveY = -minMoveY;\n        }\n      }\n      const x = moveX + prevMoveX;\n      const y = moveY + prevMoveY;\n      modal.style.top = `${y}px`;\n      modal.style.left = `${x}px`;\n    }\n    function handleMouseUp() {\n      mousedownEvent = undefined;\n      options.onEnd(modal);\n    }\n    on('mousedown', header, handleMouseDown);\n    on('mousemove', window, handleMouseMove);\n    on('mouseup', window, handleMouseUp);\n    cleanup = () => {\n      off('mousedown', header, handleMouseDown);\n      on('mousemove', window, handleMouseMove);\n      on('mouseup', window, handleMouseUp);\n    };\n  }\n  function stopDrag() {\n    if (cleanup) {\n      cleanup();\n      cleanup = undefined;\n    }\n  }\n  onUnmounted(stopDrag);\n  return {\n    stopDrag,\n    startDrag,\n    draggableRef,\n    draggableClassRef\n  };\n}","import { keysOf } from \"../../_utils/index.mjs\";\nimport { cardBaseProps } from \"../../card/src/Card.mjs\";\nimport { dialogProps } from \"../../dialog/src/dialogProps.mjs\";\nconst presetProps = Object.assign(Object.assign({}, cardBaseProps), dialogProps);\nconst presetPropsKeys = keysOf(presetProps);\nexport { presetProps, presetPropsKeys };","import { clickoutside } from 'vdirs';\nimport { cloneVNode, computed, defineComponent, h, inject, mergeProps, nextTick, normalizeClass, provide, ref, toRef, Transition, vShow, watch, withDirectives } from 'vue';\nimport { VFocusTrap } from 'vueuc';\nimport { NScrollbar } from \"../../_internal/index.mjs\";\nimport { getFirstSlotVNodeWithTypedProps, keep, useLockHtmlScroll, warn } from \"../../_utils/index.mjs\";\nimport { NCard } from \"../../card/index.mjs\";\nimport { cardBasePropKeys } from \"../../card/src/Card.mjs\";\nimport { NDialog } from \"../../dialog/src/Dialog.mjs\";\nimport { dialogPropKeys } from \"../../dialog/src/dialogProps.mjs\";\nimport { drawerBodyInjectionKey } from \"../../drawer/src/interface.mjs\";\nimport { popoverBodyInjectionKey } from \"../../popover/src/interface.mjs\";\nimport { useDragModal } from \"./composables.mjs\";\nimport { modalBodyInjectionKey, modalInjectionKey } from \"./interface.mjs\";\nimport { presetProps } from \"./presetProps.mjs\";\nexport default defineComponent({\n  name: 'ModalBody',\n  inheritAttrs: false,\n  slots: Object,\n  props: Object.assign(Object.assign({\n    show: {\n      type: Boolean,\n      required: true\n    },\n    preset: String,\n    displayDirective: {\n      type: String,\n      required: true\n    },\n    trapFocus: {\n      type: Boolean,\n      default: true\n    },\n    autoFocus: {\n      type: Boolean,\n      default: true\n    },\n    blockScroll: Boolean,\n    draggable: {\n      type: [Boolean, Object],\n      default: false\n    },\n    maskHidden: Boolean\n  }, presetProps), {\n    renderMask: Function,\n    // events\n    onClickoutside: Function,\n    onBeforeLeave: {\n      type: Function,\n      required: true\n    },\n    onAfterLeave: {\n      type: Function,\n      required: true\n    },\n    onPositiveClick: {\n      type: Function,\n      required: true\n    },\n    onNegativeClick: {\n      type: Function,\n      required: true\n    },\n    onClose: {\n      type: Function,\n      required: true\n    },\n    onAfterEnter: Function,\n    onEsc: Function\n  }),\n  setup(props) {\n    const bodyRef = ref(null);\n    const scrollbarRef = ref(null);\n    const displayedRef = ref(props.show);\n    const transformOriginXRef = ref(null);\n    const transformOriginYRef = ref(null);\n    const NModal = inject(modalInjectionKey);\n    let mousePosition = null;\n    watch(toRef(props, 'show'), value => {\n      if (value) {\n        mousePosition = NModal.getMousePosition();\n      }\n    }, {\n      immediate: true\n    });\n    const {\n      stopDrag,\n      startDrag,\n      draggableRef,\n      draggableClassRef\n    } = useDragModal(toRef(props, 'draggable'), {\n      onEnd: el => {\n        syncTransformOrigin(el);\n      }\n    });\n    const dialogTitleClassRef = computed(() => {\n      return normalizeClass([props.titleClass, draggableClassRef.value]);\n    });\n    const cardHeaderClassRef = computed(() => {\n      return normalizeClass([props.headerClass, draggableClassRef.value]);\n    });\n    watch(toRef(props, 'show'), value => {\n      if (value) displayedRef.value = true;\n    });\n    useLockHtmlScroll(computed(() => props.blockScroll && displayedRef.value));\n    function styleTransformOrigin() {\n      if (NModal.transformOriginRef.value === 'center') {\n        return '';\n      }\n      const {\n        value: transformOriginX\n      } = transformOriginXRef;\n      const {\n        value: transformOriginY\n      } = transformOriginYRef;\n      if (transformOriginX === null || transformOriginY === null) {\n        return '';\n      } else if (scrollbarRef.value) {\n        const scrollTop = scrollbarRef.value.containerScrollTop;\n        return `${transformOriginX}px ${transformOriginY + scrollTop}px`;\n      }\n      return '';\n    }\n    function syncTransformOrigin(el) {\n      if (NModal.transformOriginRef.value === 'center') {\n        return;\n      }\n      if (!mousePosition) {\n        return;\n      }\n      if (!scrollbarRef.value) return;\n      const scrollTop = scrollbarRef.value.containerScrollTop;\n      const {\n        offsetLeft,\n        offsetTop\n      } = el;\n      const top = mousePosition.y;\n      const left = mousePosition.x;\n      transformOriginXRef.value = -(offsetLeft - left);\n      transformOriginYRef.value = -(offsetTop - top - scrollTop);\n      el.style.transformOrigin = styleTransformOrigin();\n    }\n    function handleEnter(el) {\n      void nextTick(() => {\n        syncTransformOrigin(el);\n      });\n    }\n    function handleBeforeLeave(el) {\n      el.style.transformOrigin = styleTransformOrigin();\n      props.onBeforeLeave();\n    }\n    function handleAfterEnter(el) {\n      const element = el;\n      draggableRef.value && startDrag(element);\n      props.onAfterEnter && props.onAfterEnter(element);\n    }\n    function handleAfterLeave() {\n      displayedRef.value = false;\n      transformOriginXRef.value = null;\n      transformOriginYRef.value = null;\n      stopDrag();\n      props.onAfterLeave();\n    }\n    function handleCloseClick() {\n      const {\n        onClose\n      } = props;\n      if (onClose) {\n        onClose();\n      }\n    }\n    function handleNegativeClick() {\n      props.onNegativeClick();\n    }\n    function handlePositiveClick() {\n      props.onPositiveClick();\n    }\n    const childNodeRef = ref(null);\n    watch(childNodeRef, node => {\n      if (node) {\n        void nextTick(() => {\n          const el = node.el;\n          if (el && bodyRef.value !== el) {\n            bodyRef.value = el;\n          }\n        });\n      }\n    });\n    provide(modalBodyInjectionKey, bodyRef);\n    provide(drawerBodyInjectionKey, null);\n    provide(popoverBodyInjectionKey, null);\n    return {\n      mergedTheme: NModal.mergedThemeRef,\n      appear: NModal.appearRef,\n      isMounted: NModal.isMountedRef,\n      mergedClsPrefix: NModal.mergedClsPrefixRef,\n      bodyRef,\n      scrollbarRef,\n      draggableClass: draggableClassRef,\n      displayed: displayedRef,\n      childNodeRef,\n      cardHeaderClass: cardHeaderClassRef,\n      dialogTitleClass: dialogTitleClassRef,\n      handlePositiveClick,\n      handleNegativeClick,\n      handleCloseClick,\n      handleAfterEnter,\n      handleAfterLeave,\n      handleBeforeLeave,\n      handleEnter\n    };\n  },\n  render() {\n    const {\n      $slots,\n      $attrs,\n      handleEnter,\n      handleAfterEnter,\n      handleAfterLeave,\n      handleBeforeLeave,\n      preset,\n      mergedClsPrefix\n    } = this;\n    let childNode = null;\n    if (!preset) {\n      childNode = getFirstSlotVNodeWithTypedProps('default', $slots.default, {\n        draggableClass: this.draggableClass\n      });\n      if (!childNode) {\n        warn('modal', 'default slot is empty');\n        return;\n      }\n      childNode = cloneVNode(childNode);\n      childNode.props = mergeProps({\n        class: `${mergedClsPrefix}-modal`\n      }, $attrs, childNode.props || {});\n    }\n    return this.displayDirective === 'show' || this.displayed || this.show ? withDirectives(h(\"div\", {\n      role: \"none\",\n      class: [`${mergedClsPrefix}-modal-body-wrapper`, this.maskHidden && `${mergedClsPrefix}-modal-body-wrapper--mask-hidden`]\n    }, h(NScrollbar, {\n      ref: \"scrollbarRef\",\n      theme: this.mergedTheme.peers.Scrollbar,\n      themeOverrides: this.mergedTheme.peerOverrides.Scrollbar,\n      contentClass: `${mergedClsPrefix}-modal-scroll-content`\n    }, {\n      default: () => {\n        var _a;\n        return [(_a = this.renderMask) === null || _a === void 0 ? void 0 : _a.call(this), h(VFocusTrap, {\n          disabled: !this.trapFocus || this.maskHidden,\n          active: this.show,\n          onEsc: this.onEsc,\n          autoFocus: this.autoFocus\n        }, {\n          default: () => {\n            var _a;\n            return h(Transition, {\n              name: \"fade-in-scale-up-transition\",\n              appear: (_a = this.appear) !== null && _a !== void 0 ? _a : this.isMounted,\n              onEnter: handleEnter,\n              onAfterEnter: handleAfterEnter,\n              onAfterLeave: handleAfterLeave,\n              onBeforeLeave: handleBeforeLeave\n            }, {\n              default: () => {\n                const dirs = [[vShow, this.show]];\n                const {\n                  onClickoutside\n                } = this;\n                if (onClickoutside) {\n                  dirs.push([clickoutside, this.onClickoutside, undefined, {\n                    capture: true\n                  }]);\n                }\n                return withDirectives(this.preset === 'confirm' || this.preset === 'dialog' ? h(NDialog, Object.assign({}, this.$attrs, {\n                  class: [`${mergedClsPrefix}-modal`, this.$attrs.class],\n                  ref: \"bodyRef\",\n                  theme: this.mergedTheme.peers.Dialog,\n                  themeOverrides: this.mergedTheme.peerOverrides.Dialog\n                }, keep(this.$props, dialogPropKeys), {\n                  titleClass: this.dialogTitleClass,\n                  \"aria-modal\": \"true\"\n                }), $slots) : this.preset === 'card' ? h(NCard, Object.assign({}, this.$attrs, {\n                  ref: \"bodyRef\",\n                  class: [`${mergedClsPrefix}-modal`, this.$attrs.class],\n                  theme: this.mergedTheme.peers.Card,\n                  themeOverrides: this.mergedTheme.peerOverrides.Card\n                }, keep(this.$props, cardBasePropKeys), {\n                  headerClass: this.cardHeaderClass,\n                  \"aria-modal\": \"true\",\n                  role: \"dialog\"\n                }), $slots) : this.childNodeRef = childNode, dirs);\n              }\n            });\n          }\n        })];\n      }\n    })), [[vShow, this.displayDirective === 'if' || this.displayed || this.show]]) : null;\n  }\n});","import { fadeInScaleUpTransition } from \"../../../_styles/transitions/fade-in-scale-up.cssr.mjs\";\nimport { fadeInTransition } from \"../../../_styles/transitions/fade-in.cssr.mjs\";\nimport { c, cB, cM } from \"../../../_utils/cssr/index.mjs\";\nimport { DRAGGABLE_CLASS } from \"../composables.mjs\";\n// vars:\n// --n-bezier-ease-out\n// --n-box-shadow\n// --n-color\n// --n-text-color\nexport default c([cB('modal-container', `\n position: fixed;\n left: 0;\n top: 0;\n height: 0;\n width: 0;\n display: flex;\n `), cB('modal-mask', `\n position: fixed;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n background-color: rgba(0, 0, 0, .4);\n `, [fadeInTransition({\n  enterDuration: '.25s',\n  leaveDuration: '.25s',\n  enterCubicBezier: 'var(--n-bezier-ease-out)',\n  leaveCubicBezier: 'var(--n-bezier-ease-out)'\n})]), cB('modal-body-wrapper', `\n position: fixed;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n overflow: visible;\n `, [cB('modal-scroll-content', `\n min-height: 100%;\n display: flex;\n position: relative;\n `), cM('mask-hidden', `pointer-events: none;`, [cB('modal-scroll-content', [c('> *', `\n pointer-events: all;\n `)])])]), cB('modal', `\n position: relative;\n align-self: center;\n color: var(--n-text-color);\n margin: auto;\n box-shadow: var(--n-box-shadow);\n `, [fadeInScaleUpTransition({\n  duration: '.25s',\n  enterScale: '.5'\n}), c(`.${DRAGGABLE_CLASS}`, `\n cursor: move;\n user-select: none;\n `)])]);","import { getPreciseEventTarget } from 'seemly';\nimport { zindexable } from 'vdirs';\nimport { useClicked, useClickPosition, useIsMounted } from 'vooks';\nimport { computed, defineComponent, h, inject, provide, ref, toRef, Transition, withDirectives } from 'vue';\nimport { VLazyTeleport } from 'vueuc';\nimport { useConfig, useTheme, useThemeClass } from \"../../_mixins/index.mjs\";\nimport { call, eventEffectNotPerformed, keep, useIsComposing, warnOnce } from \"../../_utils/index.mjs\";\nimport { dialogProviderInjectionKey } from \"../../dialog/src/context.mjs\";\nimport { modalLight } from \"../styles/index.mjs\";\nimport NModalBodyWrapper from \"./BodyWrapper.mjs\";\nimport { modalInjectionKey, modalProviderInjectionKey } from \"./interface.mjs\";\nimport { presetProps, presetPropsKeys } from \"./presetProps.mjs\";\nimport style from \"./styles/index.cssr.mjs\";\nexport const modalProps = Object.assign(Object.assign(Object.assign(Object.assign({}, useTheme.props), {\n  show: Boolean,\n  showMask: {\n    type: Boolean,\n    default: true\n  },\n  maskClosable: {\n    type: Boolean,\n    default: true\n  },\n  preset: String,\n  to: [String, Object],\n  displayDirective: {\n    type: String,\n    default: 'if'\n  },\n  transformOrigin: {\n    type: String,\n    default: 'mouse'\n  },\n  zIndex: Number,\n  autoFocus: {\n    type: Boolean,\n    default: true\n  },\n  trapFocus: {\n    type: Boolean,\n    default: true\n  },\n  closeOnEsc: {\n    type: Boolean,\n    default: true\n  },\n  blockScroll: {\n    type: Boolean,\n    default: true\n  }\n}), presetProps), {\n  draggable: [Boolean, Object],\n  // events\n  onEsc: Function,\n  'onUpdate:show': [Function, Array],\n  onUpdateShow: [Function, Array],\n  onAfterEnter: Function,\n  onBeforeLeave: Function,\n  onAfterLeave: Function,\n  onClose: Function,\n  onPositiveClick: Function,\n  onNegativeClick: Function,\n  onMaskClick: Function,\n  // private\n  internalDialog: Boolean,\n  internalModal: Boolean,\n  internalAppear: {\n    type: Boolean,\n    default: undefined\n  },\n  // deprecated\n  overlayStyle: [String, Object],\n  onBeforeHide: Function,\n  onAfterHide: Function,\n  onHide: Function,\n  unstableShowMask: {\n    type: Boolean,\n    default: undefined\n  }\n});\nexport default defineComponent({\n  name: 'Modal',\n  inheritAttrs: false,\n  props: modalProps,\n  slots: Object,\n  setup(props) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (props.onHide) {\n        warnOnce('modal', '`on-hide` is deprecated.');\n      }\n      if (props.onAfterHide) {\n        warnOnce('modal', '`on-after-hide` is deprecated, please use `on-after-leave` instead.');\n      }\n      if (props.onBeforeHide) {\n        warnOnce('modal', '`on-before-hide` is deprecated, please use `on-before-leave` instead.');\n      }\n      if (props.overlayStyle) {\n        warnOnce('modal', '`overlay-style` is deprecated, please use `style` instead.');\n      }\n      if (props.unstableShowMask) {\n        warnOnce('modal', '`unstable-show-mask` has been removed, please use `show-mask` instead.');\n      }\n    }\n    const containerRef = ref(null);\n    const {\n      mergedClsPrefixRef,\n      namespaceRef,\n      inlineThemeDisabled\n    } = useConfig(props);\n    const themeRef = useTheme('Modal', '-modal', style, modalLight, props, mergedClsPrefixRef);\n    const clickedRef = useClicked(64);\n    const clickedPositionRef = useClickPosition();\n    const isMountedRef = useIsMounted();\n    const NDialogProvider = props.internalDialog ? inject(dialogProviderInjectionKey, null) : null;\n    const NModalProvider = props.internalModal ? inject(modalProviderInjectionKey, null) : null;\n    const isComposingRef = useIsComposing();\n    function doUpdateShow(show) {\n      const {\n        onUpdateShow,\n        'onUpdate:show': _onUpdateShow,\n        onHide\n      } = props;\n      if (onUpdateShow) call(onUpdateShow, show);\n      if (_onUpdateShow) call(_onUpdateShow, show);\n      // deprecated\n      if (onHide && !show) onHide(show);\n    }\n    function handleCloseClick() {\n      const {\n        onClose\n      } = props;\n      if (onClose) {\n        void Promise.resolve(onClose()).then(value => {\n          if (value === false) return;\n          doUpdateShow(false);\n        });\n      } else {\n        doUpdateShow(false);\n      }\n    }\n    function handlePositiveClick() {\n      const {\n        onPositiveClick\n      } = props;\n      if (onPositiveClick) {\n        void Promise.resolve(onPositiveClick()).then(value => {\n          if (value === false) return;\n          doUpdateShow(false);\n        });\n      } else {\n        doUpdateShow(false);\n      }\n    }\n    function handleNegativeClick() {\n      const {\n        onNegativeClick\n      } = props;\n      if (onNegativeClick) {\n        void Promise.resolve(onNegativeClick()).then(value => {\n          if (value === false) return;\n          doUpdateShow(false);\n        });\n      } else {\n        doUpdateShow(false);\n      }\n    }\n    function handleBeforeLeave() {\n      const {\n        onBeforeLeave,\n        onBeforeHide\n      } = props;\n      if (onBeforeLeave) call(onBeforeLeave);\n      // deprecated\n      if (onBeforeHide) onBeforeHide();\n    }\n    function handleAfterLeave() {\n      const {\n        onAfterLeave,\n        onAfterHide\n      } = props;\n      if (onAfterLeave) call(onAfterLeave);\n      // deprecated\n      if (onAfterHide) onAfterHide();\n    }\n    function handleClickoutside(e) {\n      var _a;\n      const {\n        onMaskClick\n      } = props;\n      if (onMaskClick) {\n        onMaskClick(e);\n      }\n      if (props.maskClosable) {\n        if ((_a = containerRef.value) === null || _a === void 0 ? void 0 : _a.contains(getPreciseEventTarget(e))) {\n          doUpdateShow(false);\n        }\n      }\n    }\n    function handleEsc(e) {\n      var _a;\n      (_a = props.onEsc) === null || _a === void 0 ? void 0 : _a.call(props);\n      if (props.show && props.closeOnEsc && eventEffectNotPerformed(e)) {\n        if (!isComposingRef.value) {\n          doUpdateShow(false);\n        }\n      }\n    }\n    provide(modalInjectionKey, {\n      getMousePosition: () => {\n        const mergedProvider = NDialogProvider || NModalProvider;\n        if (mergedProvider) {\n          const {\n            clickedRef,\n            clickedPositionRef\n          } = mergedProvider;\n          if (clickedRef.value && clickedPositionRef.value) {\n            return clickedPositionRef.value;\n          }\n        }\n        if (clickedRef.value) {\n          return clickedPositionRef.value;\n        }\n        return null;\n      },\n      mergedClsPrefixRef,\n      mergedThemeRef: themeRef,\n      isMountedRef,\n      appearRef: toRef(props, 'internalAppear'),\n      transformOriginRef: toRef(props, 'transformOrigin')\n    });\n    const cssVarsRef = computed(() => {\n      const {\n        common: {\n          cubicBezierEaseOut\n        },\n        self: {\n          boxShadow,\n          color,\n          textColor\n        }\n      } = themeRef.value;\n      return {\n        '--n-bezier-ease-out': cubicBezierEaseOut,\n        '--n-box-shadow': boxShadow,\n        '--n-color': color,\n        '--n-text-color': textColor\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('theme-class', undefined, cssVarsRef, props) : undefined;\n    return {\n      mergedClsPrefix: mergedClsPrefixRef,\n      namespace: namespaceRef,\n      isMounted: isMountedRef,\n      containerRef,\n      presetProps: computed(() => {\n        const pickedProps = keep(props, presetPropsKeys);\n        // TODO: remove as any after vue fix the issue introduced in 3.2.27\n        return pickedProps;\n      }),\n      handleEsc,\n      handleAfterLeave,\n      handleClickoutside,\n      handleBeforeLeave,\n      doUpdateShow,\n      handleNegativeClick,\n      handlePositiveClick,\n      handleCloseClick,\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    };\n  },\n  render() {\n    const {\n      mergedClsPrefix\n    } = this;\n    return h(VLazyTeleport, {\n      to: this.to,\n      show: this.show\n    }, {\n      default: () => {\n        var _a;\n        (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n        const {\n          showMask\n        } = this;\n        return withDirectives(h(\"div\", {\n          role: \"none\",\n          ref: \"containerRef\",\n          class: [`${mergedClsPrefix}-modal-container`, this.themeClass, this.namespace],\n          style: this.cssVars\n        }, h(NModalBodyWrapper, Object.assign({\n          style: this.overlayStyle\n        }, this.$attrs, {\n          ref: \"bodyWrapper\",\n          displayDirective: this.displayDirective,\n          show: this.show,\n          preset: this.preset,\n          autoFocus: this.autoFocus,\n          trapFocus: this.trapFocus,\n          draggable: this.draggable,\n          blockScroll: this.blockScroll,\n          maskHidden: !showMask\n        }, this.presetProps, {\n          onEsc: this.handleEsc,\n          onClose: this.handleCloseClick,\n          onNegativeClick: this.handleNegativeClick,\n          onPositiveClick: this.handlePositiveClick,\n          onBeforeLeave: this.handleBeforeLeave,\n          onAfterEnter: this.onAfterEnter,\n          onAfterLeave: this.handleAfterLeave,\n          onClickoutside: showMask ? undefined : this.handleClickoutside,\n          renderMask: showMask ? () => {\n            var _a;\n            return h(Transition, {\n              name: \"fade-in-transition\",\n              key: \"mask\",\n              appear: (_a = this.internalAppear) !== null && _a !== void 0 ? _a : this.isMounted\n            }, {\n              default: () => {\n                return this.show ? h(\"div\", {\n                  \"aria-hidden\": true,\n                  ref: \"containerRef\",\n                  class: `${mergedClsPrefix}-modal-mask`,\n                  onClick: this.handleClickoutside\n                }) : null;\n              }\n            });\n          } : undefined\n        }), this.$slots)), [[zindexable, {\n          zIndex: this.zIndex,\n          enabled: this.show\n        }]]);\n      }\n    });\n  }\n});","import { inject } from 'vue';\nimport { throwError } from \"../../_utils/index.mjs\";\nimport { loadingBarApiInjectionKey } from \"./context.mjs\";\nexport function useLoadingBar() {\n  const loadingBar = inject(loadingBarApiInjectionKey, null);\n  if (loadingBar === null) {\n    throwError('use-loading-bar', 'No outer <n-loading-bar-provider /> founded.');\n  }\n  return loadingBar;\n}","import { createInjectionKey } from \"../../_utils/index.mjs\";\nexport const messageApiInjectionKey = createInjectionKey('n-message-api');\nexport const messageProviderInjectionKey = createInjectionKey('n-message-provider');","export const messageProps = {\n  icon: Function,\n  type: {\n    type: String,\n    default: 'info'\n  },\n  content: [String, Number, Function],\n  showIcon: {\n    type: Boolean,\n    default: true\n  },\n  closable: Boolean,\n  keepAliveOnHover: Boolean,\n  onClose: Function,\n  onMouseenter: Function,\n  onMouseleave: Function\n};","import { fadeInHeightExpandTransition } from \"../../../_styles/transitions/fade-in-height-expand.cssr.mjs\";\nimport { iconSwitchTransition } from \"../../../_styles/transitions/icon-switch.cssr.mjs\";\nimport { c, cB, cE, cM } from \"../../../_utils/cssr/index.mjs\";\n// vars:\n// --n-margin\n// --n-bezier\n// --n-padding\n// --n-max-width\n// --n-font-size\n// --n-icon-margin\n// --n-icon-size\n// --n-text-color\n// --n-color\n// --n-box-shadow\n// --n-icon-color-default\n// --n-icon-color-info\n// --n-icon-color-success\n// --n-icon-color-warning\n// --n-icon-color-error\n// --n-icon-color-loading\n// --n-close-size\n// --n-close-icon-size\n// --n-close-margin\n// --n-close-color-hover\n// --n-close-color-pressed\n// --n-close-border-radius\n// --n-close-icon-color\n// --n-close-icon-color-pressed\n// --n-close-icon-color-hover\n// --n-border-radius\nexport default c([cB('message-wrapper', `\n margin: var(--n-margin);\n z-index: 0;\n transform-origin: top center;\n display: flex;\n `, [fadeInHeightExpandTransition({\n  overflow: 'visible',\n  originalTransition: 'transform .3s var(--n-bezier)',\n  enterToProps: {\n    transform: 'scale(1)'\n  },\n  leaveToProps: {\n    transform: 'scale(0.85)'\n  }\n})]), cB('message', `\n box-sizing: border-box;\n display: flex;\n align-items: center;\n transition:\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n opacity .3s var(--n-bezier),\n transform .3s var(--n-bezier),\n margin-bottom .3s var(--n-bezier);\n padding: var(--n-padding);\n border-radius: var(--n-border-radius);\n border: var(--n-border);\n flex-wrap: nowrap;\n overflow: hidden;\n max-width: var(--n-max-width);\n color: var(--n-text-color);\n background-color: var(--n-color);\n box-shadow: var(--n-box-shadow);\n `, [cE('content', `\n display: inline-block;\n line-height: var(--n-line-height);\n font-size: var(--n-font-size);\n `), cE('icon', `\n position: relative;\n margin: var(--n-icon-margin);\n height: var(--n-icon-size);\n width: var(--n-icon-size);\n font-size: var(--n-icon-size);\n flex-shrink: 0;\n `, [['default', 'info', 'success', 'warning', 'error', 'loading'].map(type => cM(`${type}-type`, [c('> *', `\n color: var(--n-icon-color-${type});\n transition: color .3s var(--n-bezier);\n `)])), c('> *', `\n position: absolute;\n left: 0;\n top: 0;\n right: 0;\n bottom: 0;\n `, [iconSwitchTransition()])]), cE('close', `\n margin: var(--n-close-margin);\n transition:\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n flex-shrink: 0;\n `, [c('&:hover', `\n color: var(--n-close-icon-color-hover);\n `), c('&:active', `\n color: var(--n-close-icon-color-pressed);\n `)])]), cB('message-container', `\n z-index: 6000;\n position: fixed;\n height: 0;\n overflow: visible;\n display: flex;\n flex-direction: column;\n align-items: center;\n `, [cM('top', `\n top: 12px;\n left: 0;\n right: 0;\n `), cM('top-left', `\n top: 12px;\n left: 12px;\n right: 0;\n align-items: flex-start;\n `), cM('top-right', `\n top: 12px;\n left: 0;\n right: 12px;\n align-items: flex-end;\n `), cM('bottom', `\n bottom: 4px;\n left: 0;\n right: 0;\n justify-content: flex-end;\n `), cM('bottom-left', `\n bottom: 4px;\n left: 12px;\n right: 0;\n justify-content: flex-end;\n align-items: flex-start;\n `), cM('bottom-right', `\n bottom: 4px;\n left: 0;\n right: 12px;\n justify-content: flex-end;\n align-items: flex-end;\n `)])]);","import { computed, defineComponent, h, inject } from 'vue';\nimport { NBaseClose, NBaseIcon, NBaseLoading, NIconSwitchTransition } from \"../../_internal/index.mjs\";\nimport { ErrorIcon, InfoIcon, SuccessIcon, WarningIcon } from \"../../_internal/icons/index.mjs\";\nimport { useConfig, useRtl, useTheme, useThemeClass } from \"../../_mixins/index.mjs\";\nimport { createKey, render } from \"../../_utils/index.mjs\";\nimport { messageLight } from \"../styles/index.mjs\";\nimport { messageProviderInjectionKey } from \"./context.mjs\";\nimport { messageProps } from \"./message-props.mjs\";\nimport style from \"./styles/index.cssr.mjs\";\nconst iconRenderMap = {\n  info: () => h(InfoIcon, null),\n  success: () => h(SuccessIcon, null),\n  warning: () => h(WarningIcon, null),\n  error: () => h(ErrorIcon, null),\n  default: () => null\n};\nexport default defineComponent({\n  name: 'Message',\n  props: Object.assign(Object.assign({}, messageProps), {\n    render: Function\n  }),\n  setup(props) {\n    const {\n      inlineThemeDisabled,\n      mergedRtlRef\n    } = useConfig(props);\n    const {\n      props: messageProviderProps,\n      mergedClsPrefixRef\n    } = inject(messageProviderInjectionKey);\n    const rtlEnabledRef = useRtl('Message', mergedRtlRef, mergedClsPrefixRef);\n    const themeRef = useTheme('Message', '-message', style, messageLight, messageProviderProps, mergedClsPrefixRef);\n    const cssVarsRef = computed(() => {\n      const {\n        type\n      } = props;\n      const {\n        common: {\n          cubicBezierEaseInOut\n        },\n        self: {\n          padding,\n          margin,\n          maxWidth,\n          iconMargin,\n          closeMargin,\n          closeSize,\n          iconSize,\n          fontSize,\n          lineHeight,\n          borderRadius,\n          border,\n          iconColorInfo,\n          iconColorSuccess,\n          iconColorWarning,\n          iconColorError,\n          iconColorLoading,\n          closeIconSize,\n          closeBorderRadius,\n          [createKey('textColor', type)]: textColor,\n          [createKey('boxShadow', type)]: boxShadow,\n          [createKey('color', type)]: color,\n          [createKey('closeColorHover', type)]: closeColorHover,\n          [createKey('closeColorPressed', type)]: closeColorPressed,\n          [createKey('closeIconColor', type)]: closeIconColor,\n          [createKey('closeIconColorPressed', type)]: closeIconColorPressed,\n          [createKey('closeIconColorHover', type)]: closeIconColorHover\n        }\n      } = themeRef.value;\n      return {\n        '--n-bezier': cubicBezierEaseInOut,\n        '--n-margin': margin,\n        '--n-padding': padding,\n        '--n-max-width': maxWidth,\n        '--n-font-size': fontSize,\n        '--n-icon-margin': iconMargin,\n        '--n-icon-size': iconSize,\n        '--n-close-icon-size': closeIconSize,\n        '--n-close-border-radius': closeBorderRadius,\n        '--n-close-size': closeSize,\n        '--n-close-margin': closeMargin,\n        '--n-text-color': textColor,\n        '--n-color': color,\n        '--n-box-shadow': boxShadow,\n        '--n-icon-color-info': iconColorInfo,\n        '--n-icon-color-success': iconColorSuccess,\n        '--n-icon-color-warning': iconColorWarning,\n        '--n-icon-color-error': iconColorError,\n        '--n-icon-color-loading': iconColorLoading,\n        '--n-close-color-hover': closeColorHover,\n        '--n-close-color-pressed': closeColorPressed,\n        '--n-close-icon-color': closeIconColor,\n        '--n-close-icon-color-pressed': closeIconColorPressed,\n        '--n-close-icon-color-hover': closeIconColorHover,\n        '--n-line-height': lineHeight,\n        '--n-border-radius': borderRadius,\n        '--n-border': border\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('message', computed(() => props.type[0]), cssVarsRef, {}) : undefined;\n    return {\n      mergedClsPrefix: mergedClsPrefixRef,\n      rtlEnabled: rtlEnabledRef,\n      messageProviderProps,\n      handleClose() {\n        var _a;\n        (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props);\n      },\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender,\n      placement: messageProviderProps.placement\n    };\n  },\n  render() {\n    const {\n      render: renderMessage,\n      type,\n      closable,\n      content,\n      mergedClsPrefix,\n      cssVars,\n      themeClass,\n      onRender,\n      icon,\n      handleClose,\n      showIcon\n    } = this;\n    onRender === null || onRender === void 0 ? void 0 : onRender();\n    let iconNode;\n    return h(\"div\", {\n      class: [`${mergedClsPrefix}-message-wrapper`, themeClass],\n      onMouseenter: this.onMouseenter,\n      onMouseleave: this.onMouseleave,\n      style: [{\n        alignItems: this.placement.startsWith('top') ? 'flex-start' : 'flex-end'\n      }, cssVars]\n    }, renderMessage ? renderMessage(this.$props) : h(\"div\", {\n      class: [`${mergedClsPrefix}-message ${mergedClsPrefix}-message--${type}-type`, this.rtlEnabled && `${mergedClsPrefix}-message--rtl`]\n    }, (iconNode = createIconVNode(icon, type, mergedClsPrefix)) && showIcon ? h(\"div\", {\n      class: `${mergedClsPrefix}-message__icon ${mergedClsPrefix}-message__icon--${type}-type`\n    }, h(NIconSwitchTransition, null, {\n      default: () => iconNode\n    })) : null, h(\"div\", {\n      class: `${mergedClsPrefix}-message__content`\n    }, render(content)), closable ? h(NBaseClose, {\n      clsPrefix: mergedClsPrefix,\n      class: `${mergedClsPrefix}-message__close`,\n      onClick: handleClose,\n      absolute: true\n    }) : null));\n  }\n});\nfunction createIconVNode(icon, type, clsPrefix) {\n  if (typeof icon === 'function') {\n    return icon();\n  } else {\n    const innerIcon = type === 'loading' ? h(NBaseLoading, {\n      clsPrefix: clsPrefix,\n      strokeWidth: 24,\n      scale: 0.85\n    }) : iconRenderMap[type]();\n    if (!innerIcon) return null;\n    return h(NBaseIcon, {\n      clsPrefix: clsPrefix,\n      key: type\n    }, {\n      default: () => innerIcon\n    });\n  }\n}","import { defineComponent, h, onMounted, ref } from 'vue';\nimport { NFadeInExpandTransition } from \"../../_internal/index.mjs\";\nimport NMessage from \"./Message.mjs\";\nimport { messageProps } from \"./message-props.mjs\";\nexport default defineComponent({\n  name: 'MessageEnvironment',\n  props: Object.assign(Object.assign({}, messageProps), {\n    duration: {\n      type: Number,\n      default: 3000\n    },\n    onAfterLeave: Function,\n    onLeave: Function,\n    internalKey: {\n      type: String,\n      required: true\n    },\n    // private\n    onInternalAfterLeave: Function,\n    // deprecated\n    onHide: Function,\n    onAfterHide: Function\n  }),\n  setup(props) {\n    let timerId = null;\n    const showRef = ref(true);\n    onMounted(() => {\n      setHideTimeout();\n    });\n    function setHideTimeout() {\n      const {\n        duration\n      } = props;\n      if (duration) {\n        timerId = window.setTimeout(hide, duration);\n      }\n    }\n    function handleMouseenter(e) {\n      if (e.currentTarget !== e.target) return;\n      if (timerId !== null) {\n        window.clearTimeout(timerId);\n        timerId = null;\n      }\n    }\n    function handleMouseleave(e) {\n      if (e.currentTarget !== e.target) return;\n      setHideTimeout();\n    }\n    function hide() {\n      const {\n        onHide\n      } = props;\n      showRef.value = false;\n      if (timerId) {\n        window.clearTimeout(timerId);\n        timerId = null;\n      }\n      // deprecated\n      if (onHide) onHide();\n    }\n    function handleClose() {\n      const {\n        onClose\n      } = props;\n      if (onClose) onClose();\n      hide();\n    }\n    function handleAfterLeave() {\n      const {\n        onAfterLeave,\n        onInternalAfterLeave,\n        onAfterHide,\n        internalKey\n      } = props;\n      if (onAfterLeave) onAfterLeave();\n      if (onInternalAfterLeave) onInternalAfterLeave(internalKey);\n      // deprecated\n      if (onAfterHide) onAfterHide();\n    }\n    // deprecated\n    function deactivate() {\n      hide();\n    }\n    return {\n      show: showRef,\n      hide,\n      handleClose,\n      handleAfterLeave,\n      handleMouseleave,\n      handleMouseenter,\n      deactivate\n    };\n  },\n  render() {\n    return h(NFadeInExpandTransition, {\n      appear: true,\n      onAfterLeave: this.handleAfterLeave,\n      onLeave: this.onLeave\n    }, {\n      default: () => [this.show ? h(NMessage, {\n        content: this.content,\n        type: this.type,\n        icon: this.icon,\n        showIcon: this.showIcon,\n        closable: this.closable,\n        onClose: this.handleClose,\n        onMouseenter: this.keepAliveOnHover ? this.handleMouseenter : undefined,\n        onMouseleave: this.keepAliveOnHover ? this.handleMouseleave : undefined\n      }) : null]\n    });\n  }\n});","import { createId } from 'seemly';\nimport { defineComponent, Fragment, h, provide, reactive, ref, Teleport } from 'vue';\nimport { useConfig, useTheme } from \"../../_mixins/index.mjs\";\nimport { omit } from \"../../_utils/index.mjs\";\nimport { messageApiInjectionKey, messageProviderInjectionKey } from \"./context.mjs\";\nimport MessageEnvironment from \"./MessageEnvironment.mjs\";\nexport const messageProviderProps = Object.assign(Object.assign({}, useTheme.props), {\n  to: [String, Object],\n  duration: {\n    type: Number,\n    default: 3000\n  },\n  keepAliveOnHover: Boolean,\n  max: Number,\n  placement: {\n    type: String,\n    default: 'top'\n  },\n  closable: Boolean,\n  containerClass: String,\n  containerStyle: [String, Object]\n});\nexport default defineComponent({\n  name: 'MessageProvider',\n  props: messageProviderProps,\n  setup(props) {\n    const {\n      mergedClsPrefixRef\n    } = useConfig(props);\n    const messageListRef = ref([]);\n    const messageRefs = ref({});\n    const api = {\n      create(content, options) {\n        return create(content, Object.assign({\n          type: 'default'\n        }, options));\n      },\n      info(content, options) {\n        return create(content, Object.assign(Object.assign({}, options), {\n          type: 'info'\n        }));\n      },\n      success(content, options) {\n        return create(content, Object.assign(Object.assign({}, options), {\n          type: 'success'\n        }));\n      },\n      warning(content, options) {\n        return create(content, Object.assign(Object.assign({}, options), {\n          type: 'warning'\n        }));\n      },\n      error(content, options) {\n        return create(content, Object.assign(Object.assign({}, options), {\n          type: 'error'\n        }));\n      },\n      loading(content, options) {\n        return create(content, Object.assign(Object.assign({}, options), {\n          type: 'loading'\n        }));\n      },\n      destroyAll\n    };\n    provide(messageProviderInjectionKey, {\n      props,\n      mergedClsPrefixRef\n    });\n    provide(messageApiInjectionKey, api);\n    function create(content, options) {\n      const key = createId();\n      const messageReactive = reactive(Object.assign(Object.assign({}, options), {\n        content,\n        key,\n        destroy: () => {\n          var _a;\n          (_a = messageRefs.value[key]) === null || _a === void 0 ? void 0 : _a.hide();\n        }\n      }));\n      const {\n        max\n      } = props;\n      if (max && messageListRef.value.length >= max) {\n        messageListRef.value.shift();\n      }\n      messageListRef.value.push(messageReactive);\n      return messageReactive;\n    }\n    function handleAfterLeave(key) {\n      messageListRef.value.splice(messageListRef.value.findIndex(message => message.key === key), 1);\n      delete messageRefs.value[key];\n    }\n    function destroyAll() {\n      Object.values(messageRefs.value).forEach(messageInstRef => {\n        messageInstRef.hide();\n      });\n    }\n    return Object.assign({\n      mergedClsPrefix: mergedClsPrefixRef,\n      messageRefs,\n      messageList: messageListRef,\n      handleAfterLeave\n    }, api);\n  },\n  render() {\n    var _a, _b, _c;\n    return h(Fragment, null, (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 : _b.call(_a), this.messageList.length ? h(Teleport, {\n      to: (_c = this.to) !== null && _c !== void 0 ? _c : 'body'\n    }, h(\"div\", {\n      class: [`${this.mergedClsPrefix}-message-container`, `${this.mergedClsPrefix}-message-container--${this.placement}`, this.containerClass],\n      key: \"message-container\",\n      style: this.containerStyle\n    }, this.messageList.map(message => {\n      return h(MessageEnvironment, Object.assign({\n        ref: inst => {\n          if (inst) {\n            this.messageRefs[message.key] = inst;\n          }\n        },\n        internalKey: message.key,\n        onInternalAfterLeave: this.handleAfterLeave\n      }, omit(message, ['destroy'], undefined), {\n        duration: message.duration === undefined ? this.duration : message.duration,\n        keepAliveOnHover: message.keepAliveOnHover === undefined ? this.keepAliveOnHover : message.keepAliveOnHover,\n        closable: message.closable === undefined ? this.closable : message.closable\n      }));\n    }))) : null);\n  }\n});","import { inject } from 'vue';\nimport { throwError } from \"../../_utils/index.mjs\";\nimport { messageApiInjectionKey } from \"./context.mjs\";\nexport function useMessage() {\n  const api = inject(messageApiInjectionKey, null);\n  if (api === null) {\n    throwError('use-message', 'No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A.');\n  }\n  return api;\n}","// use absolute path to make sure no circular ref of style\n// this -> modal-index -> modal-style\nimport { defineComponent, h, ref } from 'vue';\nimport NModal, { modalProps } from \"./Modal.mjs\";\nexport const NModalEnvironment = defineComponent({\n  name: 'ModalEnvironment',\n  props: Object.assign(Object.assign({}, modalProps), {\n    internalKey: {\n      type: String,\n      required: true\n    },\n    // private\n    onInternalAfterLeave: {\n      type: Function,\n      required: true\n    }\n  }),\n  setup(props) {\n    const showRef = ref(true);\n    function handleAfterLeave() {\n      const {\n        onInternalAfterLeave,\n        internalKey,\n        onAfterLeave\n      } = props;\n      if (onInternalAfterLeave) onInternalAfterLeave(internalKey);\n      if (onAfterLeave) onAfterLeave();\n    }\n    function handlePositiveClick() {\n      const {\n        onPositiveClick\n      } = props;\n      if (onPositiveClick) {\n        void Promise.resolve(onPositiveClick()).then(result => {\n          if (result === false) return;\n          hide();\n        });\n      } else {\n        hide();\n      }\n    }\n    function handleNegativeClick() {\n      const {\n        onNegativeClick\n      } = props;\n      if (onNegativeClick) {\n        void Promise.resolve(onNegativeClick()).then(result => {\n          if (result === false) return;\n          hide();\n        });\n      } else {\n        hide();\n      }\n    }\n    function handleCloseClick() {\n      const {\n        onClose\n      } = props;\n      if (onClose) {\n        void Promise.resolve(onClose()).then(result => {\n          if (result === false) return;\n          hide();\n        });\n      } else {\n        hide();\n      }\n    }\n    function handleMaskClick(e) {\n      const {\n        onMaskClick,\n        maskClosable\n      } = props;\n      if (onMaskClick) {\n        onMaskClick(e);\n        if (maskClosable) {\n          hide();\n        }\n      }\n    }\n    function handleEsc() {\n      const {\n        onEsc\n      } = props;\n      if (onEsc) {\n        onEsc();\n      }\n    }\n    function hide() {\n      showRef.value = false;\n    }\n    function handleUpdateShow(value) {\n      showRef.value = value;\n    }\n    return {\n      show: showRef,\n      hide,\n      handleUpdateShow,\n      handleAfterLeave,\n      handleCloseClick,\n      handleNegativeClick,\n      handlePositiveClick,\n      handleMaskClick,\n      handleEsc\n    };\n  },\n  render() {\n    const {\n      handleUpdateShow,\n      handleAfterLeave,\n      handleMaskClick,\n      handleEsc,\n      show\n    } = this;\n    return h(NModal, Object.assign({}, this.$props, {\n      show: show,\n      onUpdateShow: handleUpdateShow,\n      onMaskClick: handleMaskClick,\n      onEsc: handleEsc,\n      onAfterLeave: handleAfterLeave,\n      internalAppear: true,\n      internalModal: true\n    }), this.$slots);\n  }\n});","import { createId } from 'seemly';\nimport { useClicked, useClickPosition } from 'vooks';\nimport { defineComponent, Fragment, h, provide, reactive, ref } from 'vue';\nimport { omit } from \"../../_utils/index.mjs\";\nimport { modalApiInjectionKey, modalProviderInjectionKey, modalReactiveListInjectionKey } from \"./context.mjs\";\nimport { NModalEnvironment } from \"./ModalEnvironment.mjs\";\nexport const modalProviderProps = {\n  to: [String, Object]\n};\nexport const NModalProvider = defineComponent({\n  name: 'ModalProvider',\n  props: modalProviderProps,\n  setup() {\n    const modalListRef = ref([]);\n    const modalInstRefs = {};\n    function create(options = {}) {\n      const key = createId();\n      const modalReactive = reactive(Object.assign(Object.assign({}, options), {\n        key,\n        destroy: () => {\n          var _a;\n          (_a = modalInstRefs[`n-modal-${key}`]) === null || _a === void 0 ? void 0 : _a.hide();\n        }\n      }));\n      modalListRef.value.push(modalReactive);\n      return modalReactive;\n    }\n    function handleAfterLeave(key) {\n      const {\n        value: modalList\n      } = modalListRef;\n      modalList.splice(modalList.findIndex(modal => modal.key === key), 1);\n    }\n    function destroyAll() {\n      Object.values(modalInstRefs).forEach(modalInstRef => {\n        modalInstRef === null || modalInstRef === void 0 ? void 0 : modalInstRef.hide();\n      });\n    }\n    const api = {\n      create,\n      destroyAll\n    };\n    provide(modalApiInjectionKey, api);\n    provide(modalProviderInjectionKey, {\n      clickedRef: useClicked(64),\n      clickedPositionRef: useClickPosition()\n    });\n    provide(modalReactiveListInjectionKey, modalListRef);\n    return Object.assign(Object.assign({}, api), {\n      modalList: modalListRef,\n      modalInstRefs,\n      handleAfterLeave\n    });\n  },\n  render() {\n    var _a, _b;\n    return h(Fragment, null, [this.modalList.map(modal => {\n      var _a;\n      return h(NModalEnvironment, omit(modal, ['destroy', 'render'], {\n        to: (_a = modal.to) !== null && _a !== void 0 ? _a : this.to,\n        ref: inst => {\n          if (inst === null) {\n            delete this.modalInstRefs[`n-modal-${modal.key}`];\n          } else {\n            this.modalInstRefs[`n-modal-${modal.key}`] = inst;\n          }\n        },\n        internalKey: modal.key,\n        onInternalAfterLeave: this.handleAfterLeave\n      }), {\n        default: modal.render\n      });\n    }), (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 : _b.call(_a)]);\n  }\n});","import { cB, cE, cM, cNotM } from \"../../../_utils/cssr/index.mjs\";\n// vars:\n// --n-bezier\n// --n-color\n// --n-text-color\n// --n-font-weight\nexport default cB('divider', `\n position: relative;\n display: flex;\n width: 100%;\n box-sizing: border-box;\n font-size: 16px;\n color: var(--n-text-color);\n transition:\n color .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n`, [cNotM('vertical', `\n margin-top: 24px;\n margin-bottom: 24px;\n `, [cNotM('no-title', `\n display: flex;\n align-items: center;\n `)]), cE('title', `\n display: flex;\n align-items: center;\n margin-left: 12px;\n margin-right: 12px;\n white-space: nowrap;\n font-weight: var(--n-font-weight);\n `), cM('title-position-left', [cE('line', [cM('left', {\n  width: '28px'\n})])]), cM('title-position-right', [cE('line', [cM('right', {\n  width: '28px'\n})])]), cM('dashed', [cE('line', `\n background-color: #0000;\n height: 0px;\n width: 100%;\n border-style: dashed;\n border-width: 1px 0 0;\n `)]), cM('vertical', `\n display: inline-block;\n height: 1em;\n margin: 0 8px;\n vertical-align: middle;\n width: 1px;\n `), cE('line', `\n border: none;\n transition: background-color .3s var(--n-bezier), border-color .3s var(--n-bezier);\n height: 1px;\n width: 100%;\n margin: 0;\n `), cNotM('dashed', [cE('line', {\n  backgroundColor: 'var(--n-color)'\n})]), cM('dashed', [cE('line', {\n  borderColor: 'var(--n-color)'\n})]), cM('vertical', {\n  backgroundColor: 'var(--n-color)'\n})]);","import { computed, defineComponent, Fragment, h } from 'vue';\nimport { useConfig, useTheme, useThemeClass } from \"../../_mixins/index.mjs\";\nimport { dividerLight } from \"../styles/index.mjs\";\nimport style from \"./styles/index.cssr.mjs\";\nexport const dividerProps = Object.assign(Object.assign({}, useTheme.props), {\n  titlePlacement: {\n    type: String,\n    default: 'center'\n  },\n  dashed: Boolean,\n  vertical: Boolean\n});\nexport default defineComponent({\n  name: 'Divider',\n  props: dividerProps,\n  setup(props) {\n    const {\n      mergedClsPrefixRef,\n      inlineThemeDisabled\n    } = useConfig(props);\n    const themeRef = useTheme('Divider', '-divider', style, dividerLight, props, mergedClsPrefixRef);\n    const cssVarsRef = computed(() => {\n      const {\n        common: {\n          cubicBezierEaseInOut\n        },\n        self: {\n          color,\n          textColor,\n          fontWeight\n        }\n      } = themeRef.value;\n      return {\n        '--n-bezier': cubicBezierEaseInOut,\n        '--n-color': color,\n        '--n-text-color': textColor,\n        '--n-font-weight': fontWeight\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('divider', undefined, cssVarsRef, props) : undefined;\n    return {\n      mergedClsPrefix: mergedClsPrefixRef,\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    };\n  },\n  render() {\n    var _a;\n    const {\n      $slots,\n      titlePlacement,\n      vertical,\n      dashed,\n      cssVars,\n      mergedClsPrefix\n    } = this;\n    (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n    return h(\"div\", {\n      role: \"separator\",\n      class: [`${mergedClsPrefix}-divider`, this.themeClass, {\n        [`${mergedClsPrefix}-divider--vertical`]: vertical,\n        [`${mergedClsPrefix}-divider--no-title`]: !$slots.default,\n        [`${mergedClsPrefix}-divider--dashed`]: dashed,\n        [`${mergedClsPrefix}-divider--title-position-${titlePlacement}`]: $slots.default && titlePlacement\n      }],\n      style: cssVars\n    }, !vertical ? h(\"div\", {\n      class: `${mergedClsPrefix}-divider__line ${mergedClsPrefix}-divider__line--left`\n    }) : null, !vertical && $slots.default ? h(Fragment, null, h(\"div\", {\n      class: `${mergedClsPrefix}-divider__title`\n    }, this.$slots), h(\"div\", {\n      class: `${mergedClsPrefix}-divider__line ${mergedClsPrefix}-divider__line--right`\n    })) : null);\n  }\n});","import commonVars from \"./_common.mjs\";\nfunction self() {\n  return commonVars;\n}\nconst flexLight = {\n  name: 'Flex',\n  self\n};\nexport default flexLight;","import { depx, getGap } from 'seemly';\nimport { computed, defineComponent, h } from 'vue';\nimport { useConfig, useTheme } from \"../../_mixins/index.mjs\";\nimport { useRtl } from \"../../_mixins/use-rtl.mjs\";\nimport { createKey, flatten, getSlot } from \"../../_utils/index.mjs\";\nimport { flexLight } from \"../styles/index.mjs\";\nexport const flexProps = Object.assign(Object.assign({}, useTheme.props), {\n  align: String,\n  justify: {\n    type: String,\n    default: 'start'\n  },\n  inline: Boolean,\n  vertical: Boolean,\n  reverse: Boolean,\n  size: {\n    type: [String, Number, Array],\n    default: 'medium'\n  },\n  wrap: {\n    type: Boolean,\n    default: true\n  }\n});\nexport default defineComponent({\n  name: 'Flex',\n  props: flexProps,\n  setup(props) {\n    const {\n      mergedClsPrefixRef,\n      mergedRtlRef\n    } = useConfig(props);\n    const themeRef = useTheme('Flex', '-flex', undefined, flexLight, props, mergedClsPrefixRef);\n    const rtlEnabledRef = useRtl('Flex', mergedRtlRef, mergedClsPrefixRef);\n    return {\n      rtlEnabled: rtlEnabledRef,\n      mergedClsPrefix: mergedClsPrefixRef,\n      margin: computed(() => {\n        const {\n          size\n        } = props;\n        if (Array.isArray(size)) {\n          return {\n            horizontal: size[0],\n            vertical: size[1]\n          };\n        }\n        if (typeof size === 'number') {\n          return {\n            horizontal: size,\n            vertical: size\n          };\n        }\n        const {\n          self: {\n            [createKey('gap', size)]: gap\n          }\n        } = themeRef.value;\n        const {\n          row,\n          col\n        } = getGap(gap);\n        return {\n          horizontal: depx(col),\n          vertical: depx(row)\n        };\n      })\n    };\n  },\n  render() {\n    const {\n      vertical,\n      reverse,\n      align,\n      inline,\n      justify,\n      margin,\n      wrap,\n      mergedClsPrefix,\n      rtlEnabled\n    } = this;\n    const children = flatten(getSlot(this), false);\n    if (!children.length) return null;\n    return h(\"div\", {\n      role: \"none\",\n      class: [`${mergedClsPrefix}-flex`, rtlEnabled && `${mergedClsPrefix}-flex--rtl`],\n      style: {\n        display: inline ? 'inline-flex' : 'flex',\n        flexDirection: (() => {\n          if (vertical && !reverse) return 'column';\n          if (vertical && reverse) return 'column-reverse';\n          if (!vertical && reverse) return 'row-reverse';else return 'row';\n        })(),\n        justifyContent: justify,\n        flexWrap: !wrap || vertical ? 'nowrap' : 'wrap',\n        alignItems: align,\n        gap: `${margin.vertical}px ${margin.horizontal}px`\n      }\n    }, children);\n  }\n});","import { changeColor } from 'seemly';\nimport { commonLight } from \"../../_styles/common/index.mjs\";\nimport commonVars from \"./_common.mjs\";\nfunction self(vars) {\n  const {\n    primaryColor,\n    opacityDisabled,\n    borderRadius,\n    textColor3\n  } = vars;\n  const railOverlayColor = 'rgba(0, 0, 0, .14)';\n  return Object.assign(Object.assign({}, commonVars), {\n    iconColor: textColor3,\n    textColor: 'white',\n    loadingColor: primaryColor,\n    opacityDisabled,\n    railColor: railOverlayColor,\n    railColorActive: primaryColor,\n    buttonBoxShadow: '0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)',\n    buttonColor: '#FFF',\n    railBorderRadiusSmall: borderRadius,\n    railBorderRadiusMedium: borderRadius,\n    railBorderRadiusLarge: borderRadius,\n    buttonBorderRadiusSmall: borderRadius,\n    buttonBorderRadiusMedium: borderRadius,\n    buttonBorderRadiusLarge: borderRadius,\n    boxShadowFocus: `0 0 0 2px ${changeColor(primaryColor, {\n      alpha: 0.2\n    })}`\n  });\n}\nconst switchLight = {\n  name: 'Switch',\n  common: commonLight,\n  self\n};\nexport default switchLight;","import { createInjectionKey } from \"../../_utils/index.mjs\";\nexport const defaultSpan = 1;\nexport const gridInjectionKey = createInjectionKey('n-grid');","import { pxfy } from 'seemly';\nimport { computed, defineComponent, getCurrentInstance, h, inject } from 'vue';\nimport { keysOf } from \"../../_utils/index.mjs\";\nimport { gridInjectionKey } from \"./config.mjs\";\nexport const defaultSpan = 1;\nexport const gridItemProps = {\n  span: {\n    type: [Number, String],\n    default: defaultSpan\n  },\n  offset: {\n    type: [Number, String],\n    default: 0\n  },\n  suffix: Boolean,\n  // private props\n  privateOffset: Number,\n  privateSpan: Number,\n  privateColStart: Number,\n  privateShow: {\n    type: Boolean,\n    default: true\n  }\n};\nexport const gridItemPropKeys = keysOf(gridItemProps);\nexport default defineComponent({\n  __GRID_ITEM__: true,\n  name: 'GridItem',\n  alias: ['Gi'],\n  props: gridItemProps,\n  setup() {\n    const {\n      isSsrRef,\n      xGapRef,\n      itemStyleRef,\n      overflowRef,\n      layoutShiftDisabledRef\n    } = inject(gridInjectionKey);\n    const self = getCurrentInstance();\n    return {\n      overflow: overflowRef,\n      itemStyle: itemStyleRef,\n      layoutShiftDisabled: layoutShiftDisabledRef,\n      mergedXGap: computed(() => {\n        return pxfy(xGapRef.value || 0);\n      }),\n      deriveStyle: () => {\n        void isSsrRef.value;\n        // Here is quite a hack, I hope there is a better way to solve it\n        const {\n          privateSpan = defaultSpan,\n          privateShow = true,\n          privateColStart = undefined,\n          privateOffset = 0\n        } = self.vnode.props;\n        const {\n          value: xGap\n        } = xGapRef;\n        const mergedXGap = pxfy(xGap || 0);\n        return {\n          display: !privateShow ? 'none' : '',\n          gridColumn: `${privateColStart !== null && privateColStart !== void 0 ? privateColStart : `span ${privateSpan}`} / span ${privateSpan}`,\n          marginLeft: privateOffset ? `calc((100% - (${privateSpan} - 1) * ${mergedXGap}) / ${privateSpan} * ${privateOffset} + ${mergedXGap} * ${privateOffset})` : ''\n        };\n      }\n    };\n  },\n  render() {\n    var _a, _b;\n    if (this.layoutShiftDisabled) {\n      const {\n        span,\n        offset,\n        mergedXGap\n      } = this;\n      return h(\"div\", {\n        style: {\n          gridColumn: `span ${span} / span ${span}`,\n          marginLeft: offset ? `calc((100% - (${span} - 1) * ${mergedXGap}) / ${span} * ${offset} + ${mergedXGap} * ${offset})` : ''\n        }\n      }, this.$slots);\n    }\n    return h(\"div\", {\n      style: [this.itemStyle, this.deriveStyle()]\n    }, (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 : _b.call(_a, {\n      overflow: this.overflow\n    }));\n  }\n});","export const defaultBreakpoints = {\n  xs: 0,\n  // mobile\n  s: 640,\n  // tablet\n  m: 1024,\n  // laptop s\n  l: 1280,\n  // laptop\n  xl: 1536,\n  // laptop l\n  xxl: 1920 // normal desktop display\n};","import { beforeNextFrameOnce, parseResponsivePropValue, pxfy } from 'seemly';\nimport { useBreakpoints, useMemo } from 'vooks';\nimport { cloneVNode, computed, defineComponent, h, mergeProps, onMounted, provide, ref, toRef, vShow } from 'vue';\nimport { VResizeObserver } from 'vueuc';\nimport { useConfig } from \"../../_mixins/index.mjs\";\nimport { flatten, getSlot, isBrowser, isNodeVShowFalse } from \"../../_utils/index.mjs\";\nimport { defaultBreakpoints } from \"../../config-provider/src/config.mjs\";\nimport { defaultSpan, gridInjectionKey } from \"./config.mjs\";\nconst defaultCols = 24;\nconst SSR_ATTR_NAME = '__ssr__';\nexport const gridProps = {\n  layoutShiftDisabled: Boolean,\n  responsive: {\n    type: [String, Boolean],\n    default: 'self'\n  },\n  cols: {\n    type: [Number, String],\n    default: defaultCols\n  },\n  itemResponsive: Boolean,\n  collapsed: Boolean,\n  // may create grid rows < collapsedRows since a item may take all the row\n  collapsedRows: {\n    type: Number,\n    default: 1\n  },\n  itemStyle: [Object, String],\n  xGap: {\n    type: [Number, String],\n    default: 0\n  },\n  yGap: {\n    type: [Number, String],\n    default: 0\n  }\n};\nexport default defineComponent({\n  name: 'Grid',\n  inheritAttrs: false,\n  props: gridProps,\n  setup(props) {\n    const {\n      mergedClsPrefixRef,\n      mergedBreakpointsRef\n    } = useConfig(props);\n    const numRegex = /^\\d+$/;\n    const widthRef = ref(undefined);\n    const breakpointsRef = useBreakpoints((mergedBreakpointsRef === null || mergedBreakpointsRef === void 0 ? void 0 : mergedBreakpointsRef.value) || defaultBreakpoints);\n    const isResponsiveRef = useMemo(() => {\n      if (props.itemResponsive) return true;\n      if (!numRegex.test(props.cols.toString())) return true;\n      if (!numRegex.test(props.xGap.toString())) return true;\n      if (!numRegex.test(props.yGap.toString())) return true;\n      return false;\n    });\n    const responsiveQueryRef = computed(() => {\n      if (!isResponsiveRef.value) return undefined;\n      return props.responsive === 'self' ? widthRef.value : breakpointsRef.value;\n    });\n    const responsiveColsRef = useMemo(() => {\n      var _a;\n      return (_a = Number(parseResponsivePropValue(props.cols.toString(), responsiveQueryRef.value))) !== null && _a !== void 0 ? _a : defaultCols;\n    });\n    const responsiveXGapRef = useMemo(() => parseResponsivePropValue(props.xGap.toString(), responsiveQueryRef.value));\n    const responsiveYGapRef = useMemo(() => parseResponsivePropValue(props.yGap.toString(), responsiveQueryRef.value));\n    const handleResize = entry => {\n      widthRef.value = entry.contentRect.width;\n    };\n    const handleResizeRaf = entry => {\n      beforeNextFrameOnce(handleResize, entry);\n    };\n    const overflowRef = ref(false);\n    const handleResizeRef = computed(() => {\n      if (props.responsive === 'self') {\n        return handleResizeRaf;\n      }\n      return undefined;\n    });\n    // for SSR, fix bug https://github.com/tusen-ai/naive-ui/issues/2462\n    const isSsrRef = ref(false);\n    const contentElRef = ref();\n    onMounted(() => {\n      const {\n        value: contentEl\n      } = contentElRef;\n      if (contentEl) {\n        if (contentEl.hasAttribute(SSR_ATTR_NAME)) {\n          contentEl.removeAttribute(SSR_ATTR_NAME);\n          isSsrRef.value = true;\n        }\n      }\n    });\n    provide(gridInjectionKey, {\n      layoutShiftDisabledRef: toRef(props, 'layoutShiftDisabled'),\n      isSsrRef,\n      itemStyleRef: toRef(props, 'itemStyle'),\n      xGapRef: responsiveXGapRef,\n      overflowRef\n    });\n    return {\n      isSsr: !isBrowser,\n      contentEl: contentElRef,\n      mergedClsPrefix: mergedClsPrefixRef,\n      style: computed(() => {\n        if (props.layoutShiftDisabled) {\n          return {\n            width: '100%',\n            display: 'grid',\n            gridTemplateColumns: `repeat(${props.cols}, minmax(0, 1fr))`,\n            columnGap: pxfy(props.xGap),\n            rowGap: pxfy(props.yGap)\n          };\n        }\n        return {\n          width: '100%',\n          display: 'grid',\n          gridTemplateColumns: `repeat(${responsiveColsRef.value}, minmax(0, 1fr))`,\n          columnGap: pxfy(responsiveXGapRef.value),\n          rowGap: pxfy(responsiveYGapRef.value)\n        };\n      }),\n      isResponsive: isResponsiveRef,\n      responsiveQuery: responsiveQueryRef,\n      responsiveCols: responsiveColsRef,\n      handleResize: handleResizeRef,\n      overflow: overflowRef\n    };\n  },\n  render() {\n    if (this.layoutShiftDisabled) {\n      return h('div', mergeProps({\n        ref: 'contentEl',\n        class: `${this.mergedClsPrefix}-grid`,\n        style: this.style\n      }, this.$attrs), this.$slots);\n    }\n    const renderContent = () => {\n      var _a, _b, _c, _d, _e, _f, _g;\n      this.overflow = false;\n      // render will be called twice when mounted, I can't figure out why\n      // 2 jobs will be pushed into job queues with same id, and then be flushed\n      const rawChildren = flatten(getSlot(this));\n      const childrenAndRawSpan = [];\n      const {\n        collapsed,\n        collapsedRows,\n        responsiveCols,\n        responsiveQuery\n      } = this;\n      rawChildren.forEach(child => {\n        var _a, _b, _c, _d, _e;\n        if (((_a = child === null || child === void 0 ? void 0 : child.type) === null || _a === void 0 ? void 0 : _a.__GRID_ITEM__) !== true) return;\n        if (isNodeVShowFalse(child)) {\n          const clonedNode = cloneVNode(child);\n          if (clonedNode.props) {\n            clonedNode.props.privateShow = false;\n          } else {\n            clonedNode.props = {\n              privateShow: false\n            };\n          }\n          childrenAndRawSpan.push({\n            child: clonedNode,\n            rawChildSpan: 0\n          });\n          return;\n        }\n        // We don't want v-show to control display, so we need to stripe it\n        // here, nor it may mess child's style\n        child.dirs = ((_b = child.dirs) === null || _b === void 0 ? void 0 : _b.filter(({\n          dir\n        }) => dir !== vShow)) || null;\n        if (((_c = child.dirs) === null || _c === void 0 ? void 0 : _c.length) === 0) {\n          child.dirs = null;\n        }\n        const clonedChild = cloneVNode(child);\n        const rawChildSpan = Number((_e = parseResponsivePropValue((_d = clonedChild.props) === null || _d === void 0 ? void 0 : _d.span, responsiveQuery)) !== null && _e !== void 0 ? _e : defaultSpan);\n        if (rawChildSpan === 0) return;\n        childrenAndRawSpan.push({\n          child: clonedChild,\n          rawChildSpan\n        });\n      });\n      let suffixSpan = 0;\n      const maybeSuffixNode = (_a = childrenAndRawSpan[childrenAndRawSpan.length - 1]) === null || _a === void 0 ? void 0 : _a.child;\n      if (maybeSuffixNode === null || maybeSuffixNode === void 0 ? void 0 : maybeSuffixNode.props) {\n        const suffixPropValue = (_b = maybeSuffixNode.props) === null || _b === void 0 ? void 0 : _b.suffix;\n        if (suffixPropValue !== undefined && suffixPropValue !== false) {\n          suffixSpan = Number((_d = parseResponsivePropValue((_c = maybeSuffixNode.props) === null || _c === void 0 ? void 0 : _c.span, responsiveQuery)) !== null && _d !== void 0 ? _d : defaultSpan);\n          maybeSuffixNode.props.privateSpan = suffixSpan;\n          maybeSuffixNode.props.privateColStart = responsiveCols + 1 - suffixSpan;\n          maybeSuffixNode.props.privateShow = (_e = maybeSuffixNode.props.privateShow) !== null && _e !== void 0 ? _e : true;\n        }\n      }\n      let spanCounter = 0;\n      let done = false;\n      for (const {\n        child,\n        rawChildSpan\n      } of childrenAndRawSpan) {\n        if (done) {\n          this.overflow = true;\n        }\n        if (!done) {\n          const childOffset = Number((_g = parseResponsivePropValue((_f = child.props) === null || _f === void 0 ? void 0 : _f.offset, responsiveQuery)) !== null && _g !== void 0 ? _g : 0);\n          // it could be 0 sometimes (v-show = false)\n          const childSpan = Math.min(rawChildSpan + childOffset, responsiveCols);\n          if (!child.props) {\n            child.props = {\n              privateSpan: childSpan,\n              privateOffset: childOffset\n            };\n          } else {\n            child.props.privateSpan = childSpan;\n            child.props.privateOffset = childOffset;\n          }\n          if (collapsed) {\n            const remainder = spanCounter % responsiveCols;\n            if (childSpan + remainder > responsiveCols) {\n              spanCounter += responsiveCols - remainder;\n            }\n            if (childSpan + spanCounter + suffixSpan > collapsedRows * responsiveCols) {\n              done = true;\n            } else {\n              spanCounter += childSpan;\n            }\n          }\n        }\n        if (done) {\n          if (child.props) {\n            // suffix node's privateShow may be true\n            if (child.props.privateShow !== true) {\n              child.props.privateShow = false;\n            }\n          } else {\n            child.props = {\n              privateShow: false\n            };\n          }\n        }\n      }\n      return h('div', mergeProps({\n        ref: 'contentEl',\n        class: `${this.mergedClsPrefix}-grid`,\n        style: this.style,\n        [SSR_ATTR_NAME]: this.isSsr || undefined\n      }, this.$attrs), childrenAndRawSpan.map(({\n        child\n      }) => child));\n    };\n    return this.isResponsive && this.responsive === 'self' ? h(VResizeObserver, {\n      onResize: this.handleResize\n    }, {\n      default: renderContent\n    }) : renderContent();\n  }\n});","import { hash } from 'css-render';\nimport { computed, defineComponent, h } from 'vue';\nimport { NBaseIcon } from \"../../_internal/index.mjs\";\nimport { ErrorIcon, InfoIcon, SuccessIcon, WarningIcon } from \"../../_internal/icons/index.mjs\";\nconst iconMap = {\n  success: h(SuccessIcon, null),\n  error: h(ErrorIcon, null),\n  warning: h(WarningIcon, null),\n  info: h(InfoIcon, null)\n};\nexport default defineComponent({\n  name: 'ProgressCircle',\n  props: {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    status: {\n      type: String,\n      required: true\n    },\n    strokeWidth: {\n      type: Number,\n      required: true\n    },\n    fillColor: [String, Object],\n    railColor: String,\n    railStyle: [String, Object],\n    percentage: {\n      type: Number,\n      default: 0\n    },\n    offsetDegree: {\n      type: Number,\n      default: 0\n    },\n    showIndicator: {\n      type: Boolean,\n      required: true\n    },\n    indicatorTextColor: String,\n    unit: String,\n    viewBoxWidth: {\n      type: Number,\n      required: true\n    },\n    gapDegree: {\n      type: Number,\n      required: true\n    },\n    gapOffsetDegree: {\n      type: Number,\n      default: 0\n    }\n  },\n  setup(props, {\n    slots\n  }) {\n    const gradientIdRef = computed(() => {\n      const base = 'gradient';\n      const {\n        fillColor\n      } = props;\n      if (typeof fillColor === 'object') {\n        return `${base}-${hash(JSON.stringify(fillColor))}`;\n      }\n      return base;\n    });\n    function getPathStyles(percent, offsetDegree, strokeColor, type) {\n      const {\n        gapDegree,\n        viewBoxWidth,\n        strokeWidth\n      } = props;\n      const radius = 50;\n      const beginPositionX = 0;\n      const beginPositionY = radius;\n      const endPositionX = 0;\n      const endPositionY = 2 * radius;\n      const centerX = 50 + strokeWidth / 2;\n      const pathString = `M ${centerX},${centerX} m ${beginPositionX},${beginPositionY}\n      a ${radius},${radius} 0 1 1 ${endPositionX},${-endPositionY}\n      a ${radius},${radius} 0 1 1 ${-endPositionX},${endPositionY}`;\n      const len = Math.PI * 2 * radius;\n      const pathStyle = {\n        stroke: type === 'rail' ? strokeColor : typeof props.fillColor === 'object' ? `url(#${gradientIdRef.value})` : strokeColor,\n        strokeDasharray: `${Math.min(percent, 100) / 100 * (len - gapDegree)}px ${viewBoxWidth * 8}px`,\n        strokeDashoffset: `-${gapDegree / 2}px`,\n        transformOrigin: offsetDegree ? 'center' : undefined,\n        transform: offsetDegree ? `rotate(${offsetDegree}deg)` : undefined\n      };\n      return {\n        pathString,\n        pathStyle\n      };\n    }\n    const createGradientNode = () => {\n      const isGradient = typeof props.fillColor === 'object';\n      const from = isGradient ? props.fillColor.stops[0] : '';\n      const to = isGradient ? props.fillColor.stops[1] : '';\n      return isGradient && h(\"defs\", null, h(\"linearGradient\", {\n        id: gradientIdRef.value,\n        x1: \"0%\",\n        y1: \"100%\",\n        x2: \"100%\",\n        y2: \"0%\"\n      }, h(\"stop\", {\n        offset: \"0%\",\n        \"stop-color\": from\n      }), h(\"stop\", {\n        offset: \"100%\",\n        \"stop-color\": to\n      })));\n    };\n    return () => {\n      const {\n        fillColor,\n        railColor,\n        strokeWidth,\n        offsetDegree,\n        status,\n        percentage,\n        showIndicator,\n        indicatorTextColor,\n        unit,\n        gapOffsetDegree,\n        clsPrefix\n      } = props;\n      const {\n        pathString: railPathString,\n        pathStyle: railPathStyle\n      } = getPathStyles(100, 0, railColor, 'rail');\n      const {\n        pathString: fillPathString,\n        pathStyle: fillPathStyle\n      } = getPathStyles(percentage, offsetDegree, fillColor, 'fill');\n      const viewBoxSize = 100 + strokeWidth;\n      return h(\"div\", {\n        class: `${clsPrefix}-progress-content`,\n        role: \"none\"\n      }, h(\"div\", {\n        class: `${clsPrefix}-progress-graph`,\n        \"aria-hidden\": true\n      }, h(\"div\", {\n        class: `${clsPrefix}-progress-graph-circle`,\n        style: {\n          transform: gapOffsetDegree ? `rotate(${gapOffsetDegree}deg)` : undefined\n        }\n      }, h(\"svg\", {\n        viewBox: `0 0 ${viewBoxSize} ${viewBoxSize}`\n      }, createGradientNode(), h(\"g\", null, h(\"path\", {\n        class: `${clsPrefix}-progress-graph-circle-rail`,\n        d: railPathString,\n        \"stroke-width\": strokeWidth,\n        \"stroke-linecap\": \"round\",\n        fill: \"none\",\n        style: railPathStyle\n      })), h(\"g\", null, h(\"path\", {\n        class: [`${clsPrefix}-progress-graph-circle-fill`, percentage === 0 && `${clsPrefix}-progress-graph-circle-fill--empty`],\n        d: fillPathString,\n        \"stroke-width\": strokeWidth,\n        \"stroke-linecap\": \"round\",\n        fill: \"none\",\n        style: fillPathStyle\n      }))))), showIndicator ? h(\"div\", null, slots.default ? h(\"div\", {\n        class: `${clsPrefix}-progress-custom-content`,\n        role: \"none\"\n      }, slots.default()) : status !== 'default' ? h(\"div\", {\n        class: `${clsPrefix}-progress-icon`,\n        \"aria-hidden\": true\n      }, h(NBaseIcon, {\n        clsPrefix: clsPrefix\n      }, {\n        default: () => iconMap[status]\n      })) : h(\"div\", {\n        class: `${clsPrefix}-progress-text`,\n        style: {\n          color: indicatorTextColor\n        },\n        role: \"none\"\n      }, h(\"span\", {\n        class: `${clsPrefix}-progress-text__percentage`\n      }, percentage), h(\"span\", {\n        class: `${clsPrefix}-progress-text__unit`\n      }, unit))) : null);\n    };\n  }\n});","import { computed, defineComponent, h } from 'vue';\nimport { NBaseIcon } from \"../../_internal/index.mjs\";\nimport { ErrorIcon as ErrorCircleIcon, InfoIcon as InfoCircleIcon, SuccessIcon as SuccessCircleIcon, WarningIcon } from \"../../_internal/icons/index.mjs\";\nimport { formatLength } from \"../../_utils/index.mjs\";\nconst iconMap = {\n  success: h(SuccessCircleIcon, null),\n  error: h(ErrorCircleIcon, null),\n  warning: h(WarningIcon, null),\n  info: h(InfoCircleIcon, null)\n};\nexport default defineComponent({\n  name: 'ProgressLine',\n  props: {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    percentage: {\n      type: Number,\n      default: 0\n    },\n    railColor: String,\n    railStyle: [String, Object],\n    fillColor: [String, Object],\n    status: {\n      type: String,\n      required: true\n    },\n    indicatorPlacement: {\n      type: String,\n      required: true\n    },\n    indicatorTextColor: String,\n    unit: {\n      type: String,\n      default: '%'\n    },\n    processing: {\n      type: Boolean,\n      required: true\n    },\n    showIndicator: {\n      type: Boolean,\n      required: true\n    },\n    height: [String, Number],\n    railBorderRadius: [String, Number],\n    fillBorderRadius: [String, Number]\n  },\n  setup(props, {\n    slots\n  }) {\n    const styleHeightRef = computed(() => {\n      return formatLength(props.height);\n    });\n    const styleFillColorRef = computed(() => {\n      var _a, _b;\n      return typeof props.fillColor === 'object' ? `linear-gradient(to right, ${(_a = props.fillColor) === null || _a === void 0 ? void 0 : _a.stops[0]} , ${(_b = props.fillColor) === null || _b === void 0 ? void 0 : _b.stops[1]})` : props.fillColor;\n    });\n    const styleRailBorderRadiusRef = computed(() => {\n      if (props.railBorderRadius !== undefined) {\n        return formatLength(props.railBorderRadius);\n      }\n      if (props.height !== undefined) {\n        return formatLength(props.height, {\n          c: 0.5\n        });\n      }\n      return '';\n    });\n    const styleFillBorderRadiusRef = computed(() => {\n      if (props.fillBorderRadius !== undefined) {\n        return formatLength(props.fillBorderRadius);\n      }\n      if (props.railBorderRadius !== undefined) {\n        return formatLength(props.railBorderRadius);\n      }\n      if (props.height !== undefined) {\n        return formatLength(props.height, {\n          c: 0.5\n        });\n      }\n      return '';\n    });\n    return () => {\n      const {\n        indicatorPlacement,\n        railColor,\n        railStyle,\n        percentage,\n        unit,\n        indicatorTextColor,\n        status,\n        showIndicator,\n        processing,\n        clsPrefix\n      } = props;\n      return h(\"div\", {\n        class: `${clsPrefix}-progress-content`,\n        role: \"none\"\n      }, h(\"div\", {\n        class: `${clsPrefix}-progress-graph`,\n        \"aria-hidden\": true\n      }, h(\"div\", {\n        class: [`${clsPrefix}-progress-graph-line`, {\n          [`${clsPrefix}-progress-graph-line--indicator-${indicatorPlacement}`]: true\n        }]\n      }, h(\"div\", {\n        class: `${clsPrefix}-progress-graph-line-rail`,\n        style: [{\n          backgroundColor: railColor,\n          height: styleHeightRef.value,\n          borderRadius: styleRailBorderRadiusRef.value\n        }, railStyle]\n      }, h(\"div\", {\n        class: [`${clsPrefix}-progress-graph-line-fill`, processing && `${clsPrefix}-progress-graph-line-fill--processing`],\n        style: {\n          maxWidth: `${props.percentage}%`,\n          background: styleFillColorRef.value,\n          height: styleHeightRef.value,\n          lineHeight: styleHeightRef.value,\n          borderRadius: styleFillBorderRadiusRef.value\n        }\n      }, indicatorPlacement === 'inside' ? h(\"div\", {\n        class: `${clsPrefix}-progress-graph-line-indicator`,\n        style: {\n          color: indicatorTextColor\n        }\n      }, slots.default ? slots.default() : `${percentage}${unit}`) : null)))), showIndicator && indicatorPlacement === 'outside' ? h(\"div\", null, slots.default ? h(\"div\", {\n        class: `${clsPrefix}-progress-custom-content`,\n        style: {\n          color: indicatorTextColor\n        },\n        role: \"none\"\n      }, slots.default()) : status === 'default' ? h(\"div\", {\n        role: \"none\",\n        class: `${clsPrefix}-progress-icon ${clsPrefix}-progress-icon--as-text`,\n        style: {\n          color: indicatorTextColor\n        }\n      }, percentage, unit) : h(\"div\", {\n        class: `${clsPrefix}-progress-icon`,\n        \"aria-hidden\": true\n      }, h(NBaseIcon, {\n        clsPrefix: clsPrefix\n      }, {\n        default: () => iconMap[status]\n      }))) : null);\n    };\n  }\n});","import { computed, defineComponent, h } from 'vue';\nfunction circlePath(r, sw, vw = 100) {\n  return `m ${vw / 2} ${vw / 2 - r} a ${r} ${r} 0 1 1 0 ${2 * r} a ${r} ${r} 0 1 1 0 -${2 * r}`;\n}\nexport default defineComponent({\n  name: 'ProgressMultipleCircle',\n  props: {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    viewBoxWidth: {\n      type: Number,\n      required: true\n    },\n    percentage: {\n      type: Array,\n      default: [0]\n    },\n    strokeWidth: {\n      type: Number,\n      required: true\n    },\n    circleGap: {\n      type: Number,\n      required: true\n    },\n    showIndicator: {\n      type: Boolean,\n      required: true\n    },\n    fillColor: {\n      type: Array,\n      default: () => []\n    },\n    railColor: {\n      type: Array,\n      default: () => []\n    },\n    railStyle: {\n      type: Array,\n      default: () => []\n    }\n  },\n  setup(props, {\n    slots\n  }) {\n    const strokeDasharrayRef = computed(() => {\n      const strokeDasharrays = props.percentage.map((v, i) => `${Math.PI * v / 100 * (props.viewBoxWidth / 2 - props.strokeWidth / 2 * (1 + 2 * i) - props.circleGap * i) * 2}, ${props.viewBoxWidth * 8}`);\n      return strokeDasharrays;\n    });\n    const createGradientNode = (p, index) => {\n      const item = props.fillColor[index];\n      const form = typeof item === 'object' ? item.stops[0] : '';\n      const to = typeof item === 'object' ? item.stops[1] : '';\n      return typeof props.fillColor[index] === 'object' && h(\"linearGradient\", {\n        id: `gradient-${index}`,\n        x1: \"100%\",\n        y1: \"0%\",\n        x2: \"0%\",\n        y2: \"100%\"\n      }, h(\"stop\", {\n        offset: \"0%\",\n        \"stop-color\": form\n      }), h(\"stop\", {\n        offset: \"100%\",\n        \"stop-color\": to\n      }));\n    };\n    return () => {\n      const {\n        viewBoxWidth,\n        strokeWidth,\n        circleGap,\n        showIndicator,\n        fillColor,\n        railColor,\n        railStyle,\n        percentage,\n        clsPrefix\n      } = props;\n      return h(\"div\", {\n        class: `${clsPrefix}-progress-content`,\n        role: \"none\"\n      }, h(\"div\", {\n        class: `${clsPrefix}-progress-graph`,\n        \"aria-hidden\": true\n      }, h(\"div\", {\n        class: `${clsPrefix}-progress-graph-circle`\n      }, h(\"svg\", {\n        viewBox: `0 0 ${viewBoxWidth} ${viewBoxWidth}`\n      }, h(\"defs\", null, percentage.map((p, index) => {\n        return createGradientNode(p, index);\n      })), percentage.map((p, index) => {\n        return h(\"g\", {\n          key: index\n        }, h(\"path\", {\n          class: `${clsPrefix}-progress-graph-circle-rail`,\n          d: circlePath(viewBoxWidth / 2 - strokeWidth / 2 * (1 + 2 * index) - circleGap * index, strokeWidth, viewBoxWidth),\n          \"stroke-width\": strokeWidth,\n          \"stroke-linecap\": \"round\",\n          fill: \"none\",\n          style: [{\n            strokeDashoffset: 0,\n            stroke: railColor[index]\n          }, railStyle[index]]\n        }), h(\"path\", {\n          class: [`${clsPrefix}-progress-graph-circle-fill`, p === 0 && `${clsPrefix}-progress-graph-circle-fill--empty`],\n          d: circlePath(viewBoxWidth / 2 - strokeWidth / 2 * (1 + 2 * index) - circleGap * index, strokeWidth, viewBoxWidth),\n          \"stroke-width\": strokeWidth,\n          \"stroke-linecap\": \"round\",\n          fill: \"none\",\n          style: {\n            strokeDasharray: strokeDasharrayRef.value[index],\n            strokeDashoffset: 0,\n            stroke: typeof fillColor[index] === 'object' ? `url(#gradient-${index})` : fillColor[index]\n          }\n        }));\n      })))), showIndicator && slots.default ? h(\"div\", null, h(\"div\", {\n        class: `${clsPrefix}-progress-text`\n      }, slots.default())) : null);\n    };\n  }\n});","import { c, cB, cM } from \"../../../_utils/cssr/index.mjs\";\n// vars\n// --n-bezier\n// --n-fill-color\n// --n-font-size\n// --n-font-size-circle\n// --n-font-weight-circle\n// --n-icon-color\n// --n-icon-size-circle\n// --n-icon-size-line\n// --n-line-bg-processing\n// --n-rail-color\n// --n-rail-height\n// --n-text-color-circle\n// --n-text-color-line-inner\n// --n-text-color-line-outer\nexport default c([cB('progress', {\n  display: 'inline-block'\n}, [cB('progress-icon', `\n color: var(--n-icon-color);\n transition: color .3s var(--n-bezier);\n `), cM('line', `\n width: 100%;\n display: block;\n `, [cB('progress-content', `\n display: flex;\n align-items: center;\n `, [cB('progress-graph', {\n  flex: 1\n})]), cB('progress-custom-content', {\n  marginLeft: '14px'\n}), cB('progress-icon', `\n width: 30px;\n padding-left: 14px;\n height: var(--n-icon-size-line);\n line-height: var(--n-icon-size-line);\n font-size: var(--n-icon-size-line);\n `, [cM('as-text', `\n color: var(--n-text-color-line-outer);\n text-align: center;\n width: 40px;\n font-size: var(--n-font-size);\n padding-left: 4px;\n transition: color .3s var(--n-bezier);\n `)])]), cM('circle, dashboard', {\n  width: '120px'\n}, [cB('progress-custom-content', `\n position: absolute;\n left: 50%;\n top: 50%;\n transform: translateX(-50%) translateY(-50%);\n display: flex;\n align-items: center;\n justify-content: center;\n `), cB('progress-text', `\n position: absolute;\n left: 50%;\n top: 50%;\n transform: translateX(-50%) translateY(-50%);\n display: flex;\n align-items: center;\n color: inherit;\n font-size: var(--n-font-size-circle);\n color: var(--n-text-color-circle);\n font-weight: var(--n-font-weight-circle);\n transition: color .3s var(--n-bezier);\n white-space: nowrap;\n `), cB('progress-icon', `\n position: absolute;\n left: 50%;\n top: 50%;\n transform: translateX(-50%) translateY(-50%);\n display: flex;\n align-items: center;\n color: var(--n-icon-color);\n font-size: var(--n-icon-size-circle);\n `)]), cM('multiple-circle', `\n width: 200px;\n color: inherit;\n `, [cB('progress-text', `\n font-weight: var(--n-font-weight-circle);\n color: var(--n-text-color-circle);\n position: absolute;\n left: 50%;\n top: 50%;\n transform: translateX(-50%) translateY(-50%);\n display: flex;\n align-items: center;\n justify-content: center;\n transition: color .3s var(--n-bezier);\n `)]), cB('progress-content', {\n  position: 'relative'\n}), cB('progress-graph', {\n  position: 'relative'\n}, [cB('progress-graph-circle', [c('svg', {\n  verticalAlign: 'bottom'\n}), cB('progress-graph-circle-fill', `\n stroke: var(--n-fill-color);\n transition:\n opacity .3s var(--n-bezier),\n stroke .3s var(--n-bezier),\n stroke-dasharray .3s var(--n-bezier);\n `, [cM('empty', {\n  opacity: 0\n})]), cB('progress-graph-circle-rail', `\n transition: stroke .3s var(--n-bezier);\n overflow: hidden;\n stroke: var(--n-rail-color);\n `)]), cB('progress-graph-line', [cM('indicator-inside', [cB('progress-graph-line-rail', `\n height: 16px;\n line-height: 16px;\n border-radius: 10px;\n `, [cB('progress-graph-line-fill', `\n height: inherit;\n border-radius: 10px;\n `), cB('progress-graph-line-indicator', `\n background: #0000;\n white-space: nowrap;\n text-align: right;\n margin-left: 14px;\n margin-right: 14px;\n height: inherit;\n font-size: 12px;\n color: var(--n-text-color-line-inner);\n transition: color .3s var(--n-bezier);\n `)])]), cM('indicator-inside-label', `\n height: 16px;\n display: flex;\n align-items: center;\n `, [cB('progress-graph-line-rail', `\n flex: 1;\n transition: background-color .3s var(--n-bezier);\n `), cB('progress-graph-line-indicator', `\n background: var(--n-fill-color);\n font-size: 12px;\n transform: translateZ(0);\n display: flex;\n vertical-align: middle;\n height: 16px;\n line-height: 16px;\n padding: 0 10px;\n border-radius: 10px;\n position: absolute;\n white-space: nowrap;\n color: var(--n-text-color-line-inner);\n transition:\n right .2s var(--n-bezier),\n color .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n `)]), cB('progress-graph-line-rail', `\n position: relative;\n overflow: hidden;\n height: var(--n-rail-height);\n border-radius: 5px;\n background-color: var(--n-rail-color);\n transition: background-color .3s var(--n-bezier);\n `, [cB('progress-graph-line-fill', `\n background: var(--n-fill-color);\n position: relative;\n border-radius: 5px;\n height: inherit;\n width: 100%;\n max-width: 0%;\n transition:\n background-color .3s var(--n-bezier),\n max-width .2s var(--n-bezier);\n `, [cM('processing', [c('&::after', `\n content: \"\";\n background-image: var(--n-line-bg-processing);\n animation: progress-processing-animation 2s var(--n-bezier) infinite;\n `)])])])])])]), c('@keyframes progress-processing-animation', `\n 0% {\n position: absolute;\n left: 0;\n top: 0;\n bottom: 0;\n right: 100%;\n opacity: 1;\n }\n 66% {\n position: absolute;\n left: 0;\n top: 0;\n bottom: 0;\n right: 0;\n opacity: 0;\n }\n 100% {\n position: absolute;\n left: 0;\n top: 0;\n bottom: 0;\n right: 0;\n opacity: 0;\n }\n `)]);","import { computed, defineComponent, h } from 'vue';\nimport { useConfig, useTheme, useThemeClass } from \"../../_mixins/index.mjs\";\nimport { createKey } from \"../../_utils/index.mjs\";\nimport { progressLight } from \"../styles/index.mjs\";\nimport Circle from \"./Circle.mjs\";\nimport Line from \"./Line.mjs\";\nimport MultipleCircle from \"./MultipleCircle.mjs\";\nimport style from \"./styles/index.cssr.mjs\";\nexport const progressProps = Object.assign(Object.assign({}, useTheme.props), {\n  processing: Boolean,\n  type: {\n    type: String,\n    default: 'line'\n  },\n  gapDegree: Number,\n  gapOffsetDegree: Number,\n  status: {\n    type: String,\n    default: 'default'\n  },\n  railColor: [String, Array],\n  railStyle: [String, Array],\n  color: [String, Array, Object],\n  viewBoxWidth: {\n    type: Number,\n    default: 100\n  },\n  strokeWidth: {\n    type: Number,\n    default: 7\n  },\n  percentage: [Number, Array],\n  unit: {\n    type: String,\n    default: '%'\n  },\n  showIndicator: {\n    type: Boolean,\n    default: true\n  },\n  indicatorPosition: {\n    type: String,\n    default: 'outside'\n  },\n  indicatorPlacement: {\n    type: String,\n    default: 'outside'\n  },\n  indicatorTextColor: String,\n  circleGap: {\n    type: Number,\n    default: 1\n  },\n  height: Number,\n  borderRadius: [String, Number],\n  fillBorderRadius: [String, Number],\n  offsetDegree: Number\n});\nexport default defineComponent({\n  name: 'Progress',\n  props: progressProps,\n  setup(props) {\n    const mergedIndicatorPlacementRef = computed(() => {\n      return props.indicatorPlacement || props.indicatorPosition;\n    });\n    const gapDeg = computed(() => {\n      if (props.gapDegree || props.gapDegree === 0) {\n        return props.gapDegree;\n      }\n      if (props.type === 'dashboard') {\n        return 75;\n      }\n      return undefined;\n    });\n    const {\n      mergedClsPrefixRef,\n      inlineThemeDisabled\n    } = useConfig(props);\n    const themeRef = useTheme('Progress', '-progress', style, progressLight, props, mergedClsPrefixRef);\n    const cssVarsRef = computed(() => {\n      const {\n        status\n      } = props;\n      const {\n        common: {\n          cubicBezierEaseInOut\n        },\n        self: {\n          fontSize,\n          fontSizeCircle,\n          railColor,\n          railHeight,\n          iconSizeCircle,\n          iconSizeLine,\n          textColorCircle,\n          textColorLineInner,\n          textColorLineOuter,\n          lineBgProcessing,\n          fontWeightCircle,\n          [createKey('iconColor', status)]: iconColor,\n          [createKey('fillColor', status)]: fillColor\n        }\n      } = themeRef.value;\n      return {\n        '--n-bezier': cubicBezierEaseInOut,\n        '--n-fill-color': fillColor,\n        '--n-font-size': fontSize,\n        '--n-font-size-circle': fontSizeCircle,\n        '--n-font-weight-circle': fontWeightCircle,\n        '--n-icon-color': iconColor,\n        '--n-icon-size-circle': iconSizeCircle,\n        '--n-icon-size-line': iconSizeLine,\n        '--n-line-bg-processing': lineBgProcessing,\n        '--n-rail-color': railColor,\n        '--n-rail-height': railHeight,\n        '--n-text-color-circle': textColorCircle,\n        '--n-text-color-line-inner': textColorLineInner,\n        '--n-text-color-line-outer': textColorLineOuter\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('progress', computed(() => props.status[0]), cssVarsRef, props) : undefined;\n    return {\n      mergedClsPrefix: mergedClsPrefixRef,\n      mergedIndicatorPlacement: mergedIndicatorPlacementRef,\n      gapDeg,\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    };\n  },\n  render() {\n    // it's ok to expand all prop here since no slots' deps\n    const {\n      type,\n      cssVars,\n      indicatorTextColor,\n      showIndicator,\n      status,\n      railColor,\n      railStyle,\n      color,\n      percentage,\n      viewBoxWidth,\n      strokeWidth,\n      mergedIndicatorPlacement,\n      unit,\n      borderRadius,\n      fillBorderRadius,\n      height,\n      processing,\n      circleGap,\n      mergedClsPrefix,\n      gapDeg,\n      gapOffsetDegree,\n      themeClass,\n      $slots,\n      onRender\n    } = this;\n    onRender === null || onRender === void 0 ? void 0 : onRender();\n    return h(\"div\", {\n      class: [themeClass, `${mergedClsPrefix}-progress`, `${mergedClsPrefix}-progress--${type}`, `${mergedClsPrefix}-progress--${status}`],\n      style: cssVars,\n      \"aria-valuemax\": 100,\n      \"aria-valuemin\": 0,\n      \"aria-valuenow\": percentage,\n      role: type === 'circle' || type === 'line' || type === 'dashboard' ? 'progressbar' : 'none'\n    }, type === 'circle' || type === 'dashboard' ? h(Circle, {\n      clsPrefix: mergedClsPrefix,\n      status: status,\n      showIndicator: showIndicator,\n      indicatorTextColor: indicatorTextColor,\n      railColor: railColor,\n      fillColor: color,\n      railStyle: railStyle,\n      offsetDegree: this.offsetDegree,\n      percentage: percentage,\n      viewBoxWidth: viewBoxWidth,\n      strokeWidth: strokeWidth,\n      gapDegree: gapDeg === undefined ? type === 'dashboard' ? 75 : 0 : gapDeg,\n      gapOffsetDegree: gapOffsetDegree,\n      unit: unit\n    }, $slots) : type === 'line' ? h(Line, {\n      clsPrefix: mergedClsPrefix,\n      status: status,\n      showIndicator: showIndicator,\n      indicatorTextColor: indicatorTextColor,\n      railColor: railColor,\n      fillColor: color,\n      railStyle: railStyle,\n      percentage: percentage,\n      processing: processing,\n      indicatorPlacement: mergedIndicatorPlacement,\n      unit: unit,\n      fillBorderRadius: fillBorderRadius,\n      railBorderRadius: borderRadius,\n      height: height\n    }, $slots) : type === 'multiple-circle' ? h(MultipleCircle, {\n      clsPrefix: mergedClsPrefix,\n      strokeWidth: strokeWidth,\n      railColor: railColor,\n      fillColor: color,\n      railStyle: railStyle,\n      viewBoxWidth: viewBoxWidth,\n      percentage: percentage,\n      showIndicator: showIndicator,\n      circleGap: circleGap\n    }, $slots) : null);\n  }\n});","import { iconSwitchTransition } from \"../../../_styles/transitions/icon-switch.cssr.mjs\";\nimport { c, cB, cE, cM, cNotM } from \"../../../_utils/cssr/index.mjs\";\n// vars:\n// --n-bezier\n// --n-button-border-radius\n// --n-button-box-shadow\n// --n-button-color\n// --n-button-width\n// --n-button-width-pressed\n// --n-height\n// --n-offset\n// --n-rail-border-radius\n// --n-rail-color\n// --n-rail-color-active\n// --n-rail-height\n// --n-rail-width\n// --n-width\n// --n-box-shadow-focus\n// --n-loading-color\n// --n-text-color\n// --n-icon-color\nexport default cB('switch', `\n height: var(--n-height);\n min-width: var(--n-width);\n vertical-align: middle;\n user-select: none;\n -webkit-user-select: none;\n display: inline-flex;\n outline: none;\n justify-content: center;\n align-items: center;\n`, [cE('children-placeholder', `\n height: var(--n-rail-height);\n display: flex;\n flex-direction: column;\n overflow: hidden;\n pointer-events: none;\n visibility: hidden;\n `), cE('rail-placeholder', `\n display: flex;\n flex-wrap: none;\n `), cE('button-placeholder', `\n width: calc(1.75 * var(--n-rail-height));\n height: var(--n-rail-height);\n `), cB('base-loading', `\n position: absolute;\n top: 50%;\n left: 50%;\n transform: translateX(-50%) translateY(-50%);\n font-size: calc(var(--n-button-width) - 4px);\n color: var(--n-loading-color);\n transition: color .3s var(--n-bezier);\n `, [iconSwitchTransition({\n  left: '50%',\n  top: '50%',\n  originalTransform: 'translateX(-50%) translateY(-50%)'\n})]), cE('checked, unchecked', `\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n box-sizing: border-box;\n position: absolute;\n white-space: nowrap;\n top: 0;\n bottom: 0;\n display: flex;\n align-items: center;\n line-height: 1;\n `), cE('checked', `\n right: 0;\n padding-right: calc(1.25 * var(--n-rail-height) - var(--n-offset));\n `), cE('unchecked', `\n left: 0;\n justify-content: flex-end;\n padding-left: calc(1.25 * var(--n-rail-height) - var(--n-offset));\n `), c('&:focus', [cE('rail', `\n box-shadow: var(--n-box-shadow-focus);\n `)]), cM('round', [cE('rail', 'border-radius: calc(var(--n-rail-height) / 2);', [cE('button', 'border-radius: calc(var(--n-button-height) / 2);')])]), cNotM('disabled', [cNotM('icon', [cM('rubber-band', [cM('pressed', [cE('rail', [cE('button', 'max-width: var(--n-button-width-pressed);')])]), cE('rail', [c('&:active', [cE('button', 'max-width: var(--n-button-width-pressed);')])]), cM('active', [cM('pressed', [cE('rail', [cE('button', 'left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));')])]), cE('rail', [c('&:active', [cE('button', 'left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));')])])])])])]), cM('active', [cE('rail', [cE('button', 'left: calc(100% - var(--n-button-width) - var(--n-offset))')])]), cE('rail', `\n overflow: hidden;\n height: var(--n-rail-height);\n min-width: var(--n-rail-width);\n border-radius: var(--n-rail-border-radius);\n cursor: pointer;\n position: relative;\n transition:\n opacity .3s var(--n-bezier),\n background .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n background-color: var(--n-rail-color);\n `, [cE('button-icon', `\n color: var(--n-icon-color);\n transition: color .3s var(--n-bezier);\n font-size: calc(var(--n-button-height) - 4px);\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n display: flex;\n justify-content: center;\n align-items: center;\n line-height: 1;\n `, [iconSwitchTransition()]), cE('button', `\n align-items: center; \n top: var(--n-offset);\n left: var(--n-offset);\n height: var(--n-button-height);\n width: var(--n-button-width-pressed);\n max-width: var(--n-button-width);\n border-radius: var(--n-button-border-radius);\n background-color: var(--n-button-color);\n box-shadow: var(--n-button-box-shadow);\n box-sizing: border-box;\n cursor: inherit;\n content: \"\";\n position: absolute;\n transition:\n background-color .3s var(--n-bezier),\n left .3s var(--n-bezier),\n opacity .3s var(--n-bezier),\n max-width .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n `)]), cM('active', [cE('rail', 'background-color: var(--n-rail-color-active);')]), cM('loading', [cE('rail', `\n cursor: wait;\n `)]), cM('disabled', [cE('rail', `\n cursor: not-allowed;\n opacity: .5;\n `)])]);","import { depx, pxfy } from 'seemly';\nimport { useMergedState } from 'vooks';\nimport { computed, defineComponent, h, ref, toRef, watchEffect } from 'vue';\nimport { NBaseLoading, NIconSwitchTransition } from \"../../_internal/index.mjs\";\nimport { useConfig, useFormItem, useTheme, useThemeClass } from \"../../_mixins/index.mjs\";\nimport { call, createKey, isSlotEmpty, resolveWrappedSlot, warnOnce } from \"../../_utils/index.mjs\";\nimport { switchLight } from \"../styles/index.mjs\";\nimport style from \"./styles/index.cssr.mjs\";\nexport const switchProps = Object.assign(Object.assign({}, useTheme.props), {\n  size: {\n    type: String,\n    default: 'medium'\n  },\n  value: {\n    type: [String, Number, Boolean],\n    default: undefined\n  },\n  loading: Boolean,\n  defaultValue: {\n    type: [String, Number, Boolean],\n    default: false\n  },\n  disabled: {\n    type: Boolean,\n    default: undefined\n  },\n  round: {\n    type: Boolean,\n    default: true\n  },\n  'onUpdate:value': [Function, Array],\n  onUpdateValue: [Function, Array],\n  checkedValue: {\n    type: [String, Number, Boolean],\n    default: true\n  },\n  uncheckedValue: {\n    type: [String, Number, Boolean],\n    default: false\n  },\n  railStyle: Function,\n  rubberBand: {\n    type: Boolean,\n    default: true\n  },\n  /** @deprecated */\n  onChange: [Function, Array]\n});\nlet supportCssMax;\nexport default defineComponent({\n  name: 'Switch',\n  props: switchProps,\n  slots: Object,\n  setup(props) {\n    if (process.env.NODE_ENV !== 'production') {\n      watchEffect(() => {\n        if (props.onChange) {\n          warnOnce('switch', '`on-change` is deprecated, please use `on-update:value` instead.');\n        }\n      });\n    }\n    if (supportCssMax === undefined) {\n      if (typeof CSS !== 'undefined') {\n        if (typeof CSS.supports !== 'undefined') {\n          supportCssMax = CSS.supports('width', 'max(1px)');\n        } else {\n          supportCssMax = false;\n        }\n      } else {\n        // If you are using SSR, we assume that you are targeting browsers with\n        // recent versions\n        supportCssMax = true;\n      }\n    }\n    const {\n      mergedClsPrefixRef,\n      inlineThemeDisabled\n    } = useConfig(props);\n    const themeRef = useTheme('Switch', '-switch', style, switchLight, props, mergedClsPrefixRef);\n    const formItem = useFormItem(props);\n    const {\n      mergedSizeRef,\n      mergedDisabledRef\n    } = formItem;\n    const uncontrolledValueRef = ref(props.defaultValue);\n    const controlledValueRef = toRef(props, 'value');\n    const mergedValueRef = useMergedState(controlledValueRef, uncontrolledValueRef);\n    const checkedRef = computed(() => {\n      return mergedValueRef.value === props.checkedValue;\n    });\n    const pressedRef = ref(false);\n    const focusedRef = ref(false);\n    const mergedRailStyleRef = computed(() => {\n      const {\n        railStyle\n      } = props;\n      if (!railStyle) return undefined;\n      return railStyle({\n        focused: focusedRef.value,\n        checked: checkedRef.value\n      });\n    });\n    function doUpdateValue(value) {\n      const {\n        'onUpdate:value': _onUpdateValue,\n        onChange,\n        onUpdateValue\n      } = props;\n      const {\n        nTriggerFormInput,\n        nTriggerFormChange\n      } = formItem;\n      if (_onUpdateValue) call(_onUpdateValue, value);\n      if (onUpdateValue) call(onUpdateValue, value);\n      if (onChange) call(onChange, value);\n      uncontrolledValueRef.value = value;\n      nTriggerFormInput();\n      nTriggerFormChange();\n    }\n    function doFocus() {\n      const {\n        nTriggerFormFocus\n      } = formItem;\n      nTriggerFormFocus();\n    }\n    function doBlur() {\n      const {\n        nTriggerFormBlur\n      } = formItem;\n      nTriggerFormBlur();\n    }\n    function handleClick() {\n      if (props.loading || mergedDisabledRef.value) return;\n      if (mergedValueRef.value !== props.checkedValue) {\n        doUpdateValue(props.checkedValue);\n      } else {\n        doUpdateValue(props.uncheckedValue);\n      }\n    }\n    function handleFocus() {\n      focusedRef.value = true;\n      doFocus();\n    }\n    function handleBlur() {\n      focusedRef.value = false;\n      doBlur();\n      pressedRef.value = false;\n    }\n    function handleKeyup(e) {\n      if (props.loading || mergedDisabledRef.value) return;\n      if (e.key === ' ') {\n        if (mergedValueRef.value !== props.checkedValue) {\n          doUpdateValue(props.checkedValue);\n        } else {\n          doUpdateValue(props.uncheckedValue);\n        }\n        pressedRef.value = false;\n      }\n    }\n    function handleKeydown(e) {\n      if (props.loading || mergedDisabledRef.value) return;\n      if (e.key === ' ') {\n        e.preventDefault();\n        pressedRef.value = true;\n      }\n    }\n    const cssVarsRef = computed(() => {\n      const {\n        value: size\n      } = mergedSizeRef;\n      const {\n        self: {\n          opacityDisabled,\n          railColor,\n          railColorActive,\n          buttonBoxShadow,\n          buttonColor,\n          boxShadowFocus,\n          loadingColor,\n          textColor,\n          iconColor,\n          [createKey('buttonHeight', size)]: buttonHeight,\n          [createKey('buttonWidth', size)]: buttonWidth,\n          [createKey('buttonWidthPressed', size)]: buttonWidthPressed,\n          [createKey('railHeight', size)]: railHeight,\n          [createKey('railWidth', size)]: railWidth,\n          [createKey('railBorderRadius', size)]: railBorderRadius,\n          [createKey('buttonBorderRadius', size)]: buttonBorderRadius\n        },\n        common: {\n          cubicBezierEaseInOut\n        }\n      } = themeRef.value;\n      let offset;\n      let height;\n      let width;\n      if (supportCssMax) {\n        offset = `calc((${railHeight} - ${buttonHeight}) / 2)`;\n        height = `max(${railHeight}, ${buttonHeight})`;\n        width = `max(${railWidth}, calc(${railWidth} + ${buttonHeight} - ${railHeight}))`;\n      } else {\n        offset = pxfy((depx(railHeight) - depx(buttonHeight)) / 2);\n        height = pxfy(Math.max(depx(railHeight), depx(buttonHeight)));\n        width = depx(railHeight) > depx(buttonHeight) ? railWidth : pxfy(depx(railWidth) + depx(buttonHeight) - depx(railHeight));\n      }\n      return {\n        '--n-bezier': cubicBezierEaseInOut,\n        '--n-button-border-radius': buttonBorderRadius,\n        '--n-button-box-shadow': buttonBoxShadow,\n        '--n-button-color': buttonColor,\n        '--n-button-width': buttonWidth,\n        '--n-button-width-pressed': buttonWidthPressed,\n        '--n-button-height': buttonHeight,\n        '--n-height': height,\n        '--n-offset': offset,\n        '--n-opacity-disabled': opacityDisabled,\n        '--n-rail-border-radius': railBorderRadius,\n        '--n-rail-color': railColor,\n        '--n-rail-color-active': railColorActive,\n        '--n-rail-height': railHeight,\n        '--n-rail-width': railWidth,\n        '--n-width': width,\n        '--n-box-shadow-focus': boxShadowFocus,\n        '--n-loading-color': loadingColor,\n        '--n-text-color': textColor,\n        '--n-icon-color': iconColor\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('switch', computed(() => {\n      return mergedSizeRef.value[0];\n    }), cssVarsRef, props) : undefined;\n    return {\n      handleClick,\n      handleBlur,\n      handleFocus,\n      handleKeyup,\n      handleKeydown,\n      mergedRailStyle: mergedRailStyleRef,\n      pressed: pressedRef,\n      mergedClsPrefix: mergedClsPrefixRef,\n      mergedValue: mergedValueRef,\n      checked: checkedRef,\n      mergedDisabled: mergedDisabledRef,\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    };\n  },\n  render() {\n    const {\n      mergedClsPrefix,\n      mergedDisabled,\n      checked,\n      mergedRailStyle,\n      onRender,\n      $slots\n    } = this;\n    onRender === null || onRender === void 0 ? void 0 : onRender();\n    const {\n      checked: checkedSlot,\n      unchecked: uncheckedSlot,\n      icon: iconSlot,\n      'checked-icon': checkedIconSlot,\n      'unchecked-icon': uncheckedIconSlot\n    } = $slots;\n    const hasIcon = !(isSlotEmpty(iconSlot) && isSlotEmpty(checkedIconSlot) && isSlotEmpty(uncheckedIconSlot));\n    return h(\"div\", {\n      role: \"switch\",\n      \"aria-checked\": checked,\n      class: [`${mergedClsPrefix}-switch`, this.themeClass, hasIcon && `${mergedClsPrefix}-switch--icon`, checked && `${mergedClsPrefix}-switch--active`, mergedDisabled && `${mergedClsPrefix}-switch--disabled`, this.round && `${mergedClsPrefix}-switch--round`, this.loading && `${mergedClsPrefix}-switch--loading`, this.pressed && `${mergedClsPrefix}-switch--pressed`, this.rubberBand && `${mergedClsPrefix}-switch--rubber-band`],\n      tabindex: !this.mergedDisabled ? 0 : undefined,\n      style: this.cssVars,\n      onClick: this.handleClick,\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur,\n      onKeyup: this.handleKeyup,\n      onKeydown: this.handleKeydown\n    }, h(\"div\", {\n      class: `${mergedClsPrefix}-switch__rail`,\n      \"aria-hidden\": \"true\",\n      style: mergedRailStyle\n    }, resolveWrappedSlot(checkedSlot, checkedSlotChildren => resolveWrappedSlot(uncheckedSlot, uncheckedSlotChildren => {\n      if (checkedSlotChildren || uncheckedSlotChildren) {\n        return h(\"div\", {\n          \"aria-hidden\": true,\n          class: `${mergedClsPrefix}-switch__children-placeholder`\n        }, h(\"div\", {\n          class: `${mergedClsPrefix}-switch__rail-placeholder`\n        }, h(\"div\", {\n          class: `${mergedClsPrefix}-switch__button-placeholder`\n        }), checkedSlotChildren), h(\"div\", {\n          class: `${mergedClsPrefix}-switch__rail-placeholder`\n        }, h(\"div\", {\n          class: `${mergedClsPrefix}-switch__button-placeholder`\n        }), uncheckedSlotChildren));\n      }\n      return null;\n    })), h(\"div\", {\n      class: `${mergedClsPrefix}-switch__button`\n    }, resolveWrappedSlot(iconSlot, icon => resolveWrappedSlot(checkedIconSlot, checkedIcon => resolveWrappedSlot(uncheckedIconSlot, uncheckedIcon => {\n      return h(NIconSwitchTransition, null, {\n        default: () => this.loading ? h(NBaseLoading, {\n          key: \"loading\",\n          clsPrefix: mergedClsPrefix,\n          strokeWidth: 20\n        }) : this.checked && (checkedIcon || icon) ? h(\"div\", {\n          class: `${mergedClsPrefix}-switch__button-icon`,\n          key: checkedIcon ? 'checked-icon' : 'icon'\n        }, checkedIcon || icon) : !this.checked && (uncheckedIcon || icon) ? h(\"div\", {\n          class: `${mergedClsPrefix}-switch__button-icon`,\n          key: uncheckedIcon ? 'unchecked-icon' : 'icon'\n        }, uncheckedIcon || icon) : null\n      });\n    }))), resolveWrappedSlot(checkedSlot, children => children && h(\"div\", {\n      key: \"checked\",\n      class: `${mergedClsPrefix}-switch__checked`\n    }, children)), resolveWrappedSlot(uncheckedSlot, children => children && h(\"div\", {\n      key: \"unchecked\",\n      class: `${mergedClsPrefix}-switch__unchecked`\n    }, children)))));\n  }\n});","// This file is part of BestCraft.\n// Copyright (C) 2024 Tnze\n//\n// BestCraft is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published\n// by the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// BestCraft is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <https://www.gnu.org/licenses/>.\n\nimport {\n    Actions,\n    Attributes,\n    Jobs,\n    Recipe,\n    RecipeInfo,\n    RecipeLevel,\n} from '@/libs/Craft';\nimport { defineStore } from 'pinia';\nimport useGearsetsStore from '@/stores/gearsets';\n\nexport default defineStore('fco-simulator', {\n    state: () => ({\n        job: Jobs.Alchemist,\n        recipe: <\n            | {\n                  recipe: Recipe;\n                  recipeLevel: RecipeLevel;\n                  recipeInfo: RecipeInfo;\n              }\n            | undefined\n        >undefined,\n        attributes: <Attributes | undefined>(\n            useGearsetsStore().attributes(Jobs.Alchemist)\n        ),\n        rotation: <Actions[]>[],\n    }),\n});\n","<!-- \n    This file is part of BestCraft.\n    Copyright (C) 2024  Tnze\n\n    BestCraft is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Affero General Public License as published\n    by the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    BestCraft is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Affero General Public License for more details.\n\n    You should have received a copy of the GNU Affero General Public License\n    along with this program.  If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<script setup lang=\"ts\">\nimport { NPopover } from 'naive-ui';\nimport { computed, reactive, watchEffect } from 'vue';\nimport Action from '@/components/designer/Action.vue';\nimport {\n    Jobs,\n    Actions,\n    Status,\n    allowedList,\n    craftPointsList,\n    Conditions,\n    LimitedActionState,\n} from '@/libs/Craft';\n\nconst props = defineProps<{\n    job: Jobs;\n    status?: Status;\n    simulatorMode?: boolean;\n    disable?: boolean;\n}>();\n\nconst emit = defineEmits<{\n    (event: 'clickedAction', action: Actions): void;\n    (event: 'mousehoverAction', action: Actions): void;\n    (event: 'mouseleaveAction', action: Actions): void;\n}>();\n\nconst actions: Actions[][] = [\n    [\n        Actions.Reflect,\n        Actions.MuscleMemory,\n        Actions.TrainedEye,\n        Actions.CarefulObservation,\n    ],\n    [\n        Actions.Veneration,\n        Actions.RapidSynthesis,\n        Actions.PrudentSynthesis,\n        Actions.Groundwork,\n        Actions.BasicSynthesis,\n        Actions.CarefulSynthesis,\n    ],\n    [\n        Actions.Innovation,\n        Actions.HastyTouch, // Actions.DaringTouch,\n        Actions.PrudentTouch,\n        Actions.PreparatoryTouch,\n        Actions.BasicTouch,\n        Actions.StandardTouch,\n        Actions.AdvancedTouch,\n        Actions.TrainedFinesse,\n        Actions.GreatStrides,\n        Actions.QuickInnovation,\n        Actions.ByregotsBlessing,\n    ],\n    [\n        Actions.FinalAppraisal,\n        Actions.HeartAndSoul,\n        Actions.TricksOfTheTrade,\n        Actions.IntensiveSynthesis,\n        Actions.PreciseTouch,\n    ],\n    [\n        Actions.MastersMend,\n        Actions.WasteNot,\n        Actions.WasteNotII,\n        Actions.Manipulation,\n        Actions.ImmaculateMend,\n        Actions.TrainedPerfection,\n    ],\n    [Actions.DelicateSynthesis, Actions.Observe],\n];\n\nconst usedActions = computed(() =>\n    actions.map(actions =>\n        actions.map(action => {\n            if (\n                action === Actions.HastyTouch &&\n                props.status != undefined &&\n                props.status.buffs.expedience > 0\n            ) {\n                return Actions.DaringTouch;\n            }\n            return action;\n        }),\n    ),\n);\n\nconst isActived = (action: Actions) => {\n    if (props.status == undefined) return false;\n    switch (action) {\n        case Actions.Reflect:\n        case Actions.MuscleMemory:\n        case Actions.TrainedEye:\n            return props.status.step == 0;\n        case Actions.TricksOfTheTrade:\n        case Actions.IntensiveSynthesis:\n        case Actions.PreciseTouch:\n            return (\n                props.status.condition == Conditions.Good ||\n                props.status.condition == Conditions.Excellent ||\n                props.status.buffs.heart_and_soul == LimitedActionState.Active\n            );\n        case Actions.ByregotsBlessing:\n            return props.status.buffs.inner_quiet > 0;\n        case Actions.RefinedTouch:\n        case Actions.StandardTouch:\n            return props.status.buffs.touch_combo_stage == 1;\n        case Actions.AdvancedTouch:\n            return (\n                props.status.buffs.touch_combo_stage == 2 ||\n                props.status.buffs.observed > 0\n            );\n        case Actions.DaringTouch:\n            return props.status.buffs.expedience > 0;\n    }\n    return false;\n};\n\nconst cachedAllowedList = reactive(new Map<Actions, string>());\nconst cachedCraftPointsList = reactive(new Map<Actions, number>());\n\nwatchEffect(() => {\n    if (props.status == undefined) {\n        cachedAllowedList.clear();\n        return;\n    }\n    const actions = Object.values(Actions);\n    allowedList(props.status, actions).then(result => {\n        actions.forEach((i, v) => {\n            cachedAllowedList.set(i, result[v]);\n        });\n    });\n    craftPointsList(props.status, actions).then(result => {\n        actions.forEach((i, v) => {\n            cachedCraftPointsList.set(i, result[v]);\n        });\n    });\n});\n</script>\n\n<template>\n    <div class=\"container\" @click.stop.prevent.right>\n        <div v-for=\"group in usedActions\" class=\"group\">\n            <n-popover\n                v-for=\"action in group\"\n                :delay=\"100\"\n                :duration=\"0\"\n                :offset=\"30\"\n            >\n                <template #header>{{\n                    $t(action.replaceAll('_', '-'))\n                }}</template>\n                <template #trigger>\n                    <Action\n                        :job=\"job\"\n                        class=\"item\"\n                        @click=\"emit('clickedAction', action)\"\n                        @mouseover=\"emit('mousehoverAction', action)\"\n                        @mouseleave=\"emit('mouseleaveAction', action)\"\n                        :action=\"action\"\n                        :active=\"isActived(action)\"\n                        :effect=\"\n                            !status ||\n                            (!disable && cachedAllowedList.get(action) == 'ok')\n                                ? 'normal'\n                                : 'black'\n                        \"\n                        :cp=\"cachedCraftPointsList.get(action) || undefined\"\n                    />\n                </template>\n                {{ $t('desc-' + action.replaceAll('_', '-')) }}\n            </n-popover>\n        </div>\n    </div>\n</template>\n\n<style scoped>\n.container {\n    box-sizing: border-box;\n    padding: 0 6px 6px 6px;\n}\n\n.group {\n    /* border-bottom: 1px dashed var(--el-border-color); */\n    padding-top: 5px;\n}\n\n.item {\n    transform: scale(0.8);\n    margin: calc(-48px * 0.07);\n}\n</style>\n\n<fluent locale=\"zh-CN\">\naction-panel = \n</fluent>\n\n<fluent locale=\"zh-TW\">\naction-panel = \n</fluent>\n","<!-- \n    This file is part of BestCraft.\n    Copyright (C) 2024  Tnze\n\n    BestCraft is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Affero General Public License as published\n    by the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    BestCraft is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Affero General Public License for more details.\n\n    You should have received a copy of the GNU Affero General Public License\n    along with this program.  If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<script setup lang=\"ts\">\nimport { ref } from 'vue';\nimport { NSelect } from 'naive-ui';\n\nimport { WebSource, YYYYGamesApiBase } from '@/datasource/web-source';\nimport { Enhancer } from '@/libs/Enhancer';\n\nconst dataSource = new WebSource(YYYYGamesApiBase);\nconst enhancers = ref<Enhancer[]>();\nconst loading = ref(false);\n\nconst props = defineProps<{ type: 'meals' | 'medicines' }>();\n\nconst emits = defineEmits<{\n    (event: 'select', v: Enhancer | undefined): void;\n}>();\n\nasync function loadMeals() {\n    let i = 0,\n        v;\n    enhancers.value = [];\n\n    loading.value = true;\n    do {\n        if (v?.next) {\n            v = await v.next();\n        } else {\n            v = await (props.type == 'meals'\n                ? dataSource.mealsTable((i += 1))\n                : dataSource.medicineTable((i += 1)));\n        }\n        enhancers.value = enhancers.value.concat(v.results);\n    } while (i < v.totalPages || v.next);\n    loading.value = false;\n}\nloadMeals();\n\nfunction handleUpdateValue(i: number) {\n    emits('select', enhancers.value ? enhancers.value[i] : undefined);\n}\n</script>\n\n<template>\n    <n-select\n        :placeholder=\"$t('select-meals')\"\n        :options=\"enhancers?.map((v, i) => ({ label: v.name, value: i }))\"\n        @update-value=\"handleUpdateValue\"\n        :loading=\"loading\"\n        clearable\n        remote\n        :reset-menu-on-options-change=\"false\"\n    />\n</template>\n\n<fluent locale=\"zh-CN\">\nselect-meals = { meals }\nselect-medicines = { medicines }\n</fluent>\n\n<fluent locale=\"zh-TW\">\nselect-meals = { meals }\nselect-medicines = { medicines }\n</fluent>\n\n<fluent locale=\"en-US\">\nselect-meals = Select { meals }\nselect-medicines = Select { medicines }\n</fluent>\n\n<fluent locale=\"ja-JP\">\n</fluent>\n","<!-- \n    This file is part of BestCraft.\n    Copyright (C) 2024  Tnze\n\n    BestCraft is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Affero General Public License as published\n    by the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    BestCraft is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Affero General Public License for more details.\n\n    You should have received a copy of the GNU Affero General Public License\n    along with this program.  If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<script setup lang=\"ts\">\nimport { computed, ref, watch } from 'vue';\nimport { NCard, NGrid, NGi } from 'naive-ui';\nimport useFcoSimulatorStore from '../stores/simulator';\nimport useGearsetsStore from '@/stores/gearsets';\nimport MealAndMedicinesSelect from './MealAndMedicinesSelect.vue';\nimport { Enhancer } from '@/libs/Enhancer';\nimport { Attributes } from '@/libs/Craft';\n\nconst gearsetsStore = useGearsetsStore();\nconst store = useFcoSimulatorStore();\n\ndefineProps<{\n    initialQuality?: number;\n    attributs: Attributes;\n}>();\n\nconst emits = defineEmits<{\n    'update:attributs': [Attributes];\n}>();\n\nconst meal = ref<Enhancer>();\nconst medicine = ref<Enhancer>();\n\nconst attributes = computed(() => gearsetsStore.attributes(store.job));\nconst craftsmanshipAddons = ref(0);\nconst controlAddons = ref(0);\nconst craftPointAddons = ref(0);\nwatch(\n    [attributes, meal, medicine],\n    ([{ level, craftsmanship, control, craft_points }, meal, medecine]) => {\n        const enhancers = [];\n        if (meal) enhancers.push(meal);\n        if (medecine) enhancers.push(medecine);\n\n        const sum = (prev: number, curr: number) => prev + curr;\n        craftsmanshipAddons.value = enhancers\n            .filter(v => v.cm && v.cm_max)\n            .map(v => Math.min((craftsmanship * v.cm!) / 100, v.cm_max!))\n            .reduce(sum, 0);\n        controlAddons.value = enhancers\n            .filter(v => v.ct && v.ct_max)\n            .map(v => Math.min((control * v.ct!) / 100, v.ct_max!))\n            .reduce(sum, 0);\n        craftPointAddons.value = enhancers\n            .filter(v => v.cp && v.cp_max)\n            .map(v => Math.min((craft_points * v.cp!) / 100, v.cp_max!))\n            .reduce(sum, 0);\n        // Store\n        emits('update:attributs', {\n            level,\n            craftsmanship: craftsmanship + craftsmanshipAddons.value,\n            control: control + controlAddons.value,\n            craft_points: craft_points + craftPointAddons.value,\n        });\n    },\n);\n</script>\n\n<template>\n    <n-card>\n        <template #header></template>\n        <n-grid x-gap=\"12\" y-gap=\"16\" :cols=\"6\">\n            <n-gi :span=\"3\">\n                <span>{{ $t('meals') }}</span>\n                <MealAndMedicinesSelect\n                    type=\"meals\"\n                    @select=\"v => (meal = v)\"\n                />\n            </n-gi>\n            <n-gi :span=\"3\">\n                <span>{{ $t('medicines') }}</span>\n                <MealAndMedicinesSelect\n                    type=\"medicines\"\n                    @select=\"v => (medicine = v)\"\n                />\n            </n-gi>\n\n            <n-gi :span=\"2\">{{ $t('craftsmanship') }}</n-gi>\n            <n-gi>{{ attributes?.craftsmanship }}</n-gi>\n            <n-gi>+ {{ craftsmanshipAddons }}</n-gi>\n            <n-gi>+ 0</n-gi>\n            <n-gi>= {{ attributs.craftsmanship }}</n-gi>\n\n            <n-gi :span=\"2\">{{ $t('control') }}</n-gi>\n            <n-gi>{{ attributes?.control }}</n-gi>\n            <n-gi>+ {{ controlAddons }}</n-gi>\n            <n-gi>+ 0</n-gi>\n            <n-gi>= {{ attributs.control }}</n-gi>\n\n            <n-gi :span=\"2\">{{ $t('craft-point') }}</n-gi>\n            <n-gi>{{ attributes?.craft_points }}</n-gi>\n            <n-gi>+ {{ craftPointAddons }}</n-gi>\n            <n-gi>+ 0</n-gi>\n            <n-gi>= {{ attributs.craft_points }}</n-gi>\n\n            <n-gi :span=\"2\">{{ $t('initial-quality') }}</n-gi>\n            <n-gi>{{ initialQuality }}</n-gi>\n            <n-gi>+ 0</n-gi>\n            <n-gi>+ 0</n-gi>\n            <n-gi>= {{ initialQuality }}</n-gi>\n        </n-grid>\n    </n-card>\n</template>\n","<!-- \n    This file is part of BestCraft.\n    Copyright (C) 2024  Tnze\n\n    BestCraft is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Affero General Public License as published\n    by the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    BestCraft is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Affero General Public License for more details.\n\n    You should have received a copy of the GNU Affero General Public License\n    along with this program.  If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<script setup lang=\"ts\">\nimport { watchEffect, ref } from 'vue';\nimport { NCard, NProgress, NDivider, NFlex } from 'naive-ui';\n\nimport { Jobs, Status, highQualityProbability } from '@/libs/Craft';\n\nconst props = defineProps<{\n    job?: Jobs;\n    status?: Status;\n    successRate?: number;\n}>();\n\nconst hqRate = ref<number>();\nwatchEffect(async () => {\n    if (props.status) {\n        const v = await highQualityProbability(props.status);\n        hqRate.value = v ?? undefined;\n    }\n});\n</script>\n\n<template>\n    <n-card>\n        <template #header>\n            Lv.{{ status?.attributes.level ?? 0 }}\n            {{ job ? $t(job) : '' }}\n        </template>\n        <span>{{ $t('progress') }}</span>\n        <n-progress\n            type=\"line\"\n            :height=\"24\"\n            :percentage=\"\n                status ? (status.progress / status.recipe.difficulty) * 100 : 0\n            \"\n        >\n            {{ status?.progress ?? 0 }} / {{ status?.recipe.difficulty ?? 0 }}\n        </n-progress>\n        <span>{{ $t('quality') }}</span>\n        <n-progress\n            type=\"line\"\n            :height=\"24\"\n            :percentage=\"\n                status ? (status.quality / status.recipe.quality) * 100 : 0\n            \"\n        >\n            {{ status?.quality ?? 0 }} / {{ status?.recipe.quality ?? 0 }}\n        </n-progress>\n        <span>{{ $t('craft-point') }}</span>\n        <n-progress\n            type=\"line\"\n            :height=\"24\"\n            :percentage=\"\n                status\n                    ? (status.craft_points / status.attributes.craft_points) *\n                      100\n                    : 0\n            \"\n        >\n            {{ status?.craft_points ?? 0 }} /\n            {{ status?.attributes.craft_points ?? 0 }}\n        </n-progress>\n        <n-divider />\n        <n-flex justify=\"space-between\">\n            <span\n                > {{ status?.durability ?? 0 }} /\n                {{ status?.recipe.durability ?? 0 }}</span\n            >\n            <span> {{ hqRate ?? 0 }}%</span>\n            <span> {{ successRate ?? 100 }}%</span>\n        </n-flex>\n    </n-card>\n</template>\n","<!-- \n    This file is part of BestCraft.\n    Copyright (C) 2024  Tnze\n\n    BestCraft is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Affero General Public License as published\n    by the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    BestCraft is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Affero General Public License for more details.\n\n    You should have received a copy of the GNU Affero General Public License\n    along with this program.  If not, see <https://www.gnu.org/licenses/>.\n-->\n<script setup lang=\"ts\">\nimport { NSelect, SelectOption, SelectRenderLabel } from 'naive-ui';\nimport { useFluent } from 'fluent-vue';\n\nimport { Jobs } from '@/libs/Craft';\nimport useFcoSimulatorStore from '../stores/simulator';\n\nconst { $t } = useFluent();\nconst store = useFcoSimulatorStore();\n\nconst options: SelectOption[] = Object.values(Jobs).map(j => ({\n    label: String(j),\n    value: j,\n}));\n\nconst renderTag: SelectRenderLabel = (option, selected) => {\n    return $t(option.label as string);\n};\n</script>\n\n<template>\n    <n-select\n        v-model:value=\"store.job\"\n        :options=\"options\"\n        :render-label=\"renderTag\"\n    ></n-select>\n</template>\n","<!-- \n    This file is part of BestCraft.\n    Copyright (C) 2024  Tnze\n\n    BestCraft is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Affero General Public License as published\n    by the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    BestCraft is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Affero General Public License for more details.\n\n    You should have received a copy of the GNU Affero General Public License\n    along with this program.  If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<script setup lang=\"ts\">\nimport { ref } from 'vue';\nimport {\n    NModal,\n    NCard,\n    NSelect,\n    SelectOption,\n    useMessage,\n    useLoadingBar,\n} from 'naive-ui';\n\nimport useFcoSimulatorStore from '../stores/simulator';\nimport { WebSource, YYYYGamesApiBase } from '@/datasource/web-source';\nimport { RecipesSourceResult } from '@/datasource/source';\nimport { newRecipe, RecipeInfo } from '@/libs/Craft';\nimport JobSelect from './JobSelect.vue';\n\nconst loadingRecipeList = ref(false);\nconst options = ref<SelectOption[]>([]);\nconst store = useFcoSimulatorStore();\nconst message = useMessage();\nconst loadingBar = useLoadingBar();\n\nconst dataSource = new WebSource(YYYYGamesApiBase);\nvar lastResult: RecipesSourceResult | undefined;\nvar currentPage = 1;\nvar currentQuery: string | undefined = undefined;\nvar recipeInfos: Map<number, RecipeInfo> = new Map();\n\nasync function loadOptions() {\n    if (loadingRecipeList.value) {\n        return;\n    }\n    loadingRecipeList.value = true;\n    const query = currentQuery;\n    try {\n        if (!lastResult) {\n            lastResult = await dataSource.recipeTable(currentPage, query);\n        } else if (lastResult.next) {\n            lastResult = await lastResult.next();\n        } else if (currentPage < lastResult.totalPages) {\n            currentPage += 1;\n            lastResult = await dataSource.recipeTable(currentPage, query);\n        } else {\n            return;\n        }\n        if (currentQuery == query) {\n            options.value = options.value.concat(\n                lastResult.results.map(recipe => ({\n                    label: recipe.item_name,\n                    value: recipe.id,\n                })),\n            );\n            for (const recipeInfo of lastResult.results) {\n                recipeInfos.set(recipeInfo.id, recipeInfo);\n            }\n        }\n    } catch (e: any) {\n        message.error(String(e));\n    } finally {\n        if (currentQuery == query) {\n            loadingRecipeList.value = false;\n        }\n    }\n}\nloadOptions();\n\nfunction handleScroll(e: Event) {\n    const currentTarget = e.currentTarget as HTMLElement;\n    if (\n        currentTarget.scrollTop + currentTarget.offsetHeight >=\n        currentTarget.scrollHeight - 100\n    ) {\n        loadOptions();\n    }\n}\n\nfunction setQuery(query: string) {\n    if (currentQuery != query) {\n        lastResult = undefined;\n        currentQuery = query;\n        options.value.splice(0);\n        loadingRecipeList.value = false;\n        loadOptions();\n    }\n}\n\nasync function updateValue(value: number) {\n    const recipeInfo = recipeInfos.get(value);\n    if (recipeInfo == undefined) {\n        message.error('Invalid Selection');\n        return;\n    }\n    try {\n        loadingBar.start();\n        var [recipeLevel, _info] = await Promise.all([\n            dataSource.recipeLevelTable(recipeInfo.rlv),\n            dataSource.itemInfo(recipeInfo.item_id),\n        ]);\n        const recipe = await newRecipe(\n            recipeLevel,\n            recipeInfo.difficulty_factor,\n            recipeInfo.quality_factor,\n            recipeInfo.durability_factor,\n        );\n        store.recipe = { recipe, recipeLevel, recipeInfo };\n        loadingBar.finish();\n    } catch (e: any) {\n        message.error(String(e));\n        loadingBar.error();\n    }\n}\n</script>\n<template>\n    <n-modal style=\"width: 90%\">\n        <n-card>\n            <JobSelect />\n            <n-select\n                :options=\"options\"\n                :loading=\"loadingRecipeList\"\n                :reset-menu-on-options-change=\"false\"\n                @scroll=\"handleScroll\"\n                @search=\"setQuery\"\n                filterable\n                remote\n                :placeholder=\"$t('select-recipe')\"\n                @update-value=\"updateValue\"\n            ></n-select>\n        </n-card>\n    </n-modal>\n</template>\n\n<fluent locale=\"zh-CN\">\nselect-recipe = \n</fluent>\n\n<fluent locale=\"zh-TW\">\nselect-recipe = \n</fluent>\n\n<fluent locale=\"en-US\">\nselect-recipe = Select Recipe\n</fluent>\n\n<fluent locale=\"ja-JP\">\n</fluent>\n","<!-- \n    This file is part of BestCraft.\n    Copyright (C) 2024  Tnze\n\n    BestCraft is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Affero General Public License as published\n    by the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    BestCraft is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Affero General Public License for more details.\n\n    You should have received a copy of the GNU Affero General Public License\n    along with this program.  If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch } from 'vue';\nimport {\n    NSwitch,\n    NDropdown,\n    DropdownOption,\n    NButton,\n    NDivider,\n    NForm,\n    NFormItem,\n} from 'naive-ui';\nimport {\n    Statistics,\n    rand_simulation,\n    calc_attributes_scope,\n    Scope,\n} from '@/libs/Analyzer';\nimport { Actions, Status } from '@/libs/Craft';\nimport * as d3 from 'd3';\nimport { useFluent } from 'fluent-vue';\n\nconst props = defineProps<{\n    initStatus: Status;\n    actions: Actions[];\n}>();\nconst { $t } = useFluent();\nconst defaultSimulationCounts = 1000;\nconst maximiumSimulatonPow = 5;\n\nconst simulationResult = ref<Statistics>();\nconst simulationButtonDisabled = ref(false);\nconst ignoreErrors = ref(true);\nconst attributesScope = ref<Scope>();\n\nconst simulationsDropdownOptions: DropdownOption[] = [];\nfor (let i = 0; i < maximiumSimulatonPow; i++) {\n    const n = 10 ** i;\n    simulationsDropdownOptions.push({\n        label: $t('run-n-times', { n }),\n        key: n,\n    });\n}\n\nasync function runSimulatios(n: number) {\n    simulationResult.value = undefined;\n    simulationButtonDisabled.value = true;\n    try {\n        simulationResult.value = await rand_simulation(\n            props.initStatus,\n            props.actions,\n            n,\n            ignoreErrors.value,\n        );\n    } finally {\n        simulationButtonDisabled.value = false;\n    }\n}\n\nasync function calcScope() {\n    try {\n        attributesScope.value = await calc_attributes_scope(\n            props.initStatus,\n            props.actions,\n        );\n    } catch {}\n}\n\nlet autoRunTimeout: any = null;\nwatch(\n    () => [props.actions, props.initStatus],\n    () => {\n        if (autoRunTimeout !== null) {\n            clearTimeout(autoRunTimeout);\n        }\n        const thisTimeout = setTimeout(async () => {\n            await runSimulatios(defaultSimulationCounts);\n            await calcScope();\n            if (autoRunTimeout == thisTimeout) {\n                autoRunTimeout = null;\n            }\n        }, 200);\n        autoRunTimeout = thisTimeout;\n    },\n);\n\nconst arc = d3\n    .arc<d3.PieArcDatum<[string, number]>>()\n    .innerRadius(50)\n    .outerRadius(200 / 2 - 1);\n\nconst pie = d3\n    .pie<[string, number]>()\n    .sort(null)\n    .value(d => d[1]);\n\nconst color = d3\n    .scaleOrdinal()\n    .domain(['errors', 'unfinished', 'fails', 'normal', 'highqual'])\n    .range(d3.schemeSpectral[5])\n    .unknown('#ccc');\n\nconst arcs = computed(() => {\n    const statistics = simulationResult.value;\n    if (statistics == undefined) return undefined;\n    const data: [string, number][] = Object.entries(statistics).filter(\n        d => d[1] > 0,\n    );\n    return pie(data);\n});\n\nconst labelRadius = (200 / 2 - 1) * 0.75;\nconst arcLabel = d3\n    .arc<d3.PieArcDatum<[string, number]>>()\n    .innerRadius(labelRadius)\n    .outerRadius(labelRadius);\n</script>\n\n<template>\n    <n-form label-placement=\"left\" label-width=\"auto\">\n        <n-form-item :label=\"$t('ignore-errors')\">\n            <n-switch v-model:value=\"ignoreErrors\" />\n        </n-form-item>\n        <n-form-item>\n            <n-dropdown\n                :options=\"simulationsDropdownOptions\"\n                @select=\"runSimulatios\"\n            >\n                <n-button :disabled=\"simulationButtonDisabled\">{{\n                    $t('run-simulations')\n                }}</n-button>\n            </n-dropdown>\n        </n-form-item>\n        <Transition>\n            <n-form-item v-if=\"simulationResult\">\n                <svg\n                    width=\"200\"\n                    height=\"200\"\n                    viewBox=\"-100 -100 200 200\"\n                    style=\"\n                        max-width: 100%;\n                        height: auto;\n                        font: 10px sans-serif;\n                        margin-top: 15px;\n                    \"\n                >\n                    <g>\n                        <path\n                            v-for=\"d in arcs\"\n                            :d=\"arc(d) ?? undefined\"\n                            :fill=\"color(d.data[0]) as string\"\n                            stroke=\"white\"\n                        >\n                            <title>{{ $t(d.data[0]) + '' + d.data[1] }}</title>\n                        </path>\n                    </g>\n                    <g text-anchor=\"middle\">\n                        <text\n                            v-for=\"d in arcs\"\n                            :transform=\"`translate(${arcLabel.centroid(d)})`\"\n                        >\n                            <tspan font-weight=\"bold\" y=\"-0.4em\">\n                                {{ $t(d.data[0]) }}\n                            </tspan>\n                            <tspan\n                                v-if=\"d.endAngle - d.startAngle > 0.1\"\n                                x=\"0\"\n                                y=\"0.7em\"\n                                fill-opacity=\"0.7\"\n                            >\n                                {{ d.data[1] }}\n                            </tspan>\n                        </text>\n                    </g>\n                </svg>\n            </n-form-item>\n        </Transition>\n        <n-divider />\n        <n-form-item>\n            <n-button @click=\"calcScope\">{{ $t('calc-scope') }}</n-button>\n        </n-form-item>\n        <Transition>\n            <n-form-item\n                :label=\"$t('craftsmanship-range')\"\n                v-if=\"attributesScope?.craftsmanship_range\"\n            >\n                {{ attributesScope.craftsmanship_range[0] ?? '' }} ~\n                {{ attributesScope.craftsmanship_range[1] ?? '' }}\n            </n-form-item>\n        </Transition>\n        <Transition>\n            <n-form-item\n                :label=\"$t('control-range')\"\n                v-if=\"attributesScope?.control_range\"\n            >\n                {{ attributesScope.control_range }} ~\n            </n-form-item>\n        </Transition>\n    </n-form>\n</template>\n\n<style scoped>\n.action-queue {\n    margin-left: 0;\n    line-height: 14px;\n}\n\n.v-enter-active,\n.v-leave-active {\n    transition: all 0.5s ease;\n}\n\n.v-enter-from,\n.v-leave-to {\n    opacity: 0;\n}\n</style>\n\n<fluent locale=\"zh-CN\">\nrun-simulations = \nrun-n-times =  { $n } \naction-queue = \nignore-errors = \n\nempty = \n\nerrors = \nunfinished = \nfails = \nnormal = \nhighqual = \n\ncalc-scope = \ncraftsmanship-range = { craftsmanship }\ncontrol-range = { control }\n</fluent>\n\n<fluent locale=\"zh-TW\">\nrun-simulations = \nrun-n-times =  { $n } \naction-queue = \nignore-errors = \n\nempty = \n\nerrors = \nunfinished = \nfails = \nnormal = \nhighqual = \n\ncalc-scope = \ncraftsmanship-range = { craftsmanship }\ncontrol-range = { control }\n</fluent>\n\n<fluent locale=\"en-US\">\nrun-simulations = Run simulations\nrun-n-times = Run simulation { $n } times\naction-queue = Action Queue\nignore-errors = Ignore errors\n\nempty = Empty\n\nerrors = Errors\nunfinished = Unfinished\nfails = Fails\nnormal = Normal\nhighqual = High-quality\n\ncalc-scope = Calculate the range of adaptive gearsets\ncraftsmanship-range = { craftsmanship } range\ncontrol-range = { control } range\n</fluent>\n","<!-- \n    This file is part of BestCraft.\n    Copyright (C) 2024  Tnze\n\n    BestCraft is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Affero General Public License as published\n    by the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    BestCraft is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Affero General Public License for more details.\n\n    You should have received a copy of the GNU Affero General Public License\n    along with this program.  If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<script setup lang=\"ts\">\nimport { NModal, NCard, NTabs, NTabPane } from 'naive-ui';\n</script>\n\n<template>\n    <n-modal>\n        <n-card style=\"width: 600px\">\n            <n-tabs type=\"bar\" animated>\n                <n-tab-pane name=\"dfs-solver\" :tab=\"$t('dfs-solver')\">\n                    TODO\n                </n-tab-pane>\n                <n-tab-pane name=\"dp-solver\" :tab=\"$t('dp-solver')\">\n                    TODO\n                </n-tab-pane>\n                <n-tab-pane name=\"raphael-solver\" :tab=\"$t('raphael-solver')\">\n                    TODO\n                </n-tab-pane>\n            </n-tabs>\n        </n-card>\n    </n-modal>\n</template>\n","<!-- \n    This file is part of BestCraft.\n    Copyright (C) 2024  Tnze\n\n    BestCraft is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Affero General Public License as published\n    by the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    BestCraft is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Affero General Public License for more details.\n\n    You should have received a copy of the GNU Affero General Public License\n    along with this program.  If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<script setup lang=\"ts\">\nimport { computed, reactive } from 'vue';\nimport { NFlex, NCard, NCheckbox, useMessage } from 'naive-ui';\nimport { Actions, calcWaitTime } from '@/libs/Craft';\nimport { useFluent } from 'fluent-vue';\nimport { formatDuration } from '@/libs/Utils';\nimport { isTauri } from '@/libs/Consts';\n\nconst props = defineProps<{\n    actions: Actions[];\n}>();\nconst { $t } = useFluent();\nconst message = useMessage();\n\nconst genOptions = reactive({\n    hasNotify: true, // \n    hasLock: false, // \n    avgSize: true, // \n});\n\nconst chunkedActions = computed(() => {\n    const macros = [];\n    let maxLinesPerChunk = 15;\n    if (genOptions.hasNotify) maxLinesPerChunk--;\n    if (genOptions.hasLock) maxLinesPerChunk--;\n    const minChunks = Math.ceil(props.actions.length / maxLinesPerChunk);\n    const size = props.actions.length / minChunks || 14;\n    for (let sec = 0; sec < minChunks; sec++) {\n        let section: Actions[];\n        if (genOptions.avgSize) {\n            section = props.actions.slice(\n                sec * size,\n                Math.min(props.actions.length, (sec + 1) * size),\n            );\n        } else {\n            const start = sec * maxLinesPerChunk;\n            section = props.actions.slice(\n                start,\n                Math.min(props.actions.length, start + maxLinesPerChunk),\n            );\n        }\n        const lines = [];\n        let totalWaitTime = 0;\n        if (genOptions.hasLock) lines.push(`/mlock`);\n        for (let action of section) {\n            const waitTime = calcWaitTime(action);\n            let actionName = $t(action.replaceAll('_', '-'));\n            if (actionName.includes(' ')) {\n                actionName = `\"${actionName}\"`;\n            }\n            lines.push(`/ac ${actionName} <wait.${waitTime}>`);\n            totalWaitTime += waitTime;\n        }\n        if (genOptions.hasNotify)\n            lines.push(`/echo ${$t('macro-finished', { id: sec + 1 })}<se.1>`);\n        macros.push({ lines, totalWaitTime });\n    }\n    return macros;\n});\n\nconst copyChunk = async (i: number, macro: string[]) => {\n    const macroText = macro.join('\\r\\n').replaceAll(/\\u2068|\\u2069/g, '');\n    if (isTauri) {\n        let { writeText } = await import(\n            '@tauri-apps/plugin-clipboard-manager'\n        );\n        await writeText(macroText);\n    } else {\n        let { useClipboard } = await import('@vueuse/core');\n        useClipboard().copy(macroText);\n    }\n    message.success($t('copied-macro', { id: i + 1 }), {\n        duration: 2000,\n        closable: true,\n    });\n};\n</script>\n\n<template>\n    <n-flex vertical>\n        <n-flex>\n            <n-checkbox\n                v-model:checked=\"genOptions.hasNotify\"\n                :label=\"$t('has-notify')\"\n            />\n            <n-checkbox\n                v-model:checked=\"genOptions.hasLock\"\n                :label=\"$t('has-lock')\"\n            />\n            <n-checkbox\n                v-model:checked=\"genOptions.avgSize\"\n                :label=\"$t('avg-size')\"\n            />\n        </n-flex>\n        <template v-for=\"({ lines, totalWaitTime }, i) in chunkedActions\">\n            <span\n                >{{ $t('macro') }} #{{ i + 1 }} ({{\n                    formatDuration(totalWaitTime * 1e3, 0)\n                }})</span\n            >\n            <n-card class=\"box-card\" @click=\"copyChunk(i, lines)\" hoverable>\n                <span v-for=\"line in lines\">\n                    {{ line }}\n                    <br />\n                </span>\n            </n-card>\n        </template>\n    </n-flex>\n</template>\n\n<style scoped>\n.text {\n    font-size: 14px;\n}\n\n.item {\n    margin-bottom: 18px;\n}\n\n.box-card {\n    cursor: pointer;\n    width: auto;\n}\n</style>\n\n<fluent locale=\"zh-CN\">\nmacro = \nhas-notify = \nhas-lock = \navg-size = \ncopied-macro =  #{ $id } \nmacro-finished = #{ $id } \n</fluent>\n\n<fluent locale=\"zh-TW\">\nmacro = \nhas-notify = \nhas-lock = \navg-size = \ncopied-macro =  #{ $id } \nmacro-finished = #{ $id } \n</fluent>\n\n<fluent locale=\"en-US\">\nmacro = Macro\ncopied-macro = Copied M#{ $id } to system clipboard!\nmacro-finished = M#{ $id } is finished!\n</fluent>\n","<!-- \n    This file is part of BestCraft.\n    Copyright (C) 2024  Tnze\n\n    BestCraft is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Affero General Public License as published\n    by the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    BestCraft is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Affero General Public License for more details.\n\n    You should have received a copy of the GNU Affero General Public License\n    along with this program.  If not, see <https://www.gnu.org/licenses/>.\n-->\n\n<script setup lang=\"ts\">\nimport { ref, reactive, markRaw, watchEffect } from 'vue';\nimport {\n    NGrid,\n    NGi,\n    NMessageProvider,\n    NCard,\n    NTabs,\n    NTabPane,\n    NButton,\n    NFlex,\n    NModalProvider,\n} from 'naive-ui';\nimport ActionQueue from '@/components/designer/ActionQueue.vue';\nimport Buffs from '@/components/designer/Buffs.vue';\nimport {\n    Actions,\n    Attributes,\n    newStatus,\n    simulate,\n    SimulateResult,\n    Status,\n} from '@/libs/Craft';\nimport { Sequence } from '@/components/designer/types';\n\nimport useFcoSimulatorStore from '../stores/simulator';\nimport useGearsetsStore from '@/stores/gearsets';\n\nimport ActionPanel from '../components/ActionPanel.vue';\nimport AttributesVue from '../components/Attributes.vue';\nimport CraftingState from '../components/CraftingState.vue';\nimport RecipeSelect from '../components/RecipeSelect.vue';\nimport Analyzer from '../components/Analyzer.vue';\nimport SolveModal from '../components/SolveModal.vue';\nimport Macros from '../components/Macros.vue';\n\nconst gearsetsStore = useGearsetsStore();\nconst store = useFcoSimulatorStore();\n\n//  Store\nstore.$subscribe((_mutation, state) => {\n    localStorage.setItem('fco-simulator', JSON.stringify(state));\n});\n\nconst rotation = reactive<Sequence>({\n    slots: store.rotation.map((action, id) => ({ id, action })),\n    maxid: store.rotation.length,\n});\nconst attributs = ref<Attributes>(gearsetsStore.attributes(store.job));\nconst initStatus = ref<Status>();\nconst simulateResult = ref<SimulateResult>();\nconst editMode = ref(false);\nconst solverModalShow = ref(false);\nconst selectRecipe = ref(false);\n\n// \nwatchEffect(async () => {\n    if (!store.recipe) {\n        initStatus.value = undefined;\n        return;\n    }\n    try {\n        initStatus.value = await newStatus(\n            attributs.value,\n            store.recipe.recipe,\n            store.recipe.recipeLevel,\n        );\n    } catch (e: any) {\n        console.error(e);\n        initStatus.value = undefined;\n    }\n});\n\n// \nwatchEffect(async () => {\n    if (!initStatus.value) {\n        simulateResult.value = undefined;\n        return;\n    }\n    simulateResult.value = await simulate(\n        initStatus.value,\n        rotation.slots.map(slot => slot.action),\n    );\n});\n\nfunction pushAction(action: Actions) {\n    rotation.slots.push(markRaw({ id: rotation.maxid++, action }));\n}\n\nfunction save() {\n    editMode.value = false;\n    store.rotation = rotation.slots.map(v => v.action);\n}\n</script>\n\n<template>\n    <n-message-provider>\n        <n-grid\n            x-gap=\"20px\"\n            y-gap=\"20px\"\n            :cols=\"12\"\n            item-responsive\n            responsive=\"screen\"\n        >\n            <n-gi span=\"12\">\n                <RecipeSelect v-model:show=\"selectRecipe\" />\n                <n-button @click=\"selectRecipe = true\">{{\n                    ''\n                }}</n-button>\n            </n-gi>\n\n            <n-gi span=\"12 m:6\">\n                <CraftingState\n                    :job=\"store.job\"\n                    :status=\"simulateResult?.status\"\n                />\n            </n-gi>\n            <n-gi span=\"12 m:6\">\n                <AttributesVue v-model:attributs=\"attributs\" />\n            </n-gi>\n\n            <n-gi v-if=\"editMode\" :span=\"12\">\n                <n-card>\n                    <Buffs\n                        v-if=\"simulateResult\"\n                        :buffs=\"simulateResult.status.buffs\"\n                    />\n                </n-card>\n            </n-gi>\n            <n-gi :span=\"12\">\n                <n-card>\n                    <ActionQueue\n                        v-model:list=\"rotation.slots\"\n                        :job=\"store.job\"\n                        :err-list=\"simulateResult?.errors\"\n                        :disabled=\"!editMode\"\n                    />\n                </n-card>\n            </n-gi>\n            <n-gi :span=\"12\">\n                <n-flex>\n                    <template v-if=\"!editMode\">\n                        <n-button type=\"primary\" @click=\"editMode = true\">{{\n                            $t('edit')\n                        }}</n-button>\n                        <n-button\n                            type=\"primary\"\n                            @click=\"solverModalShow = true\"\n                            >{{ $t('solve') }}</n-button\n                        >\n                    </template>\n                    <template v-else>\n                        <n-button type=\"primary\" @click=\"save\">{{\n                            $t('save')\n                        }}</n-button>\n                        <n-button\n                            type=\"warning\"\n                            @click=\"rotation.slots.splice(0)\"\n                            >{{ $t('clear') }}</n-button\n                        >\n                    </template>\n                </n-flex>\n                <n-modal-provider>\n                    <SolveModal v-model:show=\"solverModalShow\" />\n                </n-modal-provider>\n            </n-gi>\n            <n-gi v-if=\"editMode\" :span=\"12\">\n                <ActionPanel\n                    :job=\"store.job\"\n                    :status=\"simulateResult?.status ?? initStatus\"\n                    @clicked-action=\"pushAction\"\n                />\n            </n-gi>\n            <n-gi v-if=\"initStatus\" :span=\"12\">\n                <n-tabs>\n                    <n-tab-pane name=\"random\" :tab=\"$t('random')\">\n                        <Analyzer\n                            :init-status=\"initStatus\"\n                            :actions=\"rotation.slots.map(s => s.action)\"\n                        />\n                    </n-tab-pane>\n                    <n-tab-pane name=\"macro\" :tab=\"$t('macro')\">\n                        <Macros :actions=\"rotation.slots.map(s => s.action)\" />\n                    </n-tab-pane>\n                </n-tabs>\n            </n-gi>\n        </n-grid>\n    </n-message-provider>\n</template>\n\n<style scoped></style>\n\n<fluent locale=\"zh-CN\">\nedit = \nsolve = \n\ncancel = \nsave = \nclear = \n\nrandom = \nmacro = \n</fluent>\n\n<fluent locale=\"zh-TW\">\nedit = \nsolve = \n\ncancel = \nsave = \nclear = \n\nrandom = \nmacro = \n</fluent>\n\n<fluent locale=\"en-US\">\nedit = Edit\nsolve = Solve\n\ncancel = Cancel\nsave = Save\nclear = Clear\n\nrandom = Random\nmacro = Macro\n</fluent>\n"],"file":"Simulator-DP5tk6f9.js"}